# Tá»‘i Æ¯u TrÃ¬nh Tá»± Táº£i Trang (Loading Sequence) â€” Deep Dive

> ğŸ“… 2026-02-15 Â· â± 25 phÃºt Ä‘á»c
>
> Tá»‘i Æ°u trÃ¬nh tá»± táº£i trang web, Má»‘i liÃªn há»‡ giá»¯a tÃ i nguyÃªn vÃ  Web Vitals,
> Critical CSS / Fonts / Images / JavaScript Sequencing,
> First-Party vs Third-Party Resource Management,
> Network & CPU Utilization, HTTP/2 Prioritization,
> Next.js ScriptLoader & Preconnect Strategy
> Äá»™ khÃ³: â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ | Performance / System Design
>
> _Dá»±a trÃªn nghiÃªn cá»©u cá»§a Ä‘á»™i Aurora (Chrome) â€” Shubhie Panicker_

---

## Má»¥c Lá»¥c

| #   | Pháº§n                                         |
| --- | -------------------------------------------- |
| 1   | Tá»•ng quan â€” Táº¡i sao trÃ¬nh tá»± táº£i quan trá»ng? |
| 2   | Táº¡i sao tá»‘i Æ°u trÃ¬nh tá»± táº£i láº¡i KHÃ“?         |
| 3   | Core Web Vitals â€” Má»‘i liÃªn há»‡ vá»›i tÃ i nguyÃªn |
| 4   | PhÃ¢n tÃ­ch tá»«ng loáº¡i tÃ i nguyÃªn               |
| 5   | Báº£ng Æ°u tiÃªn tÃ i nguyÃªn trong Chrome         |
| 6   | TrÃ¬nh tá»± táº£i lÃ½ tÆ°á»Ÿng â€” KHÃ”NG cÃ³ 3P          |
| 7   | TrÃ¬nh tá»± táº£i lÃ½ tÆ°á»Ÿng â€” CÃ“ 3P                |
| 8   | Chiáº¿n lÆ°á»£c tá»‘i Æ°u tá»«ng loáº¡i tÃ i nguyÃªn       |
| 9   | Next.js ScriptLoader â€” Quáº£n lÃ½ 3P            |
| 10  | Sai láº§m thÆ°á»ng gáº·p & CÃ¡ch kháº¯c phá»¥c          |
| 11  | TÃ³m táº¯t phá»ng váº¥n                            |

---

## Â§1. Tá»•ng quan â€” Táº¡i sao trÃ¬nh tá»± táº£i quan trá»ng?

```
Táº I SAO TRÃŒNH Tá»° Táº¢I QUAN TRá»ŒNG?
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Má»—i trang web táº£i THÃ€NH CÃ”NG Ä‘á»u cÃ³ Ä‘áº·c Ä‘iá»ƒm chung:
  â†’ CÃ¡c tÃ i nguyÃªn QUAN TRá»ŒNG sáºµn sÃ ng ÄÃšNG THá»œI ÄIá»‚M!
  â†’ NgÆ°á»i dÃ¹ng cáº£m nháº­n trang táº£i NHANH vÃ  MÆ¯á»¢T!
  â†’ â†’ Káº¿t quáº£: Core Web Vitals Äáº T chuáº©n!

  Má»I LIÃŠN Há»†:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ TrÃ¬nh tá»± táº£i tÃ i nguyÃªn  â†’  Thá»i Ä‘iá»ƒm metric kÃ­ch hoáº¡t â”‚
  â”‚ (Loading Sequence)           (FCP, LCP, FID...)        â”‚
  â”‚                                                        â”‚
  â”‚ VÃ Dá»¤:                                                â”‚
  â”‚ â†’ Trang KHÃ”NG THá»‚ cÃ³ LCP náº¿u hero image CHÆ¯A táº£i!     â”‚
  â”‚ â†’ FID KHÃ”NG THá»‚ tá»‘t náº¿u JS chÆ°a parse xong!          â”‚
  â”‚ â†’ FCP bá»‹ CHáº¬M náº¿u CSS critical chÆ°a sáºµn sÃ ng!         â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Má»¤C TIÃŠU:
  â†’ TÃ i nguyÃªn ÄÃšNG â†’ táº£i á»Ÿ thá»i Ä‘iá»ƒm ÄÃšNG!
  â†’ KhÃ´ng quÃ¡ sá»›m (lÃ£ng phÃ­!) â†’ KhÃ´ng quÃ¡ muá»™n (cháº­m!)
  â†’ TÃ¬m Ä‘iá»ƒm CÃ‚N Báº°NG: "Too little Too late" vs
                          "Too much Too soon"
```

```
DÃ’NG THá»œI GIAN CÃC METRIC:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Thá»i gian â†’
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’

  â”Œâ”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ FCP â”‚â”€â”€â†’â”‚ LCP â”‚â”€â”€â†’â”‚ FID â”‚â”€â”€â†’â”‚ Visually     â”‚
  â”‚     â”‚   â”‚     â”‚   â”‚     â”‚   â”‚ Complete     â”‚
  â””â”€â”€â”¬â”€â”€â”˜   â””â”€â”€â”¬â”€â”€â”˜   â””â”€â”€â”¬â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚         â”‚         â”‚
     â”‚         â”‚         â”‚
     â–¼         â–¼         â–¼
  Critical   Hero      JavaScript
  CSS +      Image +   parsed +
  Fonts      Text      hydrated

  QUY Táº®C: FCP trÆ°á»›c LCP trÆ°á»›c FID!
  â†’ TÃ i nguyÃªn FCP pháº£i Ä‘Æ°á»£c Æ¯U TIÃŠN trÆ°á»›c LCP!
  â†’ TÃ i nguyÃªn LCP pháº£i Ä‘Æ°á»£c Æ°u tiÃªn trÆ°á»›c FID!
```

---

## Â§2. Táº¡i sao tá»‘i Æ°u trÃ¬nh tá»± táº£i láº¡i KHÃ“?

```
6 LÃ DO KHIáº¾N Tá»I Æ¯U TRÃŒNH Tá»° Táº¢I Ráº¤T KHÃ“:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  â‘  TRÃŒNH Tá»° KHÃ”NG Tá»I Æ¯U (Sub-optimal Sequencing):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ â†’ Developer KHÃ”NG BIáº¾T metric nÃ o phá»¥ thuá»™c           â”‚
  â”‚   tÃ i nguyÃªn nÃ o!                                      â”‚
  â”‚ â†’ TÃ i nguyÃªn khÃ´ng Ä‘Æ°á»£c xáº¿p ÄÃšNG THá»¨ Tá»°!             â”‚
  â”‚ â†’ VD: Hero image táº£i SAU JS â†’ LCP bá»‹ cháº­m!           â”‚
  â”‚ â†’ VD: JS táº£i SAU images â†’ FID bá»‹ cháº­m!                â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â‘¡ Sá»¬ Dá»¤NG NETWORK/CPU KHÃ”NG HIá»†U QUáº¢:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Táº£i SONG SONG (concurrent):                            â”‚
  â”‚ â”Œâ”€â”€â”€â”€ Script A â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
  â”‚ â”Œâ”€â”€â”€â”€ Script B â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
  â”‚ â”Œâ”€â”€â”€â”€ Script C â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
  â”‚ CPU: â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ (NHÃ€N Rá»–I!)  â–ˆâ–ˆâ–ˆ (xá»­ lÃ½ táº¥t cáº£)   â”‚
  â”‚ â†’ Bandwidth chia sáº» â†’ tá»•ng thá»i gian GIá»NG NHAU!      â”‚
  â”‚ â†’ CPU chá» TOÃ€N Bá»˜ táº£i xong â†’ "Dead Time"!             â”‚
  â”‚                                                        â”‚
  â”‚ Táº£i TUáº¦N Tá»° (sequential) â€” Tá»T HÆ N:                  â”‚
  â”‚ â”Œâ”€â”€ Script A â”€â”€â”                                       â”‚
  â”‚ CPU: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚â”€â”€ Script B â”€â”€â”                       â”‚
  â”‚                 CPU: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚â”€â”€ Script C â”€â”€â”       â”‚
  â”‚                                 CPU: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ       â”‚
  â”‚ â†’ A táº£i xong â†’ CPU xá»­ lÃ½ A NGAY!                      â”‚
  â”‚ â†’ Network + CPU hoáº¡t Ä‘á»™ng Äá»’NG THá»œI!                   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â‘¢ THÆ¯ VIá»†N BÃŠN THá»¨ BA (3P):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ â†’ 3P = ads, analytics, social widgets, live chat...    â”‚
  â”‚ â†’ 3P KHÃ”NG CÃ“ Äá»˜NG Lá»°C tá»‘i Æ°u cho TRANG Cá»¦A Báº N!    â”‚
  â”‚ â†’ JS cá»§a 3P cÃ³ thá»ƒ Náº¶NG â†’ trÃ¬ hoÃ£n tÆ°Æ¡ng tÃ¡c!        â”‚
  â”‚ â†’ Developer thÆ°á»ng THÃŠM 3P Bá»ªA BÃƒI!                   â”‚
  â”‚ â†’ KhÃ´ng xem xÃ©t áº£nh hÆ°á»Ÿng Ä‘áº¿n loading sequence!        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â‘£ Äáº¶C THÃ™ Ná»€N Táº¢NG (Platform Quirks):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ â†’ Má»—i trÃ¬nh duyá»‡t Æ°u tiÃªn TÃ€I NGUYÃŠN KHÃC NHAU!     â”‚
  â”‚ â†’ VD: Bug cá»§a Chromium vá»›i preload:                    â”‚
  â”‚   â†’ <link rel=preload> LUÃ”N táº£i trÆ°á»›c cÃ¡c request khÃ¡câ”‚
  â”‚     DÃ™ request kia cÃ³ priority CAO HÆ N!               â”‚
  â”‚ â†’ â†’ PhÃ¡ vá»¡ káº¿ hoáº¡ch tá»‘i Æ°u!                           â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â‘¤ Váº¤N Äá»€ HTTP/2 PRIORITIZATION:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ â†’ HTTP/2 cung cáº¥p ÃT tÃ¹y chá»n Ä‘iá»u chá»‰nh thá»© tá»±!    â”‚
  â”‚ â†’ KhÃ´ng dá»± Ä‘oÃ¡n Ä‘Æ°á»£c server/CDN Æ°u tiÃªn tháº¿ nÃ o!      â”‚
  â”‚ â†’ Má»™t sá»‘ CDN sáº¯p xáº¿p Láº I priority!                    â”‚
  â”‚ â†’ Má»™t sá»‘ triá»ƒn khai THIáº¾U SÃ“T hoáº·c KHÃ”NG priority!    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â‘¥ Tá»I Æ¯U Cáº¤P TÃ€I NGUYÃŠN (Resource Level):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ â†’ Critical CSS cáº§n INLINE hÃ³a!                         â”‚
  â”‚ â†’ Images cáº§n ÄÃšNG KÃCH THÆ¯á»šC!                          â”‚
  â”‚ â†’ JS cáº§n CODE-SPLITTING vÃ  táº£i TÄ‚NG Dáº¦N!              â”‚
  â”‚ â†’ Framework thiáº¿u cÆ¡ cháº¿ code-splitting tá»± Ä‘á»™ng!       â”‚
  â”‚ â†’ QuÃ¡ NHIá»€U chunks nhá» â†’ giáº£m nÃ©n + áº£nh hÆ°á»Ÿng perf!   â”‚
  â”‚ â†’ QuÃ¡ ÃT chunks â†’ táº£i thá»«a code!                      â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```
CODE-SPLITTING â€” BÃ€I TOÃN CÃ‚N Báº°NG:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  GRANULARITY cao (nhiá»u chunks nhá»):
  âœ… Giáº£m JS cáº§n táº£i cho má»—i route!
  âœ… Cache tá»‘t hÆ¡n (thay Ä‘á»•i 1 thÆ° viá»‡n â†’ chá»‰ táº£i láº¡i chunk Ä‘Ã³!)
  âŒ Nhiá»u chunks nhá» â†’ tá»‰ lá»‡ nÃ©n THáº¤P!
  âŒ áº¢nh hÆ°á»Ÿng performance trÃ¬nh duyá»‡t!

  GRANULARITY tháº¥p (Ã­t chunks lá»›n):
  âœ… NÃ©n tá»‘t hÆ¡n!
  âœ… Ãt HTTP requests!
  âŒ Táº£i THá»ªA code khÃ´ng cáº§n!
  âŒ Cache kÃ©m (thay Ä‘á»•i nhá» â†’ táº£i láº¡i cáº£ bundle!)

  â†’ Cáº¦N TÃŒM ÄIá»‚M CÃ‚N Báº°NG PHÃ™ Há»¢P!
```

---

## Â§3. Core Web Vitals â€” Má»‘i liÃªn há»‡ vá»›i tÃ i nguyÃªn

```
METRIC â†’ TÃ€I NGUYÃŠN PHá»¤ THUá»˜C:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ FCP          â”‚ First Contentful Paint                    â”‚
  â”‚ (Ná»™i dung    â”‚ â†’ Cáº¦N: Critical CSS + Fonts!             â”‚
  â”‚ Ä‘áº§u tiÃªn)    â”‚ â†’ CHáº¶N Bá»I: 3P sync script trong <head> â”‚
  â”‚              â”‚ â†’ CHáº¶N Bá»I: CSS tá»« domain khÃ¡c (cháº­m!)   â”‚
  â”‚              â”‚ â†’ inline CSS quÃ¡ nhiá»u â†’ bloat HTML!      â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ LCP          â”‚ Largest Contentful Paint                  â”‚
  â”‚ (Ná»™i dung    â”‚ â†’ Cáº¦N: Hero image + Critical text!       â”‚
  â”‚ lá»›n nháº¥t)    â”‚ â†’ Hero image pháº£i Sáº´N SÃ€NG khi FCP xong! â”‚
  â”‚              â”‚ â†’ Placeholder â‰  kÃ­ch thÆ°á»›c thá»±c â†’ LCP     â”‚
  â”‚              â”‚   kÃ­ch hoáº¡t Láº I!                          â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ FID          â”‚ First Input Delay                         â”‚
  â”‚ (Äá»™ trá»…      â”‚ â†’ Cáº¦N: 1P JS Ä‘Ã£ parse + hydrate!         â”‚
  â”‚ tÆ°Æ¡ng tÃ¡c)   â”‚ â†’ Bá»Š CHáº¬M Náº¾U: 3P JS cháº¡y trÆ°á»›c 1P JS! â”‚
  â”‚              â”‚ â†’ Bá»Š CHáº¬M Náº¾U: BTF images táº£i trÆ°á»›c JS!  â”‚
  â”‚              â”‚ â†’ Font thay Ä‘á»•i â†’ layout task Náº¶NG!       â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ CLS          â”‚ Cumulative Layout Shift                   â”‚
  â”‚ (Dá»‹ch chuyá»ƒn â”‚ â†’ Cáº¦N: Images cÃ³ kÃ­ch thÆ°á»›c Sáº´N!         â”‚
  â”‚ bá»‘ cá»¥c)      â”‚ â†’ Font fallback â†’ nháº£y khi font tháº­t tá»›i â”‚
  â”‚              â”‚ â†’ Placeholder â‰  kÃ­ch thÆ°á»›c â†’ layout shift â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```
SÆ  Äá»’ PHá»¤ THUá»˜C â€” TÃ€I NGUYÃŠN â†’ METRIC:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  TÃ i nguyÃªn              Metric bá»‹ áº£nh hÆ°á»Ÿng
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€           â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Critical CSS â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ FCP âœ¦
  Critical Fonts â”€â”€â”€â”€â”€â”€â”€â”€â†’ FCP âœ¦
  3P Sync Script â”€â”€â”€â”€â”€â”€â”€â”€â†’ FCP âœ¦ (cháº·n!)
  Hero Image â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ LCP âœ¦
  ATF Images (unsized) â”€â”€â†’ CLS âœ¦
  Font Fallback â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ CLS âœ¦ + FID âœ¦
  1P JavaScript â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ FID âœ¦
  3P JavaScript â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ FID âœ¦ (trÃ¬ hoÃ£n 1P!)
  BTF Images â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ FID âœ¦ (náº¿u táº£i trÆ°á»›c JS!)

  âœ¦ = áº£nh hÆ°á»Ÿng TRá»°C TIáº¾P!

  QUY Táº®C VÃ€NG:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ â¶ Khi FCP kÃ­ch hoáº¡t â†’ hero image pháº£i Sáº´N SÃ€NG       â”‚
  â”‚    Ä‘á»ƒ kÃ­ch hoáº¡t LCP!                                   â”‚
  â”‚                                                        â”‚
  â”‚ â· Khi LCP kÃ­ch hoáº¡t â†’ JS pháº£i Ä‘Ã£ Táº¢I XONG,           â”‚
  â”‚    ÄÃƒ PARSE vÃ  Sáº´N SÃ€NG cháº¡y Ä‘á»ƒ má»Ÿ khÃ³a FID!        â”‚
  â”‚                                                        â”‚
  â”‚ â¸ Táº¥t cáº£ ATF images pháº£i cÃ³ KÃCH THÆ¯á»šC TRÆ¯á»šC          â”‚
  â”‚    Ä‘á»ƒ trÃ¡nh CLS!                                       â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§4. PhÃ¢n tÃ­ch tá»«ng loáº¡i tÃ i nguyÃªn

### 4.1 Critical CSS

```
CRITICAL CSS â€” KHUYáº¾N NGHá»Š & RÃ€NG BUá»˜C:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Äá»ŠNH NGHÄ¨A:
  â†’ CSS Tá»I THIá»‚U cáº§n cho FCP!
  â†’ Chá»‰ CSS cho ROUTE HIá»†N Táº I!

  âœ… KHUYáº¾N NGHá»Š:
  â†’ INLINE trong HTML (tá»‘t nháº¥t!)
  â†’ Náº¿u khÃ´ng inline â†’ PRELOAD + serve cÃ¹ng origin!
  â†’ TÃ¡ch CSS theo route (code-split CSS!)
  â†’ Æ¯u tiÃªn CSS TRÆ¯á»šC 1P JS vÃ  ATF images trÃªn network!

  âŒ TRÃNH:
  â†’ KHÃ”NG serve critical CSS tá»« NHIá»€U DOMAIN!
  â†’ KHÃ”NG dÃ¹ng trá»±c tiáº¿p 3P CSS (VD: Google Fonts CDN!)
  â†’ â†’ DÃ¹ng server riÃªng lÃ m PROXY cho 3P CSS!

  âš ï¸ Cáº¨N THáº¬N:
  â†’ Inline CSS QUÃ NHIá»€U â†’ HTML phÃ¬nh to â†’ parse cháº­m!
  â†’ â†’ áº¢nh hÆ°á»Ÿng FCP!
  â†’ CSS inline KHÃ”NG cache Ä‘Æ°á»£c!
  â†’ â†’ Workaround: request duplicate CSS (cacheable!)
  â†’ â†’ NhÆ°ng: duplicate CSS â†’ multiple full-page layouts!
  â†’ â†’ â†’ áº¢nh hÆ°á»Ÿng FID!

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ BALANCED APPROACH:                                      â”‚
  â”‚                                                        â”‚
  â”‚ <head>                                                 â”‚
  â”‚   <!-- Inline CHá»ˆ critical CSS -->                     â”‚
  â”‚   <style>                                              â”‚
  â”‚     .hero { ... }                                      â”‚
  â”‚     .nav { ... }                                       â”‚
  â”‚   </style>                                             â”‚
  â”‚                                                        â”‚
  â”‚   <!-- Preload non-critical CSS -->                    â”‚
  â”‚   <link rel="preload" href="rest.css" as="style">     â”‚
  â”‚ </head>                                                â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Fonts

```
FONTS â€” KHUYáº¾N NGHá»Š & RÃ€NG BUá»˜C:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  âœ… KHUYáº¾N NGHá»Š:
  â†’ INLINE font-CSS náº¿u cÃ³ thá»ƒ!
  â†’ Náº¿u tá»« domain khÃ¡c â†’ dÃ¹ng PRECONNECT!
  â†’ VD: <link rel="preconnect" href="https://fonts.gstatic.com">

  âš ï¸ Cáº¨N THáº¬N:
  â†’ Inline TOÃ€N Bá»˜ font (file .woff2) â†’ HTML PHÃŒNH TO!
  â†’ Font fallback â†’ giÃºp FCP nhanh hÆ¡n (text hiá»ƒn thá»‹ sá»›m!)
    NHÆ¯NG:
    â†’ Font fallback â†’ CLS (nháº£y khi font tháº­t Ä‘áº¿n!)
    â†’ Font tháº­t Ä‘áº¿n â†’ style + layout task Náº¶NG trÃªn main thread!
    â†’ â†’ áº¢nh hÆ°á»Ÿng FID!

  CHIáº¾N LÆ¯á»¢C:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ <head>                                                 â”‚
  â”‚   <!-- Inline font-CSS (KHÃ”NG pháº£i file font!) -->    â”‚
  â”‚   <style>                                              â”‚
  â”‚     @font-face {                                       â”‚
  â”‚       font-family: 'MyFont';                           â”‚
  â”‚       src: url('/fonts/myfont.woff2');                 â”‚
  â”‚       font-display: swap; /* hoáº·c optional */         â”‚
  â”‚     }                                                  â”‚
  â”‚   </style>                                             â”‚
  â”‚                                                        â”‚
  â”‚   <!-- Preconnect cho font tá»« domain khÃ¡c -->          â”‚
  â”‚   <link rel="preconnect" href="https://fonts.gstatic.com"â”‚
  â”‚         crossorigin>                                   â”‚
  â”‚ </head>                                                â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 Images â€” ATF vs BTF

```
IMAGES â€” ABOVE THE FOLD (ATF) vs BELOW THE FOLD (BTF):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ VIEWPORT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚           ATF IMAGES (Above The Fold)             â”‚  â”‚
  â”‚  â”‚                                                    â”‚  â”‚
  â”‚  â”‚  â†’ Hiá»ƒn thá»‹ NGAY khi trang táº£i!                   â”‚  â”‚
  â”‚  â”‚  â†’ Hero image = LCP candidate!                    â”‚  â”‚
  â”‚  â”‚  â†’ PHáº¢I cÃ³ kÃ­ch thÆ°á»›c (width/height)!             â”‚  â”‚
  â”‚  â”‚  â†’ Placeholder do SERVER render!                   â”‚  â”‚
  â”‚  â”‚  â†’ KHÃ”NG lazy load!                                â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                                        â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ÄÆ¯á»œNG Gáº¤P â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚           BTF IMAGES (Below The Fold)             â”‚  â”‚
  â”‚  â”‚                                                    â”‚  â”‚
  â”‚  â”‚  â†’ User CHÆ¯A THáº¤Y khi trang táº£i!                 â”‚  â”‚
  â”‚  â”‚  â†’ PHáº¢I lazy load!                                 â”‚  â”‚
  â”‚  â”‚  â†’ KHÃ”NG Ä‘Æ°á»£c cáº¡nh tranh vá»›i 1P JS!               â”‚  â”‚
  â”‚  â”‚  â†’ KHÃ”NG Ä‘Æ°á»£c cáº¡nh tranh vá»›i 3P quan trá»ng!       â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  ATF IMAGES â€” áº¢NH HÆ¯á»NG METRIC:
  â†’ Unsized images â†’ CLS! (dá»‹ch chuyá»ƒn khi render xong!)
  â†’ Hero image cháº­m / placeholder trá»‘ng â†’ LCP muá»™n!
  â†’ Placeholder â‰  kÃ­ch thÆ°á»›c tháº­t â†’ LCP kÃ­ch hoáº¡t Láº I!

  BTF IMAGES â€” áº¢NH HÆ¯á»NG METRIC:
  â†’ Táº£i TRÆ¯á»šC 1P JS hoáº·c 3P quan trá»ng â†’ FID bá»‹ cháº­m!
  â†’ â†’ PHáº¢I lazy load Ä‘á»ƒ nhÆ°á»ng bandwidth!
```

### 4.4 JavaScript â€” 1P vs 3P

```
JAVASCRIPT â€” FIRST-PARTY (1P) vs THIRD-PARTY (3P):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 1P JAVASCRIPT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚ â†’ áº¢nh hÆ°á»Ÿng: kháº£ nÄƒng TÆ¯Æ NG TÃC cá»§a app!              â”‚
  â”‚ â†’ CÃ³ thá»ƒ bá»‹ CHáº¬M trÃªn network bá»Ÿi images & 3P JS!    â”‚
  â”‚ â†’ CÃ³ thá»ƒ bá»‹ CHáº¬M trÃªn main thread bá»Ÿi 3P JS!         â”‚
  â”‚                                                        â”‚
  â”‚ KHUYáº¾N NGHá»Š:                                           â”‚
  â”‚ â†’ Báº¯t Ä‘áº§u táº£i TRÆ¯á»šC ATF images trÃªn network!          â”‚
  â”‚ â†’ Cháº¡y TRÆ¯á»šC 3P JS trÃªn main thread!                  â”‚
  â”‚ â†’ KHÃ”NG cháº·n FCP/LCP náº¿u trang SSR!                   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 3P JAVASCRIPT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚ â†’ 3P sync script trong <head> â†’ CHáº¶N CSS & font parse â”‚
  â”‚   â†’ CHáº¶N FCP!                                         â”‚
  â”‚ â†’ 3P sync script â†’ CHáº¶N HTML body parsing!            â”‚
  â”‚ â†’ 3P cháº¡y trÃªn main thread â†’ CHáº¬M 1P execution!      â”‚
  â”‚ â†’ â†’ TrÃ¬ hoÃ£n hydration â†’ TrÃ¬ hoÃ£n FID!               â”‚
  â”‚                                                        â”‚
  â”‚ KHUYáº¾N NGHá»Š:                                           â”‚
  â”‚ â†’ Cáº¦N kiá»ƒm soÃ¡t Tá»T HÆ N khi táº£i 3P scripts!         â”‚
  â”‚ â†’ DÃ¹ng async/defer phÃ¹ há»£p!                           â”‚
  â”‚ â†’ DÃ¹ng ScriptLoader (Next.js!) Ä‘á»ƒ scheduling!         â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§5. Báº£ng Æ°u tiÃªn tÃ i nguyÃªn trong Chrome

```
CHROME â€” Báº¢NG Æ¯U TIÃŠN TÃ€I NGUYÃŠN:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Loáº¡i tÃ i nguyÃªn      â”‚ Priority â”‚ Network â”‚ Ghi chÃº    â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ CSS (trong <head>)   â”‚ Highest  â”‚ Highest â”‚ FCP blockingâ”‚
  â”‚ Fonts                â”‚ Highest  â”‚ Highest â”‚ FCP blockingâ”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Script (blocking,    â”‚ High     â”‚ High    â”‚ TrÆ°á»›c firstâ”‚
  â”‚ trÆ°á»›c first image)   â”‚          â”‚         â”‚ image      â”‚
  â”‚ Script (blocking,    â”‚ Medium   â”‚ Medium  â”‚ Sau first  â”‚
  â”‚ sau first image)     â”‚          â”‚         â”‚ image      â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Script (async/defer) â”‚ Low      â”‚ Lowest  â”‚ Báº¥t ká»ƒ    â”‚
  â”‚                      â”‚          â”‚         â”‚ vá»‹ trÃ­!    â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Images (trong        â”‚ Medium   â”‚ Medium  â”‚ ATF        â”‚
  â”‚ viewport)            â”‚          â”‚         â”‚            â”‚
  â”‚ Images (ngoÃ i        â”‚ Low      â”‚ Lowest  â”‚ BTF        â”‚
  â”‚ viewport)            â”‚          â”‚         â”‚            â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  ÄIá»‚M QUAN TRá»ŒNG:
  â‘  CSS + Fonts = HIGHEST â†’ giÃºp Æ°u tiÃªn cho FCP!
  â‘¡ Script BLOCKING trÆ°á»›c first image > sau first image!
  â‘¢ async/defer = LOWEST â†’ dÃ¹ng Ä‘á»ƒ Háº  Æ°u tiÃªn script!
  â‘£ ATF images (Medium) > BTF images (Lowest)!
  â†’ â†’ GiÃºp Æ°u tiÃªn hero image + lazy load BTF!
```

---

## Â§6. TrÃ¬nh tá»± táº£i lÃ½ tÆ°á»Ÿng â€” KHÃ”NG cÃ³ 3P

```
TRÃŒNH Tá»° Táº¢I LÃ TÆ¯á»NG (KHÃ”NG 3P):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Sá»° KIá»†N TRÃŠN MAIN THREAD          REQUESTS TRÃŠN NETWORK
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•          â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  â‘  Parse HTML                     â¶ Small inline 1P scripts
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â‘¡ Cháº¡y small inline              â· Critical CSS (inline
     1P scripts                       hoáº·c preload)
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â¸ Critical Fonts (inline
  â‘¢ Parse tÃ i nguyÃªn FCP               hoáº·c preconnect)
     (critical CSS + fonts)         â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â¹ LCP Image (preconnect
  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—               náº¿u domain khÃ¡c)
  â•‘      F C P        â•‘             âº Fonts (tá»« inline
  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•               font-css, preconnect)
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â‘£ Render LCP resources            â» Non-critical CSS (async)
     (hero image + text)            â¼ 1P JS cho interactivity
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â½ ATF images (preconnect)
  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—             â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â•‘      L C P        â•‘             â¾ BTF images
  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•             â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â‘¤ Render ATF images
     quan trá»ng
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
  â•‘  Visually Completeâ•‘
  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â‘¥ Parse non-critical
     CSS (async)
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â‘¦ Cháº¡y 1P JS +                   â¿ Lazy-loaded JS chunks
     Hydrate
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
  â•‘      F I D        â•‘
  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

```
GIáº¢I THÃCH TRÃŒNH Tá»°:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  â‘  Táº I SAO non-critical CSS táº£i TRÆ¯á»šC FID?
  â†’ Náº¿u táº£i SAU FID â†’ CSS render sau â†’ styling Bá»Š Lá»–I!
  â†’ User tháº¥y giao diá»‡n CHÆ¯A HOÃ€N CHá»ˆNH khi tÆ°Æ¡ng tÃ¡c!

  â‘¡ Táº I SAO 1P JS táº£i TRÆ¯á»šC ATF images trÃªn network?
  â†’ JS cáº§n thá»i gian DOWNLOAD + PARSE!
  â†’ Trong lÃºc parse JS â†’ download ATF images SONG SONG!
  â†’ â†’ Táº­n dá»¥ng cáº£ Network VÃ€ CPU!

  â‘¢ Táº I SAO trÃ¡nh dÃ¹ng preload quÃ¡ nhiá»u?
  â†’ Preload BUá»˜C pháº£i thÃªm vÃ o Má»ŒI resource trÆ°á»›c Ä‘Ã³!
  â†’ GÃ¢y ra curation THá»¦ CÃ”NG phá»©c táº¡p!
  â†’ Äáº·c biá»‡t TRÃNH preload fonts (khÃ³ detect critical fonts!)

  â‘£ PRECONNECT nÃªn dÃ¹ng cho:
  â†’ Táº¤T Cáº¢ resources tá»« domain KHÃC!
  â†’ Thiáº¿t láº­p connection TRÆ¯á»šC â†’ giáº£m latency!

  â‘¤ Táº I SAO download tuáº§n tá»± tá»‘t hÆ¡n song song (cho scripts)?
  â†’ Tuáº§n tá»±: CPU xá»­ lÃ½ script A ngay khi táº£i xong!
  â†’ Song song: CPU CHá»œÃ˜ táº¥t cáº£ táº£i xong â†’ má»›i xá»­ lÃ½!
  â†’ â†’ Tuáº§n tá»± táº­n dá»¥ng CPU + Network Äá»’NG THá»œI!
```

---

## Â§7. TrÃ¬nh tá»± táº£i lÃ½ tÆ°á»Ÿng â€” CÃ“ 3P

```
TRÃŒNH Tá»° Táº¢I LÃ TÆ¯á»NG (CÃ“ 3P):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  #  Sá»° KIá»†N MAIN THREAD       NETWORK REQUESTS
  â”€â”€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  1  Parse HTML                 3P blocking FCP (preconnect!)
  2                             (chá» 3P táº£i...)
  3                             Small inline 1P scripts
  4  Cháº¡y small inline 1P      Critical CSS (inline/preload)
  5  Parse 3P blocking FCP      Critical Fonts (inline/preconn)
  6  Parse FCP resources        3P ATF image cho LCP(preconn!)
  â”€â”€ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—      LCP Image (preconnect!)
  7  â•‘      F C P        â•‘      Fonts (tá»« inline font-css)
     â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  8  Render 3P ATF image        Non-critical CSS (async)
  9                             3P pháº£i cháº¡y TRÆ¯á»šC FID
  10 Render LCP resources       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  11                            1P JS cho interactivity
  â”€â”€ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  12 â•‘      L C P        â•‘      Default 3P JS
     â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  13 Render ATF images          BTF images
  14 Parse non-critical CSS     Lazy-loaded JS chunks
  15 Cháº¡y 3P cáº§n cho FID        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  16 Cháº¡y 1P JS + Hydrate      3P JS Ã­t quan trá»ng
  â”€â”€ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
     â•‘      F I D        â•‘
     â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  PRECONNECT CHO CÃC 3P:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ #1  â€” 3P blocking FCP (VD: consent management!)       â”‚
  â”‚ #6  â€” 3P ATF image cho LCP                            â”‚
  â”‚ #9  â€” 3P pháº£i cháº¡y trÆ°á»›c tÆ°Æ¡ng tÃ¡c                    â”‚
  â”‚ #12 â€” Default 3P JS                                    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```
SÆ  Äá»’ TRá»°C QUAN â€” TIMELINE:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Thá»i gian â†’
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â†’

  NETWORK:
  â–“â–“â–“â–“â–“ 3P-FCP   â–‘â–‘â–‘ CSS  â–‘â–‘ Font
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–“â–“â–“â–“â–“â–“â–“â–“â–“ Hero Image
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–“â–“â–“â–“â–“â–“â–“ 1P JS
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–’â–’â–’â–’â–’ 3P JS
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–‘â–‘â–‘ BTF Imgs

  MAIN THREAD:
  â–ˆâ–ˆ Parse HTML
  â”€â”€â–ˆâ–ˆ Inline JS
  â”€â”€â”€â”€â–ˆâ–ˆ Parse 3P-FCP
  â”€â”€â”€â”€â”€â”€â–ˆâ–ˆ Parse CSS+Font
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â•‘FCPâ•‘
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ˆâ–ˆ Render Hero
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•‘LCPâ•‘
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ˆâ–ˆ Parse non-crit CSS
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ˆâ–ˆ 3P pre-FID
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ˆâ–ˆâ–ˆâ–ˆ 1P JS + Hydrate
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•‘FIDâ•‘

  â–“ = download   â–ˆ = CPU processing   â•‘â•‘ = metric fired
```

---

## Â§8. Chiáº¿n lÆ°á»£c tá»‘i Æ°u tá»«ng loáº¡i tÃ i nguyÃªn

```
CHIáº¾N LÆ¯á»¢C Tá»I Æ¯U â€” Tá»”NG Há»¢P:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ TÃ€I NGUYÃŠN    â”‚ CHIáº¾N LÆ¯á»¢C                                â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Critical CSS   â”‚ â€¢ INLINE trong HTML!                      â”‚
  â”‚                â”‚ â€¢ TÃ¡ch CSS theo route!                    â”‚
  â”‚                â”‚ â€¢ Serve cÃ¹ng origin!                      â”‚
  â”‚                â”‚ â€¢ Æ¯u tiÃªn trÆ°á»›c 1P JS + ATF images!      â”‚
  â”‚                â”‚ â€¢ KhÃ´ng inline quÃ¡ nhiá»u (bloat HTML!)    â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Fonts          â”‚ â€¢ Inline font-CSS (KHÃ”NG inline font file)â”‚
  â”‚                â”‚ â€¢ Preconnect cho font domain khÃ¡c!        â”‚
  â”‚                â”‚ â€¢ font-display: swap hoáº·c optional!       â”‚
  â”‚                â”‚ â€¢ CÃ¢n nháº¯c font-fallback vs CLS!         â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Hero Image     â”‚ â€¢ Preconnect náº¿u domain khÃ¡c!             â”‚
  â”‚                â”‚ â€¢ LuÃ´n set width + height!                â”‚
  â”‚                â”‚ â€¢ Server render placeholder!              â”‚
  â”‚                â”‚ â€¢ Placeholder PHáº¢I = kÃ­ch thÆ°á»›c tháº­t!     â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ ATF Images     â”‚ â€¢ PHáº¢I cÃ³ kÃ­ch thÆ°á»›c (trÃ¡nh CLS!)        â”‚
  â”‚                â”‚ â€¢ KHÃ”NG lazy load!                        â”‚
  â”‚                â”‚ â€¢ Server render placeholder!              â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ BTF Images     â”‚ â€¢ PHáº¢I lazy load!                         â”‚
  â”‚                â”‚ â€¢ DÃ¹ng loading="lazy" hoáº·c IO!            â”‚
  â”‚                â”‚ â€¢ KhÃ´ng cáº¡nh tranh vá»›i 1P JS!             â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ 1P JavaScript  â”‚ â€¢ Táº£i TRÆ¯á»šC ATF images trÃªn network!      â”‚
  â”‚                â”‚ â€¢ Cháº¡y TRÆ¯á»šC 3P JS trÃªn main thread!      â”‚
  â”‚                â”‚ â€¢ Code-split theo route!                   â”‚
  â”‚                â”‚ â€¢ Lazy load chunks khÃ´ng critical!        â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ 3P JavaScript  â”‚ â€¢ KHÃ”NG sync script trong <head>!         â”‚
  â”‚                â”‚ â€¢ DÃ¹ng async/defer phÃ¹ há»£p!              â”‚
  â”‚                â”‚ â€¢ Preconnect cho 3P domain!               â”‚
  â”‚                â”‚ â€¢ DÃ¹ng ScriptLoader (Next.js!)            â”‚
  â”‚                â”‚ â€¢ PhÃ¢n loáº¡i: before/after interactive!    â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Non-critical   â”‚ â€¢ Táº£i ASYNC!                              â”‚
  â”‚ CSS            â”‚ â€¢ Táº£i TRÆ¯á»šC FID (trÃ¡nh styling lá»—i!)     â”‚
  â”‚                â”‚ â€¢ DÃ¹ng media queries cho tÃ¡ch CSS!        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§9. Next.js ScriptLoader â€” Quáº£n lÃ½ 3P

```
NEXT.JS SCRIPT LOADER â€” 3 Má»¨C Äá»˜ Æ¯U TIÃŠN:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ beforeInteractiveâ”‚ Táº£i TRÆ¯á»šC hydration!                 â”‚
  â”‚                  â”‚ â†’ 3P script cháº¡y TRÆ¯á»šC 1P JS!       â”‚
  â”‚                  â”‚ â†’ VD: polyfill.io, bot detection,    â”‚
  â”‚                  â”‚   báº£o máº­t, xÃ¡c thá»±c, GDPR consent!  â”‚
  â”‚                  â”‚ â†’ âš ï¸ Cáº©n tháº­n: cÃ³ thá»ƒ cháº­m FID!    â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ afterInteractive â”‚ Táº£i SAU hydration!                   â”‚
  â”‚ (Máº¶C Äá»ŠNH)       â”‚ â†’ 3P script cháº¡y SAU 1P JS!        â”‚
  â”‚                  â”‚ â†’ VD: Tag Manager, Ads, Analytics!  â”‚
  â”‚                  â”‚ â†’ âœ… KhÃ´ng áº£nh hÆ°á»Ÿng FID!           â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ lazyOnload       â”‚ Táº£i KHI NHÃ€N Rá»–I!                    â”‚
  â”‚                  â”‚ â†’ Æ¯u tiÃªn THáº¤P NHáº¤T!                â”‚
  â”‚                  â”‚ â†’ VD: CRM, Google Feedback,          â”‚
  â”‚                  â”‚   nÃºt share, bÃ¬nh luáº­n máº¡ng XH!     â”‚
  â”‚                  â”‚ â†’ âœ… KhÃ´ng áº£nh hÆ°á»Ÿng gÃ¬!            â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```jsx
// â•â•â• NEXT.JS SCRIPT LOADER â€” VÃ Dá»¤ â•â•â•

import Script from "next/script";

function MyApp() {
  return (
    <>
      {/* â‘  TRÆ¯á»šC hydration â€” GDPR Consent */}
      <Script
        src="https://consent.cookiebot.com/uc.js"
        strategy="beforeInteractive"
      />

      {/* â‘¡ SAU hydration â€” Google Analytics */}
      <Script
        src="https://www.googletagmanager.com/gtag/js?id=GA_ID"
        strategy="afterInteractive"
      />

      {/* â‘¢ Khi nhÃ n rá»—i â€” Facebook SDK */}
      <Script
        src="https://connect.facebook.net/en_US/sdk.js"
        strategy="lazyOnload"
      />
    </>
  );
}

// Káº¾T Há»¢P Vá»šI PRECONNECT:
// <Head>
//   <link rel="preconnect" href="https://consent.cookiebot.com" />
//   <link rel="preconnect" href="https://www.googletagmanager.com" />
// </Head>
```

```
SÆ  Äá»’ SCRIPTLOADER TRÃŠN TIMELINE:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Thá»i gian â†’

  HTML Parse â”€â”€â†’ FCP â”€â”€â†’ LCP â”€â”€â†’ Hydration â”€â”€â†’ FID â”€â”€â†’ Idle
                                     â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ beforeInteractive  â–“â–“â–“â–“â–“â–“â–“â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚
  â”‚ (táº£i + cháº¡y TRÆ¯á»šC hydration!)  â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ afterInteractive         â–“â–“â–“â–“â–“â–“â–“â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
  â”‚ (táº£i + cháº¡y SAU hydration!)
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ lazyOnload                                â–“â–“â–“â–“â–“â–“â–ˆâ–ˆâ–ˆ
  â”‚ (táº£i + cháº¡y khi NHÃ€N Rá»–I!)
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â–“ = download   â–ˆ = execute
```

---

## Â§10. Sai láº§m thÆ°á»ng gáº·p & CÃ¡ch kháº¯c phá»¥c

```
SAI Láº¦M THÆ¯á»œNG Gáº¶P:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  âŒ SAI Láº¦M 1: 3P sync script trong <head>
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ <!-- âŒ CHáº¶N má»i thá»©! -->                              â”‚
  â”‚ <head>                                                 â”‚
  â”‚   <script src="https://3p.com/script.js"></script>     â”‚
  â”‚ </head>                                                â”‚
  â”‚                                                        â”‚
  â”‚ â†’ CHáº¶N CSS + font parsing â†’ FCP cháº­m!                 â”‚
  â”‚ â†’ CHáº¶N HTML body parsing!                              â”‚
  â”‚                                                        â”‚
  â”‚ âœ… FIX: async/defer hoáº·c ScriptLoader!                 â”‚
  â”‚ <script async src="https://3p.com/script.js"></script> â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  âŒ SAI Láº¦M 2: Hero image KHÃ”NG Ä‘Æ°á»£c Æ°u tiÃªn
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ â†’ Hero image táº£i CHUNG vá»›i 20 images khÃ¡c!             â”‚
  â”‚ â†’ Bandwidth chia sáº» â†’ hero image Táº¢I CHáº¬M â†’ LCP cháº­m!â”‚
  â”‚                                                        â”‚
  â”‚ âœ… FIX:                                                â”‚
  â”‚ â†’ DÃ¹ng fetchpriority="high" cho hero image!            â”‚
  â”‚ â†’ Lazy load Táº¤T Cáº¢ BTF images!                        â”‚
  â”‚ <img src="hero.jpg" fetchpriority="high"               â”‚
  â”‚      width="1200" height="600" alt="Hero">             â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  âŒ SAI Láº¦M 3: CSS tá»« nhiá»u domain
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ <!-- âŒ Má»—i domain = 1 DNS + TCP + TLS roundtrip! --> â”‚
  â”‚ <link href="https://cdn1.com/style.css" rel="stylesheet">â”‚
  â”‚ <link href="https://cdn2.com/fonts.css" rel="stylesheet">â”‚
  â”‚ <link href="https://cdn3.com/theme.css" rel="stylesheet">â”‚
  â”‚                                                        â”‚
  â”‚ âœ… FIX: Serve tá»« CÃ™NG domain hoáº·c proxy!              â”‚
  â”‚ âœ… FIX: Preconnect cho domain cáº§n thiáº¿t!               â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  âŒ SAI Láº¦M 4: Images KHÃ”NG cÃ³ kÃ­ch thÆ°á»›c
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ <!-- âŒ Layout shift khi image táº£i xong! -->           â”‚
  â”‚ <img src="product.jpg" alt="Product">                  â”‚
  â”‚                                                        â”‚
  â”‚ âœ… FIX: LUÃ”N set width + height!                       â”‚
  â”‚ <img src="product.jpg" width="400" height="300"        â”‚
  â”‚      alt="Product">                                    â”‚
  â”‚                                                        â”‚
  â”‚ HOáº¶C aspect-ratio CSS:                                 â”‚
  â”‚ .img-wrapper { aspect-ratio: 4/3; }                    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  âŒ SAI Láº¦M 5: Preload QUÃ NHIá»€U tÃ i nguyÃªn
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ <!-- âŒ Preload Má»ŒI THá»¨ = preload KHÃ”NG GÃŒ! -->       â”‚
  â”‚ <link rel="preload" href="a.js" as="script">          â”‚
  â”‚ <link rel="preload" href="b.css" as="style">          â”‚
  â”‚ <link rel="preload" href="c.woff2" as="font">        â”‚
  â”‚ <link rel="preload" href="d.jpg" as="image">         â”‚
  â”‚ <link rel="preload" href="e.js" as="script">          â”‚
  â”‚                                                        â”‚
  â”‚ â†’ Preload Cáº NH TRANH láº«n nhau!                        â”‚
  â”‚ â†’ Chromium bug: preload luÃ´n táº£i TRÆ¯á»šC â†’ phÃ¡ ordering!â”‚
  â”‚                                                        â”‚
  â”‚ âœ… FIX: Chá»‰ preload 1-2 tÃ i nguyÃªn THá»°C Sá»° critical! â”‚
  â”‚ âœ… FIX: Æ¯u tiÃªn INLINE hÆ¡n preload cho CSS/fonts!     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  âŒ SAI Láº¦M 6: BTF images táº£i trÆ°á»›c JS
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ â†’ 50 images táº£i cÃ¹ng lÃºc â†’ chiáº¿m háº¿t bandwidth!      â”‚
  â”‚ â†’ 1P JS pháº£i CHá»œ â†’ FID ráº¥t cháº­m!                      â”‚
  â”‚                                                        â”‚
  â”‚ âœ… FIX: loading="lazy" cho Táº¤T Cáº¢ BTF images!        â”‚
  â”‚ âœ… FIX: IntersectionObserver cho fine-grained control! â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§11. TÃ³m táº¯t phá»ng váº¥n

```
PHá»NG Váº¤N â€” TRáº¢ Lá»œI:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Q: "LÃ m sao tá»‘i Æ°u trÃ¬nh tá»± táº£i trang?"
  A: Sáº¯p xáº¿p tÃ i nguyÃªn theo THá»¨ Tá»° METRIC:
  â†’ FCP cáº§n: Critical CSS (inline!) + Fonts (preconnect!)
  â†’ LCP cáº§n: Hero image (fetchpriority="high"!)
  â†’ FID cáº§n: 1P JS (táº£i trÆ°á»›c images, cháº¡y trÆ°á»›c 3P!)
  â†’ CLS trÃ¡nh: Images unsized, font fallback nháº£y!

  Q: "Táº¡i sao download tuáº§n tá»± tá»‘t hÆ¡n song song cho scripts?"
  A: Tuáº§n tá»±: CPU xá»­ lÃ½ script A NGAY khi táº£i xong!
  Song song: CPU CHá»œÃ˜ táº¥t cáº£ â†’ "Dead Time"!
  Tuáº§n tá»± táº­n dá»¥ng Network + CPU Äá»’NG THá»œI!

  Q: "LÃ m sao xá»­ lÃ½ 3P scripts?"
  A: KHÃ”NG sync trong <head>! PhÃ¢n loáº¡i 3P:
  â†’ beforeInteractive: polyfill, consent, báº£o máº­t
  â†’ afterInteractive: analytics, ads, tag manager
  â†’ lazyOnload: social widgets, CRM, feedback
  Preconnect cho Táº¤T Cáº¢ 3P domains!

  Q: "Preload vs preconnect?"
  A: Preload = táº£i tÃ i nguyÃªn Cá»¤ THá»‚ sá»›m (cáº©n tháº­n Chromium bug!)
  Preconnect = thiáº¿t láº­p CONNECTION sá»›m (DNS+TCP+TLS)
  â†’ Preconnect AN TOÃ€N hÆ¡n, dÃ¹ng cho cross-origin resources!
  â†’ Preload chá»‰ dÃ¹ng cho 1-2 tÃ i nguyÃªn THá»°C Sá»° critical!

  Q: "Code-splitting cáº§n cÃ¢n báº±ng gÃ¬?"
  A: Nhiá»u chunks nhá»: cache tá»‘t, táº£i Ã­t code, NHÆ¯NG nÃ©n kÃ©m!
  Ãt chunks lá»›n: nÃ©n tá»‘t, Ã­t requests, NHÆ¯NG táº£i thá»«a!
  â†’ TÃ¬m Ä‘iá»ƒm cÃ¢n báº±ng phÃ¹ há»£p cho dá»± Ã¡n!
```

```
SÆ  Äá»’ Tá»”NG QUAN â€” TRÃŒNH Tá»° Táº¢I Tá»I Æ¯U:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                          â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
  â”‚  â”‚ PHASE 1  â”‚â”€â”€â†’â”‚ PHASE 2  â”‚â”€â”€â†’â”‚ PHASE 3  â”‚            â”‚
  â”‚  â”‚ FCP      â”‚   â”‚ LCP      â”‚   â”‚ FID      â”‚            â”‚
  â”‚  â”‚          â”‚   â”‚          â”‚   â”‚          â”‚            â”‚
  â”‚  â”‚ Critical â”‚   â”‚ Hero     â”‚   â”‚ 1P JS   â”‚            â”‚
  â”‚  â”‚ CSS â˜…    â”‚   â”‚ Image â˜…  â”‚   â”‚ Hydrate â˜…â”‚            â”‚
  â”‚  â”‚ Fonts    â”‚   â”‚ 3P ATF   â”‚   â”‚ 3P pre- â”‚            â”‚
  â”‚  â”‚ 3P FCP   â”‚   â”‚ image    â”‚   â”‚ interactâ”‚            â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
  â”‚       â”‚              â”‚              â”‚                    â”‚
  â”‚       â–¼              â–¼              â–¼                    â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
  â”‚  â”‚              SAU FID                         â”‚       â”‚
  â”‚  â”‚                                              â”‚       â”‚
  â”‚  â”‚  Default 3P JS â†’ BTF images â†’ Lazy chunks  â”‚       â”‚
  â”‚  â”‚  â†’ Less important 3P JS                     â”‚       â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
  â”‚                                                          â”‚
  â”‚  â˜… = Critical resource cho metric Ä‘Ã³                    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Checklist

- [ ] **TrÃ¬nh tá»± metric**: FCP â†’ LCP â†’ FID; tÃ i nguyÃªn pháº£i sáºµn sÃ ng ÄÃšNG thá»© tá»± nÃ y!
- [ ] **Critical CSS**: INLINE trong HTML; tÃ¡ch theo route; serve cÃ¹ng origin; Æ°u tiÃªn trÆ°á»›c JS + images!
- [ ] **Fonts**: Inline font-CSS (KHÃ”NG file font!); preconnect cho domain khÃ¡c; cÃ¢n nháº¯c swap vs CLS!
- [ ] **Hero image**: Preconnect náº¿u cross-origin; fetchpriority="high"; PHáº¢I cÃ³ width+height; placeholder = kÃ­ch thÆ°á»›c tháº­t!
- [ ] **ATF images**: PHáº¢I cÃ³ kÃ­ch thÆ°á»›c (trÃ¡nh CLS!); server render placeholder; KHÃ”NG lazy load!
- [ ] **BTF images**: PHáº¢I lazy load (loading="lazy" hoáº·c IO!); khÃ´ng cáº¡nh tranh vá»›i 1P JS trÃªn network!
- [ ] **1P JS**: Táº£i TRÆ¯á»šC ATF images; cháº¡y TRÆ¯á»šC 3P JS trÃªn main thread; code-split theo route!
- [ ] **3P JS**: KHÃ”NG sync trong head; async/defer; ScriptLoader (before/after/lazy); preconnect cho domain!
- [ ] **Preload**: Chá»‰ 1-2 resource THáº¬T critical; cáº©n tháº­n Chromium bug; Æ°u tiÃªn inline hÆ¡n preload!
- [ ] **Preconnect**: DÃ¹ng cho Táº¤T Cáº¢ cross-origin resources; DNS+TCP+TLS trÆ°á»›c â†’ giáº£m latency!
- [ ] **Network + CPU**: Download tuáº§n tá»± cho scripts â†’ CPU xá»­ lÃ½ ngay khi táº£i xong â†’ trÃ¡nh "Dead Time"!
- [ ] **Code-splitting**: CÃ¢n báº±ng granularity: nhiá»u chunks nhá» (cache tá»‘t) vs Ã­t chunks lá»›n (nÃ©n tá»‘t)!
- [ ] **Non-critical CSS**: Táº£i ASYNC; táº£i TRÆ¯á»šC FID Ä‘á»ƒ trÃ¡nh styling lá»—i khi user tÆ°Æ¡ng tÃ¡c!
- [ ] **ScriptLoader (Next.js)**: beforeInteractive (polyfill, consent), afterInteractive (analytics), lazyOnload (social, CRM)!
- [ ] **HTTP/2**: Server/CDN cÃ³ thá»ƒ re-prioritize; khÃ´ng hoÃ n toÃ n tin tÆ°á»Ÿng vÃ o protocol priority!

---

_Nguá»“n: Addy Osmani & Ä‘á»™i Aurora (Chrome) â€” Shubhie Panicker â€” web.dev â€” "Optimize your loading sequence"_
_Cáº­p nháº­t láº§n cuá»‘i: ThÃ¡ng 2, 2026_
