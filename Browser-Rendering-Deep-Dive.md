# Browser Rendering Principles â€” Deep Dive

> ğŸ“… 2026-02-11 Â· â± 25 phÃºt Ä‘á»c
>
> TÃ i liá»‡u chuyÃªn sÃ¢u vá» quy trÃ¬nh rendering cá»§a browser: DOM â†’ CSSOM â†’ Render Tree
> â†’ Layout â†’ Paint, tá»‘i Æ°u hÃ³a rendering, script loading (async/defer),
> Document Pre-parsing, CSS blocking, vÃ  Critical Rendering Path.
> Äá»™ khÃ³: â­ï¸â­ï¸â­ï¸â­ï¸ | Chá»§ Ä‘á»: Browser Internals

---

## Má»¥c Lá»¥c

0. [Quy trÃ¬nh Rendering cá»§a Browser](#0-quy-trÃ¬nh-rendering-cá»§a-browser)
1. [Tá»‘i Æ°u hÃ³a Rendering](#1-tá»‘i-Æ°u-hÃ³a-rendering)
2. [Xá»­ lÃ½ JS trong quÃ¡ trÃ¬nh Rendering](#2-xá»­-lÃ½-js-trong-quÃ¡-trÃ¬nh-rendering)
3. [Document Pre-parsing](#3-document-pre-parsing)
4. [CSS cÃ³ thá»ƒ Block Rendering khÃ´ng?](#4-css-cÃ³-thá»ƒ-block-rendering-khÃ´ng)
5. [Tá»‘i Æ°u Critical Rendering Path](#5-tá»‘i-Æ°u-critical-rendering-path)
6. [CÃ¡c trÆ°á»ng há»£p Block Rendering](#6-cÃ¡c-trÆ°á»ng-há»£p-block-rendering)
7. [TÃ³m Táº¯t & CÃ¢u Há»i Phá»ng Váº¥n](#7-tÃ³m-táº¯t--cÃ¢u-há»i-phá»ng-váº¥n)

---

## 0. Quy trÃ¬nh Rendering cá»§a Browser

> **ğŸ¯ 5 bÆ°á»›c chÃ­nh: Parse HTML â†’ Parse CSS â†’ Render Tree â†’ Layout â†’ Paint**

```
QUY TRÃŒNH RENDERING â€” 5 BÆ¯á»šC:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  â‘  PARSE HTML â†’ DOM TREE
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ HTML document                                            â”‚
  â”‚   â”‚                                                      â”‚
  â”‚   â–¼                                                      â”‚
  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
  â”‚ â”‚         DOM TREE                      â”‚                 â”‚
  â”‚ â”‚                                      â”‚                 â”‚
  â”‚ â”‚       document                       â”‚                 â”‚
  â”‚ â”‚          â”‚                           â”‚                 â”‚
  â”‚ â”‚       <html>                         â”‚                 â”‚
  â”‚ â”‚       /     \                        â”‚                 â”‚
  â”‚ â”‚    <head>   <body>                   â”‚                 â”‚
  â”‚ â”‚      â”‚      /    \                   â”‚                 â”‚
  â”‚ â”‚   <title> <div>  <p>                â”‚                 â”‚
  â”‚ â”‚           /   \                      â”‚                 â”‚
  â”‚ â”‚        <h1>  <img>                   â”‚                 â”‚
  â”‚ â”‚                                      â”‚                 â”‚
  â”‚ â”‚ â†’ Gá»“m DOM elements + attribute nodesâ”‚                 â”‚
  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â‘¡ PARSE CSS â†’ CSSOM RULE TREE
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ CSS stylesheets                                          â”‚
  â”‚   â”‚                                                      â”‚
  â”‚   â–¼                                                      â”‚
  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
  â”‚ â”‚       CSSOM RULE TREE                â”‚                 â”‚
  â”‚ â”‚                                      â”‚                 â”‚
  â”‚ â”‚  body { font: 16px }                â”‚                 â”‚
  â”‚ â”‚    â”‚                                 â”‚                 â”‚
  â”‚ â”‚    â”œâ”€â”€ div { color: #333 }          â”‚                 â”‚
  â”‚ â”‚    â”‚    â””â”€â”€ h1 { font-size: 24px }  â”‚                 â”‚
  â”‚ â”‚    â””â”€â”€ p { margin: 10px }           â”‚                 â”‚
  â”‚ â”‚                                      â”‚                 â”‚
  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â‘¢ DOM + CSSOM â†’ RENDER TREE
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                          â”‚
  â”‚  DOM Tree + CSSOM Tree â†’ RENDER TREE                     â”‚
  â”‚                                                          â”‚
  â”‚  Render objects (hÃ¬nh chá»¯ nháº­t) chá»©a:                   â”‚
  â”‚  â†’ Color, size, vÃ  cÃ¡c thuá»™c tÃ­nh visual                â”‚
  â”‚                                                          â”‚
  â”‚  âš ï¸ KHÃ”NG pháº£i tÆ°Æ¡ng á»©ng 1:1 vá»›i DOM:                   â”‚
  â”‚  â†’ Invisible elements (display:none) â†’ KHÃ”NG cÃ³        â”‚
  â”‚    trong render tree                                     â”‚
  â”‚  â†’ Complex elements â†’ CÃ“ THá»‚ tÆ°Æ¡ng á»©ng NHIá»€U           â”‚
  â”‚    render objects                                        â”‚
  â”‚                                                          â”‚
  â”‚  DOM          CSSOM            Render Tree               â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
  â”‚  â”‚htmlâ”‚      â”‚bodyâ”‚           â”‚RenderViewâ”‚             â”‚
  â”‚  â”‚    â”‚  +   â”‚{..}â”‚    â†’      â”‚          â”‚             â”‚
  â”‚  â”‚bodyâ”‚      â”‚ divâ”‚           â”‚RenderBodyâ”‚             â”‚
  â”‚  â”‚ divâ”‚      â”‚{..}â”‚           â”‚ RenderDivâ”‚             â”‚
  â”‚  â”‚  h1â”‚      â”‚ h1 â”‚           â”‚  RenderH1â”‚             â”‚
  â”‚  â”‚  p â”‚      â”‚{..}â”‚           â”‚ RenderP  â”‚             â”‚
  â”‚  â””â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â‘£ LAYOUT (REFLOW)
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                          â”‚
  â”‚  â†’ XÃ¡c Ä‘á»‹nh Vá»Š TRÃ + KÃCH THÆ¯á»šC chÃ­nh xÃ¡c              â”‚
  â”‚    cá»§a má»—i node trÃªn page                               â”‚
  â”‚  â†’ "Automatic reflow"                                    â”‚
  â”‚  â†’ Render objects lÃºc táº¡o CHÆ¯A CÃ“ position/size        â”‚
  â”‚                                                          â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
  â”‚  â”‚  Layout calculations:          â”‚                     â”‚
  â”‚  â”‚  Node A: x=0, y=0, w=1024, h=768â”‚                     â”‚
  â”‚  â”‚  Node B: x=10, y=10, w=500, h=300â”‚                    â”‚
  â”‚  â”‚  Node C: x=520, y=10, w=494, h=300â”‚                   â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â‘¤ PAINT (DRAWING)
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                          â”‚
  â”‚  â†’ DUYá»†T render tree                                    â”‚
  â”‚  â†’ Gá»i PAINT METHOD cá»§a má»—i render object              â”‚
  â”‚  â†’ Hiá»ƒn thá»‹ content trÃªn SCREEN                         â”‚
  â”‚  â†’ DÃ¹ng BASIC UI COMPONENTS                             â”‚
  â”‚                                                          â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
  â”‚  â”‚          SCREEN                 â”‚                     â”‚
  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚                     â”‚
  â”‚  â”‚ â”‚ Header (blue bg)          â”‚   â”‚                     â”‚
  â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚                     â”‚
  â”‚  â”‚ â”‚ Content                   â”‚   â”‚                     â”‚
  â”‚  â”‚ â”‚ "Hello World"             â”‚   â”‚                     â”‚
  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚                     â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Pipeline tá»•ng thá»ƒ

```
RENDERING PIPELINE:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                    HTML
                     â”‚
                     â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Parse   â”‚   â”‚ Parse â”‚   â”‚  Build     â”‚   â”‚ Layout â”‚   â”‚ Paint â”‚
  â”‚ HTML    â”‚â”€â”€â–ºâ”‚ CSS   â”‚â”€â”€â–ºâ”‚  Render    â”‚â”€â”€â–ºâ”‚(Reflow)â”‚â”€â”€â–ºâ”‚(Draw) â”‚
  â”‚â†’ DOM    â”‚   â”‚â†’CSSOM â”‚   â”‚  Tree      â”‚   â”‚        â”‚   â”‚       â”‚
  â”‚ Tree    â”‚   â”‚ Tree  â”‚   â”‚(DOM+CSSOM) â”‚   â”‚Positionâ”‚   â”‚Pixels â”‚
  â”‚         â”‚   â”‚       â”‚   â”‚            â”‚   â”‚+ Size  â”‚   â”‚on     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚Screen â”‚
                                                           â””â”€â”€â”€â”€â”€â”€â”€â”˜

  ğŸ“Œ QUAN TRá»ŒNG: Quy trÃ¬nh Ä‘Æ°á»£c thá»±c hiá»‡n Tá»ªNG BÆ¯á»šC (progressive)
  â†’ KHÃ”NG CHá»œ toÃ n bá»™ HTML parse xong
  â†’ Hiá»ƒn thá»‹ content NGAY KHI cÃ³ thá»ƒ
  â†’ Äá»“ng thá»i DOWNLOAD pháº§n cÃ²n láº¡i qua network
  â†’ Má»¥c Ä‘Ã­ch: USER EXPERIENCE tá»‘t hÆ¡n (nhanh tháº¥y ná»™i dung)
```

---

## 1. Tá»‘i Æ°u hÃ³a Rendering

> **ğŸ¯ 4 khÃ­a cáº¡nh: JavaScript, CSS, DOM/CSSOM, Reflow/Repaint**

### (1) Tá»‘i Æ°u JavaScript

```
Tá»I Æ¯U JAVASCRIPT â€” SCRIPT LOADING:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  âš ï¸ Váº¤N Äá»€: JS cÃ³ thá»ƒ BLOCK cáº£ HTML vÃ  CSS parsing!

  âœ… GIáº¢I PHÃP:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ â‘  Äáº·t JS files á»Ÿ CUá»I <body>                           â”‚
  â”‚ â‘¡ TrÃ¡nh viáº¿t <script> á»Ÿ GIá»®A <body>                    â”‚
  â”‚ â‘¢ DÃ¹ng async hoáº·c defer attributes                      â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  3 CÃCH LOAD SCRIPT â€” SO SÃNH:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                          â”‚
  â”‚  â‘  <script src="app.js"> (Máº·c Ä‘á»‹nh)                     â”‚
  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                      â”‚
  â”‚  HTML â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ STOP â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ RESUME â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ            â”‚
  â”‚                    â–¼                                     â”‚
  â”‚                [Download + Execute JS]                   â”‚
  â”‚                                                          â”‚
  â”‚  â†’ Dá»ªNG page rendering ngay láº­p tá»©c                     â”‚
  â”‚  â†’ Download resource â†’ Execute JS â†’ Resume rendering    â”‚
  â”‚                                                          â”‚
  â”‚  â‘¡ <script src="app.js" async>                           â”‚
  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                        â”‚
  â”‚  HTML â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ STOP â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ            â”‚
  â”‚                 â†• parallel                               â”‚
  â”‚            [Download JS]                                 â”‚
  â”‚                        [Execute]                         â”‚
  â”‚                                                          â”‚
  â”‚  â†’ Download ASYNC (song song vá»›i HTML parsing)          â”‚
  â”‚  â†’ Download XONG â†’ Execute NGAY â†’ block rendering      â”‚
  â”‚  â†’ KHÃ”NG Äáº¢M Báº¢O thá»© tá»± giá»¯a nhiá»u async scripts     â”‚
  â”‚  â†’ DÃ¹ng cho JS KHÃ”NG phá»¥ thuá»™c láº«n nhau               â”‚
  â”‚                                                          â”‚
  â”‚  â‘¢ <script src="app.js" defer>                           â”‚
  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
  â”‚  HTML â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                 â”‚
  â”‚                 â†• parallel                               â”‚
  â”‚            [Download JS]                                 â”‚
  â”‚                                    [Execute after DOM]   â”‚
  â”‚                                                          â”‚
  â”‚  â†’ Download ASYNC (song song vá»›i HTML parsing)          â”‚
  â”‚  â†’ DOM chÆ°a build xong? â†’ CHá»œ DOM parse xong          â”‚
  â”‚  â†’ DOM xong rá»“i? â†’ Execute ngay                        â”‚
  â”‚  â†’ Äáº¢M Báº¢O THá»¨ Tá»° giá»¯a nhiá»u defer scripts          â”‚
  â”‚  â†’ CÃ³ thá»ƒ Ä‘áº·t <script> á» Báº¤T Ká»² ÄÃ‚U                  â”‚
  â”‚                                                          â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Báº¢NG SO SÃNH:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚             â”‚ Normal    â”‚ async         â”‚ defer           â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Download   â”‚ Block     â”‚ Parallel âœ…   â”‚ Parallel âœ…     â”‚
  â”‚ Execute    â”‚ Ngay láº­p  â”‚ Ngay khi      â”‚ Sau DOM parse   â”‚
  â”‚            â”‚ tá»©c block â”‚ download xong â”‚ xong            â”‚
  â”‚ Thá»© tá»±     â”‚ Tuáº§n tá»±   â”‚ KHÃ”NG Ä‘áº£m báº£oâ”‚ Tuáº§n tá»± âœ…      â”‚
  â”‚ Block DOM? â”‚ CÃ“ âŒ     â”‚ CÃ“ (khi exec)â”‚ KHÃ”NG âœ…        â”‚
  â”‚ Vá»‹ trÃ­     â”‚ Cuá»‘i body â”‚ Anywhere      â”‚ Anywhere âœ…     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### (2) Tá»‘i Æ°u CSS

```
Tá»I Æ¯U CSS â€” 3 CÃCH IMPORT:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  â‘  <link> (Khuyáº¿n nghá»‹ âœ…)                               â”‚
  â”‚  â†’ Browser má»Ÿ THREAD Má»šI (HTTP thread) Ä‘á»ƒ load         â”‚
  â”‚  â†’ GUI rendering thread TIáº¾P Tá»¤C render code           â”‚
  â”‚  â†’ KHÃ”NG BLOCK rendering!                                â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  â‘¡ @import (TrÃ¡nh dÃ¹ng âŒ)                               â”‚
  â”‚  â†’ GUI rendering thread Táº M Dá»ªNG rendering             â”‚
  â”‚  â†’ Chá» load resource tá»« server                          â”‚
  â”‚  â†’ Resource tráº£ vá» â†’ Má»šI resume rendering              â”‚
  â”‚  â†’ Cáº¢N TRá» browser rendering!                           â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  â‘¢ <style> inline (Ãt CSS â†’ OK âœ…)                      â”‚
  â”‚  â†’ GUI RENDER TRá»°C TIáº¾P                                  â”‚
  â”‚  â†’ KhÃ´ng cáº§n network request                             â”‚
  â”‚  â†’ PhÃ¹ há»£p khi CSS nhá» / critical CSS                  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  ğŸ“Œ CSS thÆ°á»ng Ä‘áº·t trong <head>
    â†’ Browser gá»­i request CSS Sá»šM NHáº¤T cÃ³ thá»ƒ
  ğŸ“Œ External styles load QUÃ LÃ‚U â†’ browser dÃ¹ng DEFAULT STYLES
    â†’ Äáº£m báº£o fast initial render + UX tá»‘t
```

### (3) Tá»‘i Æ°u DOM & CSSOM Tree

```
Tá»I Æ¯U DOM & CSSOM TREE:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ â‘  HTML code KHÃ”NG NÃŠN lá»“ng quÃ¡ SÃ‚U                     â”‚
  â”‚   BAD:  <div><div><div><div><p>...</p></div></div>...   â”‚
  â”‚   GOOD: <section><p>...</p></section>                   â”‚
  â”‚                                                          â”‚
  â”‚ â‘¡ DÃ¹ng SEMANTIC TAGS (tháº» ngá»¯ nghÄ©a)                   â”‚
  â”‚   â†’ TrÃ¡nh browser pháº£i xá»­ lÃ½ Ä‘áº·c biá»‡t                 â”‚
  â”‚   â†’ <header>, <nav>, <main>, <article>, <footer>       â”‚
  â”‚                                                          â”‚
  â”‚ â‘¢ Giáº£m Sá» Táº¦NG CSS selectors                           â”‚
  â”‚   â†’ Selectors parse tá»« PHáº¢I â†’ TRÃI                     â”‚
  â”‚   BAD:  body .content .list .item .link span { }        â”‚
  â”‚   GOOD: .link-text { }                                  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### (4) Giáº£m Reflow & Repaint

```
GIáº¢M REFLOW & REPAINT:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  â‘  Thao tÃ¡c DOM á»Ÿ Cáº¤P THáº¤P nháº¥t cÃ³ thá»ƒ                â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  â‘¡ TRÃNH dÃ¹ng <table> layout                            â”‚
  â”‚  â†’ Thay Ä‘á»•i nhá» â†’ relayout TOÃ€N Bá»˜ table              â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  â‘¢ TrÃ¡nh CSS expressions                                â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  â‘£ Sá»­a CLASS NAME thay vÃ¬ sá»­a STYLE trá»±c tiáº¿p         â”‚
  â”‚  â†’ Static pages: Ä‘á»•i className, khÃ´ng Ä‘á»•i tá»«ng style   â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  â‘¤ DÃ¹ng absolute/fixed Ä‘á»ƒ TÃCH khá»i document flow     â”‚
  â”‚  â†’ Thay Ä‘á»•i element â†’ KHÃ”NG áº£nh hÆ°á»Ÿng elements khÃ¡c   â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  â‘¥ DÃ¹ng documentFragment cho batch DOM operations      â”‚
  â”‚  â†’ Táº¥t cáº£ thay Ä‘á»•i â†’ fragment â†’ append 1 Láº¦N         â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  â‘¦ display: none trÆ°á»›c khi thao tÃ¡c, display láº¡i sau  â”‚
  â”‚  â†’ DOM operations trÃªn element display:none             â”‚
  â”‚  â†’ KHÃ”NG trigger reflow/repaint!                        â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  â‘§ NHÃ“M cÃ¡c read/write DOM operations                   â”‚
  â”‚  â†’ KhÃ´ng xen káº½ read + write                            â”‚
  â”‚  â†’ Gom nhiá»u reads â†’ rá»“i writes                        â”‚
  â”‚  â†’ Táº­n dá»¥ng RENDERING QUEUE                              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  BROWSER RENDERING QUEUE:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                          â”‚
  â”‚  Browser cÃ³ CÆ  CHáº¾ Tá»I Æ¯U riÃªng:                       â”‚
  â”‚                                                          â”‚
  â”‚  â†’ Äáº·t táº¥t cáº£ reflow/repaint operations vÃ o QUEUE      â”‚
  â”‚  â†’ Khi queue Ä‘á»§ lá»›n HOáº¶C Ä‘á»§ interval                   â”‚
  â”‚  â†’ BATCH PROCESS toÃ n bá»™ queue                          â”‚
  â”‚  â†’ Nhiá»u reflows/repaints â†’ 1 reflow/repaint duy nháº¥t  â”‚
  â”‚                                                          â”‚
  â”‚  VD: NhÃ³m nhiá»u READS cÃ¹ng nhau:                        â”‚
  â”‚  BAD:                           GOOD:                    â”‚
  â”‚  el.style.left = '10px'        // reads                  â”‚
  â”‚  top = el.offsetTop  â† FLUSH!  w = el.offsetWidth       â”‚
  â”‚  el.style.top = '20px'         h = el.offsetHeight      â”‚
  â”‚  left = el.offsetLeft â† FLUSH! // writes                 â”‚
  â”‚                                 el.style.left = '10px'  â”‚
  â”‚  â†’ 2 reflows                   el.style.top = '20px'   â”‚
  â”‚                                 â†’ 1 reflow              â”‚
  â”‚                                                          â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Xá»­ lÃ½ JS trong quÃ¡ trÃ¬nh Rendering

```
JS FILES TRONG QUÃ TRÃŒNH RENDERING:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  âš ï¸ Váº¤N Äá»€:
  JS loading + parsing + execution â†’ BLOCK document parsing!

  FLOW KHI Gáº¶P <script>:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                          â”‚
  â”‚  HTML Parser Ä‘ang parse DOM...                           â”‚
  â”‚       â”‚                                                  â”‚
  â”‚       â–¼                                                  â”‚
  â”‚  Gáº·p <script> tag!                                       â”‚
  â”‚       â”‚                                                  â”‚
  â”‚       â–¼                                                  â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
  â”‚  â”‚ PAUSE document parsing  â”‚ â† dá»«ng DOM construction    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
  â”‚           â–¼                                              â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
  â”‚  â”‚ Chuyá»ƒn control cho      â”‚                             â”‚
  â”‚  â”‚ JS ENGINE               â”‚                             â”‚
  â”‚  â”‚ â†’ Download JS file      â”‚                             â”‚
  â”‚  â”‚ â†’ Parse JS              â”‚                             â”‚
  â”‚  â”‚ â†’ Execute JS            â”‚                             â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
  â”‚           â–¼                                              â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
  â”‚  â”‚ RESUME document parsing â”‚ â† tiáº¿p tá»¥c tá»« chá»— dá»«ng   â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
  â”‚                                                          â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  âœ… GIáº¢I PHÃP:
  â†’ Äáº·t <script> cuá»‘i <body>
  â†’ Hoáº·c dÃ¹ng defer (chá» DOM xong, giá»¯ thá»© tá»±)
  â†’ Hoáº·c dÃ¹ng async (JS khÃ´ng phá»¥ thuá»™c láº«n nhau)
  â†’ TRÃNH load JS trÃªn first screen náº¿u cÃ³ thá»ƒ
```

---

## 3. Document Pre-parsing

```
DOCUMENT PRE-PARSING (WEBKIT + FIREFOX):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                          â”‚
  â”‚  OPTIMIZATION: Webkit + Firefox Ä‘á»u implement           â”‚
  â”‚                                                          â”‚
  â”‚  Main Thread              Pre-parse Thread               â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
  â”‚  â”‚  JS Ä‘ang     â”‚         â”‚  Parse pháº§n  â”‚              â”‚
  â”‚  â”‚  EXECUTING   â”‚ â”€â”€â”€â”€â”€â”€â–º â”‚  CÃ’N Láº I    â”‚              â”‚
  â”‚  â”‚  (block DOM) â”‚ Ä‘á»“ng    â”‚  cá»§a documentâ”‚              â”‚
  â”‚  â”‚              â”‚ thá»i    â”‚              â”‚              â”‚
  â”‚  â”‚              â”‚         â”‚  TÃ¬m + LOAD  â”‚              â”‚
  â”‚  â”‚              â”‚         â”‚  external    â”‚              â”‚
  â”‚  â”‚              â”‚         â”‚  resources:  â”‚              â”‚
  â”‚  â”‚              â”‚         â”‚  â€¢ Scripts   â”‚              â”‚
  â”‚  â”‚              â”‚         â”‚  â€¢ Stylesheetsâ”‚              â”‚
  â”‚  â”‚              â”‚         â”‚  â€¢ Images    â”‚              â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
  â”‚                                                          â”‚
  â”‚  âš ï¸ Pre-parsing KHÃ”NG Sá»¬A Äá»”I DOM tree!                â”‚
  â”‚  â†’ Viá»‡c Ä‘Ã³ dÃ nh cho main parsing process                â”‚
  â”‚  â†’ Pre-parsing CHá»ˆ parse references tá»›i external        â”‚
  â”‚    resources                                             â”‚
  â”‚                                                          â”‚
  â”‚  âœ… Káº¿t quáº£: Resources Ä‘Æ°á»£c load SONG SONG              â”‚
  â”‚  â†’ Tá»•ng thá»ƒ NHANH HÆ N Ä‘Ã¡ng ká»ƒ!                        â”‚
  â”‚                                                          â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. CSS cÃ³ thá»ƒ Block Rendering khÃ´ng?

```
CSS BLOCK DOCUMENT PARSING â€” GIáº¢I THÃCH:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  LÃ THUYáº¾T:
  â†’ Stylesheets KHÃ”NG sá»­a DOM tree
  â†’ KHÃ”NG Cáº¦N dá»«ng document parsing Ä‘á»ƒ chá» CSS

  NHÆ¯NG THá»°C Táº¾ CÃ“ Váº¤N Äá»€:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                          â”‚
  â”‚  â‘  JS cÃ³ thá»ƒ REQUEST style info trong lÃºc parsing      â”‚
  â”‚                                                          â”‚
  â”‚  VD: element.offsetWidth, getComputedStyle()             â”‚
  â”‚                                                          â”‚
  â”‚  â‘¡ Náº¿u CSS CHÆ¯A load + parse xong...                    â”‚
  â”‚     â†’ JS nháº­n Ä‘Æ°á»£c GIÃ TRá»Š SAI!                         â”‚
  â”‚     â†’ GÃ¢y ra NHIá»€U Váº¤N Äá»€                               â”‚
  â”‚                                                          â”‚
  â”‚  â‘¢ Do Ä‘Ã³, browser sáº½:                                    â”‚
  â”‚                                                          â”‚
  â”‚  CSS chÆ°a xong   JS cáº§n cháº¡y   Document Ä‘ang parse      â”‚
  â”‚       â”‚               â”‚              â”‚                   â”‚
  â”‚       â–¼               â–¼              â–¼                   â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
  â”‚  â”‚ BROWSER DELAY cáº£ JS + document parsing!      â”‚        â”‚
  â”‚  â”‚                                              â”‚        â”‚
  â”‚  â”‚ Thá»© tá»±: â‘  Download + Build CSSOM            â”‚        â”‚
  â”‚  â”‚         â‘¡ Execute JavaScript                 â”‚        â”‚
  â”‚  â”‚         â‘¢ Continue parsing document          â”‚        â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
  â”‚                                                          â”‚
  â”‚  â†’ CSS GIÃN TIáº¾P block document parsing                 â”‚
  â”‚    (vÃ¬ nÃ³ TRá»°C TIáº¾P block JS execution)                 â”‚
  â”‚                                                          â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  CHAIN BLOCKING:
  CSS download cháº­m
       â”‚
       â–¼
  CSSOM chÆ°a build xong
       â”‚
       â–¼
  JS execution Bá»Š DELAY (cáº§n style info Ä‘Ãºng)
       â”‚
       â–¼
  Document parsing Bá»Š BLOCK (vÃ¬ JS Ä‘ang chá»)
       â”‚
       â–¼
  Rendering Bá»Š CHáº¬M! ğŸŒ
```

---

## 5. Tá»‘i Æ°u Critical Rendering Path

> **ğŸ¯ 3 yáº¿u tá»‘ cáº§n minimize: Critical Resources, Path Length, Critical Bytes**

```
CRITICAL RENDERING PATH â€” 3 Yáº¾U Tá»:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                          â”‚
  â”‚  â‘  Sá» LÆ¯á»¢NG CRITICAL RESOURCES                          â”‚
  â”‚  â†’ Resources cÃ³ thá»ƒ NGÄ‚N webpage render láº§n Ä‘áº§u        â”‚
  â”‚  â†’ CÃ ng ÃT â†’ browser lÃ m ÃT viá»‡c hÆ¡n                  â”‚
  â”‚  â†’ CPU + resources tiÃªu thá»¥ ÃT hÆ¡n                     â”‚
  â”‚                                                          â”‚
  â”‚  â‘¡ CRITICAL PATH LENGTH                                  â”‚
  â”‚  â†’ Phá»¥ thuá»™c vÃ o DEPENDENCY GRAPH giá»¯a resources       â”‚
  â”‚  â†’ Má»™t sá»‘ resource chá»‰ download SAU khi resource       â”‚
  â”‚    trÆ°á»›c Ä‘Ã³ Ä‘Ã£ xá»­ lÃ½ xong                              â”‚
  â”‚  â†’ Resource CÃ€NG Lá»šN â†’ cÃ ng nhiá»u ROUND TRIPS         â”‚
  â”‚                                                          â”‚
  â”‚  â‘¢ Sá» BYTE CRITICAL                                      â”‚
  â”‚  â†’ CÃ ng ÃT bytes download â†’ xá»­ lÃ½ NHANH hÆ¡n           â”‚
  â”‚  â†’ Giáº£m sá»‘ resources (xÃ³a hoáº·c lÃ m non-critical)      â”‚
  â”‚  â†’ Compress + optimize Ä‘á»ƒ minimize transfer size        â”‚
  â”‚                                                          â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  4 BÆ¯á»šC Tá»I Æ¯U:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                          â”‚
  â”‚  STEP 1: PHÃ‚N TÃCH critical path                        â”‚
  â”‚  â†’ Sá»‘ lÆ°á»£ng resources, bytes, vÃ  path length            â”‚
  â”‚                                                          â”‚
  â”‚  STEP 2: MINIMIZE sá»‘ critical resources                  â”‚
  â”‚  â†’ XÃ³a bá»›t                                              â”‚
  â”‚  â†’ Delay download                                        â”‚
  â”‚  â†’ ÄÃ¡nh dáº¥u async                                       â”‚
  â”‚                                                          â”‚
  â”‚  STEP 3: Tá»I Æ¯U critical bytes                          â”‚
  â”‚  â†’ RÃºt ngáº¯n download time (giáº£m round trips)           â”‚
  â”‚  â†’ Compress files (gzip, brotli)                        â”‚
  â”‚  â†’ Minify code                                           â”‚
  â”‚                                                          â”‚
  â”‚  STEP 4: Tá»I Æ¯U load order                              â”‚
  â”‚  â†’ Download Táº¤T Cáº¢ critical assets Sá»šM NHáº¤T           â”‚
  â”‚  â†’ RÃºt ngáº¯n critical path length                        â”‚
  â”‚                                                          â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  VÃ Dá»¤ CRITICAL PATH:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                          â”‚
  â”‚  TRÆ¯á»šC tá»‘i Æ°u:                                            â”‚
  â”‚  HTML â”€â”€â–º CSS â”€â”€â–º JS â”€â”€â–º Image â”€â”€â–º Font â”€â”€â–º Render     â”‚
  â”‚  5 critical resources, 5 round trips                     â”‚
  â”‚                                                          â”‚
  â”‚  SAU tá»‘i Æ°u:                                              â”‚
  â”‚  HTML â”€â”€â–º CSS (inline critical) â”€â”€â–º Render              â”‚
  â”‚      â””â”€â”€â–º JS (async) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º                â”‚
  â”‚      â””â”€â”€â–º Image (lazy load) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º                â”‚
  â”‚      â””â”€â”€â–º Font (preload) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º                â”‚
  â”‚  1 critical resource, 1 round trip!                      â”‚
  â”‚                                                          â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. CÃ¡c trÆ°á»ng há»£p Block Rendering

```
CÃC TRÆ¯á»œNG Há»¢P BLOCK RENDERING:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  â‘  HTML â†’ CHáº®C CHáº®N BLOCK                               â”‚
  â”‚  â†’ Rendering cáº§n DOM tree                                â”‚
  â”‚  â†’ KhÃ´ng cÃ³ HTML â†’ khÃ´ng cÃ³ gÃ¬ Ä‘á»ƒ render               â”‚
  â”‚                                                          â”‚
  â”‚  âœ… Tá»‘i Æ°u: giáº£m initial file size, flatten hierarchy   â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  â‘¡ CSS â†’ CHáº®C CHáº®N BLOCK                                â”‚
  â”‚  â†’ Rendering cáº§n CSSOM tree                              â”‚
  â”‚  â†’ Render tree = DOM + CSSOM                             â”‚
  â”‚                                                          â”‚
  â”‚  âœ… Tá»‘i Æ°u: giáº£m file size, tá»‘i Æ°u selectors           â”‚
  â”‚  âœ… Inline critical CSS                                   â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  â‘¢ JavaScript â†’ CÃ“ THá»‚ BLOCK                            â”‚
  â”‚  â†’ Gáº·p <script> â†’ Dá»ªNG DOM construction                 â”‚
  â”‚  â†’ Parse + execute JS xong â†’ resume                     â”‚
  â”‚                                                          â”‚
  â”‚  âœ… Äáº·t cuá»‘i <body>                                      â”‚
  â”‚  âœ… defer: download parallel, execute sau DOM parse      â”‚
  â”‚     â†’ Äáº·t <script> á» Báº¤T Ká»² ÄÃ‚U                       â”‚
  â”‚  âœ… async: download parallel, execute ngay               â”‚
  â”‚     â†’ DÃ¹ng cho JS KHÃ”NG phá»¥ thuá»™c láº«n nhau             â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Tá»”NG Káº¾T:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Resource   â”‚ Block? â”‚ Giáº£i phÃ¡p                         â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ HTML       â”‚ YES    â”‚ Giáº£m size, flatten DOM            â”‚
  â”‚ CSS        â”‚ YES    â”‚ Inline critical CSS, <link> earlyâ”‚
  â”‚ JS (máº·c   â”‚ YES    â”‚ Äáº·t cuá»‘i body                     â”‚
  â”‚   Ä‘á»‹nh)    â”‚        â”‚                                   â”‚
  â”‚ JS async   â”‚ Partialâ”‚ KhÃ´ng block download, block exec â”‚
  â”‚ JS defer   â”‚ NO     â”‚ Download parallel, exec sau DOM  â”‚
  â”‚ Images     â”‚ NO     â”‚ KhÃ´ng block rendering             â”‚
  â”‚ Fonts      â”‚ Partialâ”‚ CÃ³ thá»ƒ gÃ¢y FOIT (flash of        â”‚
  â”‚            â”‚        â”‚ invisible text)                   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. TÃ³m Táº¯t & CÃ¢u Há»i Phá»ng Váº¥n

### Quick Reference

```
BROWSER RENDERING â€” QUICK REFERENCE:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  5 BÆ¯á»šC RENDERING:
    Parse HTML â†’ DOM Tree
    Parse CSS â†’ CSSOM Tree
    DOM + CSSOM â†’ Render Tree
    Layout (Reflow) â†’ position + size
    Paint â†’ pixels on screen

  PROGRESSIVE: hiá»ƒn thá»‹ ngay khi cÃ³ thá»ƒ, khÃ´ng chá» toÃ n bá»™

  SCRIPT LOADING:
    Normal:  block download + block execute
    async:   parallel download, execute ngay (khÃ´ng Ä‘áº£m báº£o
             thá»© tá»±)
    defer:   parallel download, execute sau DOM parse (giá»¯
             thá»© tá»±)

  CSS LOADING:
    <link>:   thread má»›i, khÃ´ng block rendering âœ…
    @import:  BLOCK rendering âŒ
    <style>:  render trá»±c tiáº¿p âœ…

  REFLOW/REPAINT: dÃ¹ng documentFragment, display:none trick,
                  nhÃ³m read/write, trÃ¡nh table layout

  CSS â†’ block JS execution â†’ block document parsing
  (chain blocking)
```

### CÃ¢u Há»i Phá»ng Váº¥n ThÆ°á»ng Gáº·p

**1. MÃ´ táº£ quy trÃ¬nh rendering cá»§a browser?**

> 5 bÆ°á»›c: â‘  Parse HTML â†’ DOM Tree (gá»“m DOM elements + attributes). â‘¡ Parse CSS â†’ CSSOM Rule Tree. â‘¢ Káº¿t há»£p DOM + CSSOM â†’ **Render Tree** (render objects chá»©a color, size; khÃ´ng 1:1 vá»›i DOM â€” invisible elements bá»‹ bá»). â‘£ **Layout/Reflow** â€” xÃ¡c Ä‘á»‹nh position + size chÃ­nh xÃ¡c má»—i node. â‘¤ **Paint** â€” duyá»‡t render tree, gá»i paint method hiá»ƒn thá»‹ pixels. Quy trÃ¬nh thá»±c hiá»‡n **progressive** â€” hiá»ƒn thá»‹ ngay khi cÃ³ thá»ƒ, Ä‘á»“ng thá»i download pháº§n cÃ²n láº¡i.

**2. async vs defer vs normal script loading?**

> **Normal**: dá»«ng rendering, download + execute rá»“i resume. **async**: download song song, execute NGAY khi xong (khÃ´ng Ä‘áº£m báº£o thá»© tá»±). **defer**: download song song, execute SAU khi DOM parse xong (Ä‘áº£m báº£o thá»© tá»±). DÃ¹ng defer cho script cÃ³ dependencies, async cho script Ä‘á»™c láº­p.

**3. Táº¡i sao CSS cÃ³ thá»ƒ block document parsing?**

> CSS trá»±c tiáº¿p KHÃ”NG block DOM parsing. NhÆ°ng JS cÃ³ thá»ƒ request style info (getComputedStyle, offsetWidth). Náº¿u CSSOM chÆ°a build xong â†’ JS sáº½ nháº­n giÃ¡ trá»‹ sai. Do Ä‘Ã³ browser **delay JS execution** cho tá»›i khi CSSOM build xong â†’ JS delay â†’ document parsing delay. ÄÃ¢y lÃ  **chain blocking**: CSS â†’ block JS â†’ block DOM parsing.

**4. Document Pre-parsing lÃ  gÃ¬?**

> Optimization cá»§a WebKit + Firefox: khi JS Ä‘ang executing (block DOM), má»™t **thread riÃªng** parse pháº§n cÃ²n láº¡i cá»§a document vÃ  **load external resources** (scripts, stylesheets, images) song song. Pre-parsing **KHÃ”NG sá»­a DOM tree** â€” chá»‰ tÃ¬m + load resources. Káº¿t quáº£: resources loaded parallel â†’ tá»•ng thá»ƒ nhanh hÆ¡n.

**5. LÃ m sao giáº£m Reflow/Repaint?**

> 8 cÃ¡ch: â‘  Thao tÃ¡c DOM level tháº¥p. â‘¡ TrÃ¡nh table layout (thay Ä‘á»•i nhá» â†’ relayout toÃ n bá»™ table). â‘¢ TrÃ¡nh CSS expressions. â‘£ Sá»­a className thay vÃ¬ style trá»±c tiáº¿p. â‘¤ DÃ¹ng absolute/fixed tÃ¡ch khá»i document flow. â‘¥ DÃ¹ng **documentFragment** cho batch operations. â‘¦ **display:none** â†’ operations â†’ display láº¡i. â‘§ NhÃ³m read/write DOM. Browser cÃ³ **rendering queue** â€” gom nhiá»u reflows thÃ nh 1.

**6. Critical Rendering Path lÃ  gÃ¬? CÃ¡ch tá»‘i Æ°u?**

> Critical Rendering Path lÃ  chuá»—i resources + steps cáº§n thiáº¿t cho **first render**. 3 yáº¿u tá»‘: sá»‘ critical resources, path length, critical bytes. 4 bÆ°á»›c tá»‘i Æ°u: â‘  PhÃ¢n tÃ­ch path. â‘¡ Minimize critical resources (xÃ³a/defer/async). â‘¢ Tá»‘i Æ°u bytes (compress, minify). â‘£ Tá»‘i Æ°u load order (download critical assets sá»›m nháº¥t).

**7. link vs @import khi load CSS?**

> **link**: browser má»Ÿ HTTP thread má»›i, GUI rendering tiáº¿p tá»¥c â†’ KHÃ”NG block rendering. **@import**: GUI thread táº¡m dá»«ng, chá» load xong â†’ Cáº¢N TRá» rendering. â†’ LuÃ´n dÃ¹ng **link** thay vÃ¬ @import. Náº¿u CSS Ã­t â†’ dÃ¹ng inline `<style>` cho critical CSS.

**8. Nhá»¯ng gÃ¬ block rendering?**

> HTML (cháº¯c cháº¯n â€” cáº§n DOM tree), CSS (cháº¯c cháº¯n â€” cáº§n CSSOM tree), vÃ  JS máº·c Ä‘á»‹nh (dá»«ng DOM construction). Giáº£i phÃ¡p: giáº£m initial HTML size, inline critical CSS, Ä‘áº·t JS cuá»‘i body hoáº·c dÃ¹ng defer (parallel download, execute sau DOM) / async (parallel download, execute ngay, khÃ´ng Ä‘áº£m báº£o thá»© tá»±).

---

## Checklist Há»c Táº­p

- [ ] MÃ´ táº£ 5 bÆ°á»›c rendering pipeline
- [ ] Hiá»ƒu progressive rendering (khÃ´ng chá» toÃ n bá»™ HTML)
- [ ] PhÃ¢n biá»‡t async vs defer vs normal script loading
- [ ] Biáº¿t link vs @import vs inline style (áº£nh hÆ°á»Ÿng rendering)
- [ ] Hiá»ƒu chain blocking: CSS â†’ JS â†’ DOM parsing
- [ ] Biáº¿t Document Pre-parsing (thread riÃªng load resources)
- [ ] Liá»‡t kÃª 8 cÃ¡ch giáº£m reflow/repaint
- [ ] Hiá»ƒu Browser Rendering Queue mechanism
- [ ] Biáº¿t 3 yáº¿u tá»‘ Critical Rendering Path + 4 bÆ°á»›c tá»‘i Æ°u
- [ ] Biáº¿t resources nÃ o block rendering + giáº£i phÃ¡p

---

_Cáº­p nháº­t láº§n cuá»‘i: ThÃ¡ng 2, 2026_
