# Next.js page.js â€” Deep Dive!

> **Chá»§ Ä‘á»**: `page.js` â€” Route UI Component
> **NgÃ´n ngá»¯**: Tiáº¿ng Viá»‡t â€” giáº£i thÃ­ch cá»±c ká»³ chi tiáº¿t!
> **PhÆ°Æ¡ng chÃ¢m**: Tá»± viáº¿t láº¡i báº±ng tay â€” KHÃ”NG dÃ¹ng thÆ° viá»‡n!
> **Nguá»“n**: https://nextjs.org/docs/app/api-reference/file-conventions/page
> **HÃ¬nh áº£nh trang gá»‘c**: 0 (trang chá»‰ cÃ³ text + code blocks)

---

## Má»¥c Lá»¥c

1. [Â§1. Tá»•ng Quan â€” page.js lÃ  gÃ¬?](#1)
2. [Â§2. Props â€” params + searchParams (Promise!)](#2)
3. [Â§3. PageProps Helper â€” Type Safety](#3)
4. [Â§4. Examples â€” params, searchParams, Client](#4)
5. [Â§5. SÆ¡ Äá»“ Tá»± Váº½ â€” Tá»•ng Há»£p](#5)
6. [Â§6. Tá»± Viáº¿t â€” PageEngine](#6)
7. [Â§7. CÃ¢u Há»i Luyá»‡n Táº­p](#7)

---

## Â§1. Tá»•ng Quan â€” page.js lÃ  gÃ¬?

```
  page.js â€” Tá»”NG QUAN:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                              â”‚
  â”‚  Äá»ŠNH NGHÄ¨A:                                                 â”‚
  â”‚  page.js cho phÃ©p báº¡n define UI RIÃŠNG cho 1 route!           â”‚
  â”‚  Táº¡o page báº±ng cÃ¡ch DEFAULT EXPORT 1 component!             â”‚
  â”‚                                                              â”‚
  â”‚  GOOD TO KNOW:                                                â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ â€¢ DÃ¹ng .js, .jsx, hoáº·c .tsx extensions!             â”‚    â”‚
  â”‚  â”‚ â€¢ page LUÃ”N lÃ  LEAF (lÃ¡) cá»§a route subtree!         â”‚    â”‚
  â”‚  â”‚ â€¢ page file Báº®T BUá»˜C Ä‘á»ƒ route publicly accessible!  â”‚    â”‚
  â”‚  â”‚ â€¢ Máº·c Ä‘á»‹nh: SERVER Component!                       â”‚    â”‚
  â”‚  â”‚ â€¢ CÃ³ thá»ƒ set CLIENT Component ("use client")        â”‚    â”‚
  â”‚  â”‚ â€¢ CÃ³ thá»ƒ FETCH DATA trá»±c tiáº¿p!                     â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â”‚  LEAF CONCEPT:                                                â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ app/                                                 â”‚    â”‚
  â”‚  â”‚ â”œâ”€â”€ layout.tsx    â† BRANCH (nhÃ¡nh)                  â”‚    â”‚
  â”‚  â”‚ â”œâ”€â”€ page.tsx      â† LEAF (lÃ¡) "/"                   â”‚    â”‚
  â”‚  â”‚ â””â”€â”€ blog/                                            â”‚    â”‚
  â”‚  â”‚     â”œâ”€â”€ layout.tsx â† BRANCH                         â”‚    â”‚
  â”‚  â”‚     â”œâ”€â”€ page.tsx   â† LEAF "/blog"                   â”‚    â”‚
  â”‚  â”‚     â””â”€â”€ [slug]/                                      â”‚    â”‚
  â”‚  â”‚         â””â”€â”€ page.tsx â† LEAF "/blog/hello"           â”‚    â”‚
  â”‚  â”‚                                                      â”‚    â”‚
  â”‚  â”‚ page.tsx = Ä‘iá»ƒm cuá»‘i cá»§a route tree!                 â”‚    â”‚
  â”‚  â”‚ KhÃ´ng cÃ³ page.tsx = route KHÃ”NG accessible!         â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§2. Props â€” params + searchParams (Promise!)

```
  PROPS:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                              â”‚
  â”‚  page.js nháº­n 2 PROPS (cáº£ 2 Ä‘á»u PROMISE tá»« v15!):          â”‚
  â”‚                                                              â”‚
  â”‚  â‘  params (optional):                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ â†’ Promise resolve â†’ object chá»©a dynamic route      â”‚    â”‚
  â”‚  â”‚   parameters tá»« root segment â†’ page Ä‘Ã³!            â”‚    â”‚
  â”‚  â”‚                                                      â”‚    â”‚
  â”‚  â”‚ Báº¢NG VÃ Dá»¤:                                          â”‚    â”‚
  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚    â”‚
  â”‚  â”‚ â”‚ Route                         â”‚ URL    â†’ params â”‚â”‚    â”‚
  â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚    â”‚
  â”‚  â”‚ â”‚ app/shop/[slug]/page.js       â”‚ /shop/1         â”‚â”‚    â”‚
  â”‚  â”‚ â”‚                               â”‚ â†’ { slug: '1' } â”‚â”‚    â”‚
  â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚    â”‚
  â”‚  â”‚ â”‚ app/shop/[cat]/[item]/page.js â”‚ /shop/1/2       â”‚â”‚    â”‚
  â”‚  â”‚ â”‚                               â”‚ â†’ { cat:'1',    â”‚â”‚    â”‚
  â”‚  â”‚ â”‚                               â”‚   item:'2' }    â”‚â”‚    â”‚
  â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚    â”‚
  â”‚  â”‚ â”‚ app/shop/[...slug]/page.js    â”‚ /shop/1/2       â”‚â”‚    â”‚
  â”‚  â”‚ â”‚                               â”‚ â†’ { slug:       â”‚â”‚    â”‚
  â”‚  â”‚ â”‚                               â”‚   ['1','2'] }   â”‚â”‚    â”‚
  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚    â”‚
  â”‚  â”‚                                                      â”‚    â”‚
  â”‚  â”‚ âš ï¸ v15: params lÃ  PROMISE! Pháº£i await!              â”‚    â”‚
  â”‚  â”‚ âš ï¸ v14: params lÃ  synchronous prop (deprecated!)    â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â”‚  â‘¡ searchParams (optional):                                   â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ â†’ Promise resolve â†’ object chá»©a search parameters  â”‚    â”‚
  â”‚  â”‚   (query string) cá»§a URL hiá»‡n táº¡i!                  â”‚    â”‚
  â”‚  â”‚                                                      â”‚    â”‚
  â”‚  â”‚ Báº¢NG VÃ Dá»¤:                                          â”‚    â”‚
  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
  â”‚  â”‚ â”‚ URL              â”‚ searchParams                â”‚   â”‚    â”‚
  â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚    â”‚
  â”‚  â”‚ â”‚ /shop?a=1        â”‚ { a: '1' }                 â”‚   â”‚    â”‚
  â”‚  â”‚ â”‚ /shop?a=1&b=2    â”‚ { a: '1', b: '2' }        â”‚   â”‚    â”‚
  â”‚  â”‚ â”‚ /shop?a=1&a=2    â”‚ { a: ['1', '2'] }          â”‚   â”‚    â”‚
  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
  â”‚  â”‚                                                      â”‚    â”‚
  â”‚  â”‚ âš ï¸ searchParams = DYNAMIC API!                       â”‚    â”‚
  â”‚  â”‚ â†’ DÃ¹ng nÃ³ = opt vÃ o DYNAMIC RENDERING!             â”‚    â”‚
  â”‚  â”‚ â†’ KhÃ´ng thá»ƒ biáº¿t trÆ°á»›c táº¡i build time!              â”‚    â”‚
  â”‚  â”‚ â†’ searchParams = plain object (KHÃ”NG pháº£i           â”‚    â”‚
  â”‚  â”‚   URLSearchParams instance!)                         â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â”‚  CODE:                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ // SERVER Component (async!)                        â”‚    â”‚
  â”‚  â”‚ export default async function Page({                â”‚    â”‚
  â”‚  â”‚   params, searchParams                              â”‚    â”‚
  â”‚  â”‚ }: {                                                â”‚    â”‚
  â”‚  â”‚   params: Promise<{ slug: string }>                 â”‚    â”‚
  â”‚  â”‚   searchParams: Promise<{                           â”‚    â”‚
  â”‚  â”‚     [key: string]: string | string[] | undefined    â”‚    â”‚
  â”‚  â”‚   }>                                                â”‚    â”‚
  â”‚  â”‚ }) {                                                â”‚    â”‚
  â”‚  â”‚   const { slug } = await params                     â”‚    â”‚
  â”‚  â”‚   const filters = (await searchParams).filters      â”‚    â”‚
  â”‚  â”‚   return <h1>Page: {slug}</h1>                      â”‚    â”‚
  â”‚  â”‚ }                                                   â”‚    â”‚
  â”‚  â”‚                                                      â”‚    â”‚
  â”‚  â”‚ // CLIENT Component (use()!)                        â”‚    â”‚
  â”‚  â”‚ 'use client'                                        â”‚    â”‚
  â”‚  â”‚ import { use } from 'react'                         â”‚    â”‚
  â”‚  â”‚ export default function Page({ params, searchParams â”‚    â”‚
  â”‚  â”‚ }) {                                                â”‚    â”‚
  â”‚  â”‚   const { slug } = use(params)                      â”‚    â”‚
  â”‚  â”‚   const { query } = use(searchParams)               â”‚    â”‚
  â”‚  â”‚ }                                                   â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§3. PageProps Helper â€” Type Safety!

```
  PageProps HELPER:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                              â”‚
  â”‚  PageProps = GLOBALLY AVAILABLE helper type!                   â”‚
  â”‚  â†’ Strongly typed params + searchParams tá»« route literal!    â”‚
  â”‚                                                              â”‚
  â”‚  CODE:                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ export default async function Page(                  â”‚    â”‚
  â”‚  â”‚   props: PageProps<'/blog/[slug]'>                   â”‚    â”‚
  â”‚  â”‚ ) {                                                  â”‚    â”‚
  â”‚  â”‚   const { slug } = await props.params               â”‚    â”‚
  â”‚  â”‚   const query = await props.searchParams             â”‚    â”‚
  â”‚  â”‚   return <h1>Blog Post: {slug}</h1>                  â”‚    â”‚
  â”‚  â”‚ }                                                    â”‚    â”‚
  â”‚  â”‚                                                      â”‚    â”‚
  â”‚  â”‚ â†’ '/blog/[slug]' â†’ autocomplete cho params!        â”‚    â”‚
  â”‚  â”‚ â†’ params sáº½ cÃ³ { slug: string } tá»± Ä‘á»™ng!           â”‚    â”‚
  â”‚  â”‚ â†’ Static routes â†’ params = {} !                    â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â”‚  GOOD TO KNOW:                                                â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ â†’ Route literal cho autocomplete: '/blog/[slug]'    â”‚    â”‚
  â”‚  â”‚ â†’ Types generated: next dev / next build / typegen  â”‚    â”‚
  â”‚  â”‚ â†’ PageProps globally available â€” KHÃ”NG cáº§n import!  â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§4. Examples!

```
  EXAMPLES:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                              â”‚
  â”‚  EX 1: DISPLAY CONTENT BASED ON PARAMS                       â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ export default async function Page({ params }) {     â”‚    â”‚
  â”‚  â”‚   const { slug } = await params                      â”‚    â”‚
  â”‚  â”‚   return <h1>Blog Post: {slug}</h1>                  â”‚    â”‚
  â”‚  â”‚ }                                                    â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â”‚  EX 2: HANDLING FILTERING WITH SEARCHPARAMS                  â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ export default async function Page({ searchParams }) â”‚    â”‚
  â”‚  â”‚ {                                                    â”‚    â”‚
  â”‚  â”‚   const {                                            â”‚    â”‚
  â”‚  â”‚     page = '1',                                      â”‚    â”‚
  â”‚  â”‚     sort = 'asc',                                    â”‚    â”‚
  â”‚  â”‚     query = ''                                       â”‚    â”‚
  â”‚  â”‚   } = await searchParams                             â”‚    â”‚
  â”‚  â”‚                                                      â”‚    â”‚
  â”‚  â”‚   return (                                           â”‚    â”‚
  â”‚  â”‚     <div>                                            â”‚    â”‚
  â”‚  â”‚       <h1>Product Listing</h1>                       â”‚    â”‚
  â”‚  â”‚       <p>Search: {query}</p>                         â”‚    â”‚
  â”‚  â”‚       <p>Page: {page}</p>                            â”‚    â”‚
  â”‚  â”‚       <p>Sort: {sort}</p>                            â”‚    â”‚
  â”‚  â”‚     </div>                                           â”‚    â”‚
  â”‚  â”‚   )                                                  â”‚    â”‚
  â”‚  â”‚ }                                                    â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â”‚  EX 3: CLIENT COMPONENT â€” use() HOOK                         â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ 'use client'                                        â”‚    â”‚
  â”‚  â”‚ import { use } from 'react'                         â”‚    â”‚
  â”‚  â”‚                                                      â”‚    â”‚
  â”‚  â”‚ export default function Page({ params, searchParams â”‚    â”‚
  â”‚  â”‚ }) {                                                â”‚    â”‚
  â”‚  â”‚   const { slug } = use(params)                      â”‚    â”‚
  â”‚  â”‚   const { query } = use(searchParams)               â”‚    â”‚
  â”‚  â”‚   // â†’ Client: KHÃ”NG thá»ƒ async!                    â”‚    â”‚
  â”‚  â”‚   // â†’ DÃ¹ng React use() Ä‘á»ƒ read promise!           â”‚    â”‚
  â”‚  â”‚ }                                                   â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§5. SÆ¡ Äá»“ Tá»± Váº½!

### SÆ¡ Äá»“ 1: params + searchParams Flow

```
  PARAMS + SEARCHPARAMS FLOW:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                              â”‚
  â”‚  URL: /blog/hello-world?sort=asc&page=2                      â”‚
  â”‚       â”‚                â”‚                                     â”‚
  â”‚       â–¼                â–¼                                     â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
  â”‚  â”‚ PARAMS      â”‚  â”‚ SEARCHPARAMS             â”‚              â”‚
  â”‚  â”‚             â”‚  â”‚                          â”‚              â”‚
  â”‚  â”‚ Route:      â”‚  â”‚ Query string:            â”‚              â”‚
  â”‚  â”‚ /blog/[slug]â”‚  â”‚ ?sort=asc&page=2         â”‚              â”‚
  â”‚  â”‚             â”‚  â”‚                          â”‚              â”‚
  â”‚  â”‚ Promise<{   â”‚  â”‚ Promise<{                â”‚              â”‚
  â”‚  â”‚  slug:      â”‚  â”‚  sort: 'asc',            â”‚              â”‚
  â”‚  â”‚  'hello-    â”‚  â”‚  page: '2'               â”‚              â”‚
  â”‚  â”‚   world'    â”‚  â”‚ }>                       â”‚              â”‚
  â”‚  â”‚ }>          â”‚  â”‚                          â”‚              â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
  â”‚         â”‚                     â”‚                              â”‚
  â”‚         â–¼                     â–¼                              â”‚
  â”‚  SERVER: await params    SERVER: await searchParams          â”‚
  â”‚  CLIENT: use(params)     CLIENT: use(searchParams)          â”‚
  â”‚                                                              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### SÆ¡ Äá»“ 2: v14 vs v15 Breaking Change

```
  v14 vs v15:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                              â”‚
  â”‚  v14 (OLD):                   v15 (NEW):                     â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚ function Page({       â”‚   â”‚ async function Page({     â”‚  â”‚
  â”‚  â”‚   params              â”‚   â”‚   params                  â”‚  â”‚
  â”‚  â”‚ }) {                  â”‚   â”‚ }) {                      â”‚  â”‚
  â”‚  â”‚   // SYNC! Trá»±c tiáº¿p:â”‚   â”‚   // ASYNC! Promise!     â”‚  â”‚
  â”‚  â”‚   const slug =        â”‚   â”‚   const { slug }         â”‚  â”‚
  â”‚  â”‚     params.slug       â”‚   â”‚     = await params       â”‚  â”‚
  â”‚  â”‚ }                     â”‚   â”‚ }                        â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                                              â”‚
  â”‚  â†’ v14: params = plain object â†’ truy cáº­p TRá»°C TIáº¾P!       â”‚
  â”‚  â†’ v15: params = PROMISE â†’ pháº£i AWAIT!                     â”‚
  â”‚  â†’ v15 váº«n há»— trá»£ sync (backwards compat) nhÆ°ng DEPRECATED!â”‚
  â”‚                                                              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§6. Tá»± Viáº¿t â€” PageEngine!

```javascript
/**
 * PageEngine â€” MÃ´ phá»ng Next.js page.js System!
 * Tá»± viáº¿t báº±ng tay, KHÃ”NG dÃ¹ng thÆ° viá»‡n nÃ o!
 */
var PageEngine = (function () {

  // 1. PARSE URL â†’ params + searchParams
  function parseUrl(routePattern, url) {
    var urlObj = new URL(url, 'http://localhost');
    var pathname = urlObj.pathname;
    var patternParts = routePattern.split('/').filter(Boolean);
    var urlParts = pathname.split('/').filter(Boolean);
    var params = {};

    // Check catch-all
    for (var i = 0; i < patternParts.length; i++) {
      var p = patternParts[i];
      if (p.match(/^\[\.\.\.(\w+)\]$/)) {
        var key = p.replace(/^\[\.\.\./, '').replace(/\]$/, '');
        params[key] = urlParts.slice(i);
        break;
      } else if (p.match(/^\[(\w+)\]$/)) {
        var k = p.replace(/^\[/, '').replace(/\]$/, '');
        params[k] = urlParts[i] || '';
      }
    }

    // searchParams
    var searchParams = {};
    urlObj.searchParams.forEach(function (val, key) {
      if (searchParams[key]) {
        if (Array.isArray(searchParams[key])) {
          searchParams[key].push(val);
        } else {
          searchParams[key] = [searchParams[key], val];
        }
      } else {
        searchParams[key] = val;
      }
    });

    return {
      params: { type: 'Promise', value: params },
      searchParams: { type: 'Promise', value: searchParams },
      note: 'v15: cáº£ 2 Ä‘á»u Promise! Pháº£i await!'
    };
  }

  // 2. VALIDATE page setup
  function validatePage(files) {
    var hasPage = false;
    for (var i = 0; i < files.length; i++) {
      if (files[i].match(/page\.(js|jsx|tsx)$/)) hasPage = true;
    }
    return {
      accessible: hasPage,
      note: hasPage
        ? 'Route publicly accessible!'
        : 'KHÃ”NG cÃ³ page file â†’ route NOT accessible!'
    };
  }

  function demo() {
    console.log('â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—');
    console.log('â•‘  PAGE ENGINE â€” DEMO                â•‘');
    console.log('â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');

    console.log('\n--- PARSE URL ---');
    console.log(JSON.stringify(parseUrl(
      '/blog/[slug]', 'http://localhost/blog/hello?sort=asc&page=2'
    ), null, 2));
    console.log(JSON.stringify(parseUrl(
      '/shop/[...slug]', 'http://localhost/shop/a/b/c'
    ), null, 2));

    console.log('\n--- VALIDATE ---');
    console.log(JSON.stringify(validatePage(['layout.tsx', 'page.tsx'])));
    console.log(JSON.stringify(validatePage(['layout.tsx'])));
  }

  return { parseUrl: parseUrl, validatePage: validatePage, demo: demo };
})();
// Cháº¡y: PageEngine.demo();
```

---

## Â§7. CÃ¢u Há»i Luyá»‡n Táº­p!

### â“ CÃ¢u 1: page.js cÃ³ vai trÃ² gÃ¬ trong route?

**Tráº£ lá»i:** page.js lÃ  **LEAF** (lÃ¡) cá»§a route subtree. **Báº¯t buá»™c** pháº£i cÃ³ Ä‘á»ƒ route publicly accessible. KhÃ´ng cÃ³ page.js â†’ route segment khÃ´ng thá»ƒ truy cáº­p!

### â“ CÃ¢u 2: Táº¡i sao params lÃ  Promise trong v15?

**Tráº£ lá»i:** Tá»« v15, `params` vÃ  `searchParams` Ä‘á»u lÃ  **Promise** Ä‘á»ƒ há»— trá»£ async patterns tá»‘t hÆ¡n. Server Components dÃ¹ng `await`, Client Components dÃ¹ng React `use()` hook. v14 trá»Ÿ vá» trÆ°á»›c lÃ  synchronous prop (deprecated!).

### â“ CÃ¢u 3: searchParams áº£nh hÆ°á»Ÿng rendering tháº¿ nÃ o?

**Tráº£ lá»i:** `searchParams` lÃ  **Dynamic API** â€” dÃ¹ng nÃ³ sáº½ **opt vÃ o dynamic rendering** táº¡i request time! KhÃ´ng thá»ƒ biáº¿t trÆ°á»›c táº¡i build time â†’ KHÃ”NG thá»ƒ static render!

### â“ CÃ¢u 4: PageProps helper dÃ¹ng tháº¿ nÃ o?

**Tráº£ lá»i:** `PageProps<'/blog/[slug]'>` â€” globally available, KHÃ”NG cáº§n import. Cung cáº¥p autocomplete + strict keys cho params. Types generated khi `next dev`, `next build`, hoáº·c `next typegen`.

---

> ğŸ¯ **Version History**: v13.0.0 (page introduced), v15.0.0 (params/searchParams â†’ Promise)
