# React Scheduler â€” 3 Facts Deep Dive!

> **Chá»§ Ä‘á»**: 3 Ä‘iá»u thÃº vá»‹ trong source code React Scheduler
> **NgÃ´n ngá»¯**: Tiáº¿ng Viá»‡t â€” giáº£i thÃ­ch cá»±c ká»³ chi tiáº¿t!
> **PhÆ°Æ¡ng chÃ¢m**: Tá»± viáº¿t láº¡i báº±ng tay â€” KHÃ”NG dÃ¹ng thÆ° viá»‡n!
> **Nguá»“n**: "Three interesting facts about the React Scheduler source code"
> **HÃ¬nh áº£nh gá»‘c**: 2 screenshots (Smi bit layout, isInputPending compatibility)

---

## Má»¥c Lá»¥c

1. [Â§1. Tá»•ng Quan â€” 3 Facts](#1)
2. [Â§2. Fact 1: getCurrentTime â€” performance.now vs Date.now](#2)
3. [Â§3. Fact 2: maxSigned31BitInt â€” V8 Smi](#3)
4. [Â§4. Fact 3: isInputPending â€” Scheduling API](#4)
5. [Â§5. SÆ¡ Äá»“ Tá»± Váº½](#5)
6. [Â§6. Tá»± Viáº¿t â€” SchedulerFactsEngine](#6)
7. [Â§7. CÃ¢u Há»i Luyá»‡n Táº­p](#7)

---

## Â§1. Tá»•ng Quan â€” 3 Facts!

```
  3 FACTS Tá»ª SCHEDULER SOURCE CODE:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                              â”‚
  â”‚  FACT 1: getCurrentTime                                      â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ â†’ KHÃ”NG láº¥y "thá»i gian hiá»‡n táº¡i" theo nghÄ©a thÆ°á»ng!â”‚    â”‚
  â”‚  â”‚ â†’ Láº¥y Sá» MILLISECONDS tá»« khi page Ä‘Æ°á»£c táº¡o!       â”‚    â”‚
  â”‚  â”‚ â†’ performance.now > Date.now (precision + safety!)  â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â”‚  FACT 2: maxSigned31BitInt = 1073741823                      â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ â†’ IdlePriority timeout = ~12.4 NGÃ€Y!               â”‚    â”‚
  â”‚  â”‚ â†’ 2^30 - 1 (KHÃ”NG pháº£i 2^31!)                     â”‚    â”‚
  â”‚  â”‚ â†’ VÃ¬ V8 Smi: 1 bit sign + 1 bit tag = 30 bits!   â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â”‚  FACT 3: isInputPending                                      â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ â†’ API kiá»ƒm tra "cÃ³ user input Ä‘ang chá» khÃ´ng?"     â”‚    â”‚
  â”‚  â”‚ â†’ Facebook Ä‘á» xuáº¥t! DÃ¹ng trong shouldYieldToHost!  â”‚    â”‚
  â”‚  â”‚ â†’ NhÆ°ng chÆ°a Báº¬T máº·c Ä‘á»‹nh (compatibility kÃ©m!)    â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§2. Fact 1: getCurrentTime â€” performance.now vs Date.now!

```
  getCurrentTime SOURCE CODE:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                              â”‚
  â”‚  CODE:                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ let getCurrentTime;                                  â”‚    â”‚
  â”‚  â”‚ const hasPerformanceNow =                            â”‚    â”‚
  â”‚  â”‚   typeof performance === 'object' &&                 â”‚    â”‚
  â”‚  â”‚   typeof performance.now === 'function';             â”‚    â”‚
  â”‚  â”‚                                                      â”‚    â”‚
  â”‚  â”‚ if (hasPerformanceNow) {                             â”‚    â”‚
  â”‚  â”‚   const localPerformance = performance;              â”‚    â”‚
  â”‚  â”‚   getCurrentTime = () => localPerformance.now();     â”‚    â”‚
  â”‚  â”‚ } else {                                             â”‚    â”‚
  â”‚  â”‚   const localDate = Date;                            â”‚    â”‚
  â”‚  â”‚   const initialTime = localDate.now();               â”‚    â”‚
  â”‚  â”‚   getCurrentTime = () =>                             â”‚    â”‚
  â”‚  â”‚     localDate.now() - initialTime; // â˜… RELATIVE!  â”‚    â”‚
  â”‚  â”‚ }                                                    â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â”‚  TÃªn: "Get Current Time" nhÆ°ng thá»±c táº¿:                      â”‚
  â”‚  â†’ Láº¥y Sá» MS tá»« khi báº¯t Ä‘áº§u Ä‘o! (TÆ¯Æ NG Äá»I!)             â”‚
  â”‚  â†’ KHÃ”NG pháº£i thá»i gian tuyá»‡t Ä‘á»‘i!                         â”‚
  â”‚                                                              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### performance.now â€” Time Origin

```
  performance.now:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                              â”‚
  â”‚  Äá»ŠNH NGHÄ¨A (MDN):                                           â”‚
  â”‚  "Tráº£ vá» thá»i gian Ä‘Ã£ trÃ´i qua Ká»‚ Tá»ª time origin           â”‚
  â”‚   Ä‘áº¿n thá»i Ä‘iá»ƒm gá»i hÃ m."                                   â”‚
  â”‚                                                              â”‚
  â”‚  TIME ORIGIN = GÃŒ?                                            â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ Thá»i Ä‘iá»ƒm Báº®T Äáº¦U vÃ²ng Ä‘á»i cá»§a document hiá»‡n táº¡i! â”‚    â”‚
  â”‚  â”‚                                                      â”‚    â”‚
  â”‚  â”‚ Vá»›i Window (trÃ¬nh duyá»‡t):                            â”‚    â”‚
  â”‚  â”‚ â‘  Document Ä‘áº§u tiÃªn load = thá»i Ä‘iá»ƒm Táº O browser  â”‚    â”‚
  â”‚  â”‚   context!                                           â”‚    â”‚
  â”‚  â”‚ â‘¡ Náº¿u cÃ³ confirm dialog "Leave page?" = thá»i Ä‘iá»ƒm  â”‚    â”‚
  â”‚  â”‚   user confirm navigation!                           â”‚    â”‚
  â”‚  â”‚ â‘¢ Máº·c Ä‘á»‹nh = timing of navigation creation!        â”‚    â”‚
  â”‚  â”‚                                                      â”‚    â”‚
  â”‚  â”‚ Vá»›i Worker:                                           â”‚    â”‚
  â”‚  â”‚ â†’ Thá»i Ä‘iá»ƒm worker Ä‘Æ°á»£c táº¡o!                       â”‚    â”‚
  â”‚  â”‚                                                      â”‚    â”‚
  â”‚  â”‚ NÃ³i Ä‘Æ¡n giáº£n: BÃ€O LÃ‚U Ká»‚ Tá»ª KHI PAGE ÄÆ¯á»¢C Táº O!  â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### performance.now vs Date.now

```
  SO SÃNH:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                              â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ TiÃªu chÃ­            â”‚ performance.now â”‚ Date.now    â”‚    â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
  â”‚  â”‚ Tráº£ vá»              â”‚ ms tá»« page load â”‚ ms tá»«      â”‚    â”‚
  â”‚  â”‚                      â”‚ (TÆ¯Æ NG Äá»I)    â”‚ 1/1/1970   â”‚    â”‚
  â”‚  â”‚                      â”‚                 â”‚ (TUYá»†T Äá»I)â”‚   â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
  â”‚  â”‚ Äá»™ chÃ­nh xÃ¡c        â”‚ MICROSECOND     â”‚ MILLISECONDâ”‚    â”‚
  â”‚  â”‚                      â”‚ (0.001ms)       â”‚ (1ms)      â”‚    â”‚
  â”‚  â”‚                      â”‚ = floating pointâ”‚ = integer  â”‚    â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
  â”‚  â”‚ Bá»‹ áº£nh hÆ°á»Ÿng bá»Ÿi   â”‚ âŒ KHÃ”NG!       â”‚ âœ… CÃ“!    â”‚    â”‚
  â”‚  â”‚ system clock?        â”‚ Tá»‘c Ä‘á»™ tÄƒng     â”‚ Chá»‰nh giá» â”‚    â”‚
  â”‚  â”‚                      â”‚ Háº°NG Äá»ŠNH!      â”‚ = giÃ¡ trá»‹  â”‚    â”‚
  â”‚  â”‚                      â”‚                 â”‚ NHáº¢Y!      â”‚    â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
  â”‚  â”‚ Nguá»“n gá»‘c          â”‚ Browser API     â”‚ JS built-inâ”‚    â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
  â”‚  â”‚ CÃ´ng thá»©c           â”‚ n/a             â”‚ perf.timingâ”‚    â”‚
  â”‚  â”‚                      â”‚                 â”‚ .navStart +â”‚    â”‚
  â”‚  â”‚                      â”‚                 â”‚ perf.now() â”‚    â”‚
  â”‚  â”‚                      â”‚                 â”‚ â‰ˆ Date.nowâ”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â”‚  Táº I SAO SCHEDULER DÃ™NG performance.now?                      â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ 1. Äá»˜ CHÃNH XÃC: microsecond cho time slicing 5ms! â”‚    â”‚
  â”‚  â”‚ 2. á»”N Äá»ŠNH: khÃ´ng bá»‹ áº£nh hÆ°á»Ÿng khi user chá»‰nh giá»! â”‚    â”‚
  â”‚  â”‚ 3. TÆ¯Æ NG Äá»I: chá»‰ cáº§n biáº¿t "Ä‘Ã£ trÃ´i bao lÃ¢u"!    â”‚    â”‚
  â”‚  â”‚    â†’ expirationTime = startTime + timeout!           â”‚    â”‚
  â”‚  â”‚    â†’ shouldYield = elapsed >= 5ms!                    â”‚    â”‚
  â”‚  â”‚    â†’ KhÃ´ng cáº§n biáº¿t "bÃ¢y giá» máº¥y giá»"!             â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â”‚  FALLBACK (Date.now):                                         â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ const initialTime = Date.now()  // Ghi nhá»› t=0     â”‚    â”‚
  â”‚  â”‚ getCurrentTime = () =>                               â”‚    â”‚
  â”‚  â”‚   Date.now() - initialTime      // TRá»ª ÄI = tÆ°Æ¡ng Ä‘á»‘i! â”‚ â”‚
  â”‚  â”‚                                                      â”‚    â”‚
  â”‚  â”‚ â†’ MÃ´ phá»ng láº¡i performance.now báº±ng Date.now!      â”‚    â”‚
  â”‚  â”‚ â†’ Váº«n lÃ  Sá» MS ÄÃƒ TRÃ”I QUA!                      â”‚    â”‚
  â”‚  â”‚ â†’ NhÆ°ng kÃ©m chÃ­nh xÃ¡c + bá»‹ áº£nh hÆ°á»Ÿng system clock! â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§3. Fact 2: maxSigned31BitInt â€” V8 Smi!

```
  maxSigned31BitInt = 1073741823:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                              â”‚
  â”‚  SOURCE CODE:                                                 â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ // Max 31 bit integer.                               â”‚    â”‚
  â”‚  â”‚ // The max integer size in V8 for 32-bit systems.    â”‚    â”‚
  â”‚  â”‚ // Math.pow(2, 30) - 1                               â”‚    â”‚
  â”‚  â”‚ // 0b111111111111111111111111111111  (30 sá»‘ 1!)      â”‚    â”‚
  â”‚  â”‚ var maxSigned31BitInt = 1073741823;                   â”‚    â”‚
  â”‚  â”‚                                                      â”‚    â”‚
  â”‚  â”‚ var IDLE_PRIORITY_TIMEOUT = maxSigned31BitInt;        â”‚    â”‚
  â”‚  â”‚ // â‰ˆ 12.4 NGÃ€Y! (gáº§n nhÆ° KHÃ”NG BAO GIá»œ háº¿t háº¡n!)  â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â”‚  CÃ‚U Há»I: 32 bits, 1 sign bit â†’ cÃ²n 31 bits!               â”‚
  â”‚  Váº¬Y Táº I SAO 2^30 CHá»¨ KHÃ”NG PHáº¢I 2^31?                     â”‚
  â”‚                                                              â”‚
  â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
  â”‚                                                              â”‚
  â”‚  TRáº¢ Lá»œI: V8 Smi (Small Integer)!                            â”‚
  â”‚                                                              â”‚
  â”‚  TRONG ECMA SPEC:                                             â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ Sá»‘ trong JS = 64-bit IEEE 754 double!               â”‚    â”‚
  â”‚  â”‚ â†’ 8 bytes cho Má»–I sá»‘! Ráº¥t LÃƒNG PHÃ!              â”‚    â”‚
  â”‚  â”‚                                                      â”‚    â”‚
  â”‚  â”‚ VÃ­ dá»¥: array index tá»‘i Ä‘a 2^32 - 2!                â”‚    â”‚
  â”‚  â”‚ â†’ KhÃ´ng cáº§n 64 bits Ä‘á»ƒ lÆ°u!                        â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â”‚  V8 Tá»I Æ¯U â€” Smi (Small Integer):                            â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ Smi = "Small Integer" â€” sá»‘ nguyÃªn nhá»!             â”‚    â”‚
  â”‚  â”‚ â†’ V8 dÃ¹ng bit CUá»I CÃ™NG (LSB) lÃ m TAG!            â”‚    â”‚
  â”‚  â”‚ â†’ TAG = 0 â†’ Ä‘Ã¢y lÃ  Smi!                           â”‚    â”‚
  â”‚  â”‚ â†’ TAG = 1 â†’ Ä‘Ã¢y lÃ  HeapObject (pointer)!          â”‚    â”‚
  â”‚  â”‚                                                      â”‚    â”‚
  â”‚  â”‚ TRÃŠN 32-BIT PLATFORM:                                â”‚    â”‚
  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚    â”‚
  â”‚  â”‚ â”‚ 32 bits tá»•ng cá»™ng:                          â”‚      â”‚    â”‚
  â”‚  â”‚ â”‚                                              â”‚      â”‚    â”‚
  â”‚  â”‚ â”‚ [1 bit sign][30 bits value][1 bit Smi tag=0]â”‚      â”‚    â”‚
  â”‚  â”‚ â”‚                                              â”‚      â”‚    â”‚
  â”‚  â”‚ â”‚ â†’ 1 bit cho dáº¥u (+ hoáº·c -)                 â”‚      â”‚    â”‚
  â”‚  â”‚ â”‚ â†’ 1 bit cho Smi tag (0 = Smi!)             â”‚      â”‚    â”‚
  â”‚  â”‚ â”‚ â†’ CÃ’N Láº I 30 bits cho giÃ¡ trá»‹!            â”‚      â”‚    â”‚
  â”‚  â”‚ â”‚ â†’ Max = 2^30 - 1 = 1073741823!             â”‚      â”‚    â”‚
  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚    â”‚
  â”‚  â”‚                                                      â”‚    â”‚
  â”‚  â”‚ TRÃŠN 64-BIT PLATFORM:                                â”‚    â”‚
  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚    â”‚
  â”‚  â”‚ â”‚ [1 bit sign][62 bits value][1 bit Smi tag=0]â”‚      â”‚    â”‚
  â”‚  â”‚ â”‚ â†’ Max = 2^62 - 1 (ráº¥t lá»›n!)               â”‚      â”‚    â”‚
  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â”‚  Táº I SAO QUAN TRá»ŒNG?                                          â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ â†’ Smi NHANH hÆ¡n HeapObject (khÃ´ng allocate heap!)  â”‚    â”‚
  â”‚  â”‚ â†’ Scheduler dÃ¹ng 2^30-1 = safe max trÃªn 32-bit!   â”‚    â”‚
  â”‚  â”‚ â†’ IDLE_TIMEOUT = 1073741823ms â‰ˆ 12.4 ngÃ y!       â”‚    â”‚
  â”‚  â”‚ â†’ Thá»±c táº¿ = "KHÃ”NG BAO GIá»œ" háº¿t háº¡n!             â”‚    â”‚
  â”‚  â”‚ â†’ NhÆ°ng váº«n lÃ  sá»‘ há»£p lá»‡ cho Smi â†’ performance!  â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§4. Fact 3: isInputPending â€” Scheduling API!

```
  isInputPending:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                              â”‚
  â”‚  Äá»ŠNH NGHÄ¨A:                                                 â”‚
  â”‚  â†’ API phÃ¡t hiá»‡n "cÃ³ USER INPUT Ä‘ang chá» xá»­ lÃ½ khÃ´ng?"     â”‚
  â”‚  â†’ Facebook developers Ä‘á» xuáº¥t!                              â”‚
  â”‚  â†’ Spec: wicg.github.io/is-input-pending                     â”‚
  â”‚                                                              â”‚
  â”‚  SYNTAX:                                                      â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ if (navigator.scheduling.isInputPending()) {         â”‚    â”‚
  â”‚  â”‚   // CÃ“ user input Ä‘ang chá»! NHÆ¯á»œNG ngay!          â”‚    â”‚
  â”‚  â”‚ }                                                    â”‚    â”‚
  â”‚  â”‚                                                      â”‚    â”‚
  â”‚  â”‚ // Vá»›i continuous events (mousemove, pointermove):    â”‚    â”‚
  â”‚  â”‚ navigator.scheduling.isInputPending({                â”‚    â”‚
  â”‚  â”‚   includeContinuous: true                            â”‚    â”‚
  â”‚  â”‚ })                                                   â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â”‚  Táº I SAO Cáº¦N?                                                â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ HIá»†N Táº I (shouldYieldToHost):                        â”‚    â”‚
  â”‚  â”‚ â†’ Chá»‰ check "Ä‘Ã£ quÃ¡ 5ms chÆ°a?" â†’ nhÆ°á»ng!          â”‚    â”‚
  â”‚  â”‚ â†’ KHÃ”NG BIáº¾T cÃ³ user input hay khÃ´ng!               â”‚    â”‚
  â”‚  â”‚ â†’ CÃ³ thá»ƒ nhÆ°á»ng KHI KHÃ”NG Cáº¦N THIáº¾T!              â”‚    â”‚
  â”‚  â”‚                                                      â”‚    â”‚
  â”‚  â”‚ Vá»šI isInputPending:                                  â”‚    â”‚
  â”‚  â”‚ â†’ Check "CÃ“ user input chá» khÃ´ng?" â†’ nhÆ°á»ng!       â”‚    â”‚
  â”‚  â”‚ â†’ NhÆ°á»ng CHá»ˆ KHI Cáº¦N â†’ Ã­t interrupt hÆ¡n!          â”‚    â”‚
  â”‚  â”‚ â†’ Pháº£n há»“i user input NHANH HÆ N!                  â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â”‚  TÃCH Há»¢P TRONG SCHEDULER (NHÆ¯NG CHÆ¯A Báº¬T!):                â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ function shouldYieldToHost() {                       â”‚    â”‚
  â”‚  â”‚   const elapsed = getCurrentTime() - startTime;      â”‚    â”‚
  â”‚  â”‚                                                      â”‚    â”‚
  â”‚  â”‚   if (elapsed < 5ms) return false; // ChÆ°a háº¿t sliceâ”‚    â”‚
  â”‚  â”‚                                                      â”‚    â”‚
  â”‚  â”‚   // enableIsInputPending = FALSE máº·c Ä‘á»‹nh! âŒ     â”‚    â”‚
  â”‚  â”‚   if (enableIsInputPending) {                        â”‚    â”‚
  â”‚  â”‚     if (elapsed < 50ms) {                            â”‚    â”‚
  â”‚  â”‚       // Discrete events (click, keydown)            â”‚    â”‚
  â”‚  â”‚       return isInputPending();                       â”‚    â”‚
  â”‚  â”‚     }                                                â”‚    â”‚
  â”‚  â”‚     if (elapsed < 300ms) {                           â”‚    â”‚
  â”‚  â”‚       // + Continuous events (mousemove)              â”‚    â”‚
  â”‚  â”‚       return isInputPending({includeContinuous:true})â”‚    â”‚
  â”‚  â”‚     }                                                â”‚    â”‚
  â”‚  â”‚     return true; // QuÃ¡ 300ms â†’ LUÃ”N nhÆ°á»ng!       â”‚    â”‚
  â”‚  â”‚   }                                                  â”‚    â”‚
  â”‚  â”‚   return true; // Máº·c Ä‘á»‹nh: quÃ¡ 5ms â†’ nhÆ°á»ng!      â”‚    â”‚
  â”‚  â”‚ }                                                    â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â”‚  3 Táº¦NG THá»œI GIAN:                                            â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ 0-5ms:   KHÃ”NG nhÆ°á»ng (lÃ m tiáº¿p!)                  â”‚    â”‚
  â”‚  â”‚ 5-50ms:  NhÆ°á»ng Náº¾U cÃ³ discrete input (click!)     â”‚    â”‚
  â”‚  â”‚ 50-300ms: NhÆ°á»ng Náº¾U cÃ³ Báº¤T Ká»² input (mousemove!) â”‚    â”‚
  â”‚  â”‚ >300ms:  LUÃ”N nhÆ°á»ng (quÃ¡ lÃ¢u rá»“i!)               â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â”‚  COMPATIBILITY:                                               â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ â†’ Chrome 87+ : âœ… (duy nháº¥t!)                      â”‚    â”‚
  â”‚  â”‚ â†’ Firefox    : âŒ                                   â”‚    â”‚
  â”‚  â”‚ â†’ Safari     : âŒ                                   â”‚    â”‚
  â”‚  â”‚ â†’ Edge       : âœ… (Chromium-based)                  â”‚    â”‚
  â”‚  â”‚                                                      â”‚    â”‚
  â”‚  â”‚ â†’ Compatibility KÃ‰M â†’ React CHÆ¯A Báº¬T máº·c Ä‘á»‹nh!   â”‚    â”‚
  â”‚  â”‚ â†’ enableIsInputPending = false!                      â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§5. SÆ¡ Äá»“ Tá»± Váº½!

### SÆ¡ Äá»“ 1: getCurrentTime Decision

```
  getCurrentTime:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                              â”‚
  â”‚  typeof performance === 'object'?                            â”‚
  â”‚       â”‚                                                      â”‚
  â”‚       â”œâ”€â”€ YES â”€â†’ performance.now()                          â”‚
  â”‚       â”‚          â”‚                                           â”‚
  â”‚       â”‚          â†’ ms tá»« TIME ORIGIN (page load!)           â”‚
  â”‚       â”‚          â†’ Floating point (microsecond precision!)  â”‚
  â”‚       â”‚          â†’ KHÃ”NG bá»‹ áº£nh hÆ°á»Ÿng system clock!        â”‚
  â”‚       â”‚          â†’ VD: 1234.567 (ms)                        â”‚
  â”‚       â”‚                                                      â”‚
  â”‚       â””â”€â”€ NO â”€â”€â†’ Date.now() - initialTime                  â”‚
  â”‚                  â”‚                                           â”‚
  â”‚                  â†’ initialTime = Date.now() lÃºc khá»Ÿi táº¡o!  â”‚
  â”‚                  â†’ MÃ´ phá»ng "relative time"!                â”‚
  â”‚                  â†’ Integer (ms precision)!                   â”‚
  â”‚                  â†’ CÃ“ Bá»Š áº£nh hÆ°á»Ÿng system clock!           â”‚
  â”‚                  â†’ VD: 1234 (ms)                             â”‚
  â”‚                                                              â”‚
  â”‚  Cáº¢ 2: tráº£ vá» Sá» MS ÄÃƒ TRÃ”I QUA (TÆ¯Æ NG Äá»I!)             â”‚
  â”‚                                                              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### SÆ¡ Äá»“ 2: V8 Smi Bit Layout

```
  V8 Smi (Small Integer) â€” 32-BIT PLATFORM:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                              â”‚
  â”‚  32 bits total:                                              â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚Signâ”‚          30 bits VALUE                    â”‚ Tag â”‚    â”‚
  â”‚  â”‚ 1b â”‚                                          â”‚ 1b  â”‚    â”‚
  â”‚  â”‚ +/-â”‚ â† MAX = 2^30 - 1 = 1073741823 â†’        â”‚ =0  â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                                              â”‚
  â”‚  HeapObject pointer:                                         â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”   â”‚
  â”‚  â”‚          31 bits POINTER                       â”‚ Tag â”‚   â”‚
  â”‚  â”‚                                                â”‚ =1  â”‚   â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜   â”‚
  â”‚                                                              â”‚
  â”‚  Tag bit (LSB):                                              â”‚
  â”‚  â†’ 0 = Smi (Fast! Trá»±c tiáº¿p trong register!)               â”‚
  â”‚  â†’ 1 = HeapObject (Slow! Pháº£i dereference pointer!)        â”‚
  â”‚                                                              â”‚
  â”‚  64-BIT PLATFORM:                                            â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”      â”‚
  â”‚  â”‚Signâ”‚          62 bits VALUE                  â”‚ Tag â”‚      â”‚
  â”‚  â”‚ 1b â”‚ â† max = 2^62 - 1 (ráº¥t lá»›n!) â†’       â”‚ 1b  â”‚      â”‚
  â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜      â”‚
  â”‚                                                              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### SÆ¡ Äá»“ 3: shouldYieldToHost â€” 3 táº§ng

```
  shouldYieldToHost (vá»›i isInputPending):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                              â”‚
  â”‚  elapsed = getCurrentTime() - batchStartTime                 â”‚
  â”‚       â”‚                                                      â”‚
  â”‚       â–¼                                                      â”‚
  â”‚  â”Œâ”€â”€â”€ elapsed < 5ms? â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
  â”‚  â”‚ YES â†’ return FALSE (tiáº¿p tá»¥c lÃ m!) âœ…            â”‚      â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
  â”‚       â”‚ NO                                                   â”‚
  â”‚       â–¼                                                      â”‚
  â”‚  â”Œâ”€â”€â”€ elapsed < 50ms? â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
  â”‚  â”‚ â†’ Check isInputPending() (discrete: click, key!)  â”‚      â”‚
  â”‚  â”‚ â†’ CÃ“ input? â†’ NHÆ¯á»œNG! KHÃ”NG? â†’ TIáº¾P!            â”‚      â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
  â”‚       â”‚ NO                                                   â”‚
  â”‚       â–¼                                                      â”‚
  â”‚  â”Œâ”€â”€â”€ elapsed < 300ms? â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
  â”‚  â”‚ â†’ Check isInputPending({includeContinuous: true}) â”‚      â”‚
  â”‚  â”‚ â†’ Bao gá»“m cáº£ mousemove, pointermove!              â”‚      â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
  â”‚       â”‚ NO                                                   â”‚
  â”‚       â–¼                                                      â”‚
  â”‚  â”Œâ”€â”€â”€ elapsed >= 300ms â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
  â”‚  â”‚ â†’ return TRUE â€” LUÃ”N NHÆ¯á»œNG! QuÃ¡ lÃ¢u rá»“i!       â”‚      â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
  â”‚                                                              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§6. Tá»± Viáº¿t â€” SchedulerFactsEngine!

```javascript
/**
 * SchedulerFactsEngine â€” MÃ´ phá»ng 3 facts!
 * Tá»± viáº¿t báº±ng tay, KHÃ”NG dÃ¹ng thÆ° viá»‡n!
 */
var SchedulerFactsEngine = (function () {

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // FACT 1: getCurrentTime
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  function createGetCurrentTime() {
    var hasPerformanceNow =
      typeof performance === 'object' &&
      typeof performance.now === 'function';

    if (hasPerformanceNow) {
      var localPerformance = performance;
      return {
        fn: function () { return localPerformance.now(); },
        type: 'performance.now',
        precision: 'microsecond (0.001ms)',
        affected_by_system_clock: false
      };
    } else {
      var localDate = Date;
      var initialTime = localDate.now();
      return {
        fn: function () { return localDate.now() - initialTime; },
        type: 'Date.now (fallback)',
        precision: 'millisecond (1ms)',
        affected_by_system_clock: true
      };
    }
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // FACT 2: maxSigned31BitInt + Smi
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  var maxSigned31BitInt = 1073741823; // 2^30 - 1

  function explainSmi() {
    return {
      value: maxSigned31BitInt,
      binary: '0b' + maxSigned31BitInt.toString(2),
      binaryLength: maxSigned31BitInt.toString(2).length + ' bits of 1s',
      formula: 'Math.pow(2, 30) - 1',
      verify: Math.pow(2, 30) - 1 === maxSigned31BitInt,
      asMs: maxSigned31BitInt + 'ms',
      asSeconds: (maxSigned31BitInt / 1000).toFixed(0) + 's',
      asHours: (maxSigned31BitInt / 1000 / 3600).toFixed(1) + 'h',
      asDays: (maxSigned31BitInt / 1000 / 3600 / 24).toFixed(1) + ' days',
      whyNot31bits: [
        '32 bits total on 32-bit platform',
        '1 bit = sign (+/-)',
        '1 bit = Smi tag (0=Smi, 1=HeapObject)',
        '30 bits = VALUE!',
        'Max = 2^30 - 1 = ' + maxSigned31BitInt
      ],
      smiTag: {
        0: 'Smi â€” fast, stored in register!',
        1: 'HeapObject â€” slow, need dereference pointer!'
      }
    };
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // FACT 3: isInputPending simulation
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  function simulateShouldYield(elapsed, hasDiscreteInput, hasContinuousInput) {
    var frameInterval = 5;
    var continuousInputInterval = 50;
    var maxInterval = 300;

    if (elapsed < frameInterval) {
      return { yield: false, reason: 'ChÆ°a háº¿t 5ms slice!' };
    }

    // Simulate enableIsInputPending = true
    if (elapsed < continuousInputInterval) {
      if (hasDiscreteInput) {
        return { yield: true, reason: 'CÃ³ discrete input (click/key) Ä‘ang chá»!' };
      }
      return { yield: false, reason: '5-50ms, khÃ´ng cÃ³ discrete input â†’ tiáº¿p!' };
    }

    if (elapsed < maxInterval) {
      if (hasContinuousInput || hasDiscreteInput) {
        return { yield: true, reason: 'CÃ³ input (bao gá»“m mousemove) Ä‘ang chá»!' };
      }
      return { yield: false, reason: '50-300ms, khÃ´ng cÃ³ input â†’ tiáº¿p!' };
    }

    return { yield: true, reason: 'QuÃ¡ 300ms! LUÃ”N nhÆ°á»ng thread!' };
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // DEMO
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  function demo() {
    console.log('â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—');
    console.log('â•‘  SCHEDULER FACTS ENGINE â€” DEMO              â•‘');
    console.log('â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');

    // Fact 1
    console.log('\n--- FACT 1: getCurrentTime ---');
    var timer = createGetCurrentTime();
    console.log('Type:', timer.type);
    console.log('Precision:', timer.precision);
    console.log('System clock affected:', timer.affected_by_system_clock);
    console.log('Current value:', timer.fn());

    // Fact 2
    console.log('\n--- FACT 2: maxSigned31BitInt ---');
    var smi = explainSmi();
    console.log(JSON.stringify(smi, null, 2));

    // Fact 3
    console.log('\n--- FACT 3: isInputPending scenarios ---');
    var scenarios = [
      { elapsed: 3, discrete: false, continuous: false },
      { elapsed: 8, discrete: true, continuous: false },
      { elapsed: 8, discrete: false, continuous: false },
      { elapsed: 60, discrete: false, continuous: true },
      { elapsed: 60, discrete: false, continuous: false },
      { elapsed: 400, discrete: false, continuous: false }
    ];
    for (var i = 0; i < scenarios.length; i++) {
      var s = scenarios[i];
      var result = simulateShouldYield(s.elapsed, s.discrete, s.continuous);
      console.log(s.elapsed + 'ms, discrete=' + s.discrete +
        ', continuous=' + s.continuous + ' â†’ ' +
        (result.yield ? 'YIELD' : 'CONTINUE') + ' â€” ' + result.reason);
    }

    console.log('\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—');
    console.log('â•‘  âœ… Demo Complete!                           â•‘');
    console.log('â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
  }

  return {
    createGetCurrentTime: createGetCurrentTime,
    maxSigned31BitInt: maxSigned31BitInt,
    explainSmi: explainSmi,
    simulateShouldYield: simulateShouldYield,
    demo: demo
  };
})();

// Cháº¡y: SchedulerFactsEngine.demo();
```

---

## Â§7. CÃ¢u Há»i Luyá»‡n Táº­p!

### â“ CÃ¢u 1: getCurrentTime tráº£ vá» gÃ¬?

**Tráº£ lá»i:**

KHÃ”NG pháº£i "thá»i gian hiá»‡n táº¡i"! MÃ  lÃ  **sá»‘ milliseconds Ä‘Ã£ trÃ´i qua** ká»ƒ tá»« khi page Ä‘Æ°á»£c táº¡o (time origin)! LÃ  thá»i gian **TÆ¯Æ NG Äá»I**, khÃ´ng pháº£i tuyá»‡t Ä‘á»‘i!

### â“ CÃ¢u 2: Táº¡i sao dÃ¹ng performance.now thay vÃ¬ Date.now?

**Tráº£ lá»i:**

| TiÃªu chÃ­ | performance.now | Date.now |
|---|---|---|
| Precision | **Microsecond** (0.001ms) | Millisecond (1ms) |
| System clock | **KHÃ”NG** bá»‹ áº£nh hÆ°á»Ÿng! | CÃ“ bá»‹ áº£nh hÆ°á»Ÿng! |
| Tá»‘c Ä‘á»™ | TÄƒng **háº±ng Ä‘á»‹nh**! | CÃ³ thá»ƒ **nháº£y**! |

â†’ Scheduler cáº§n Ä‘o **khoáº£ng thá»i gian** chÃ­nh xÃ¡c (5ms slices!) â†’ performance.now lÃ  lá»±a chá»n tá»‘t hÆ¡n!

### â“ CÃ¢u 3: Táº¡i sao IDLE_TIMEOUT = 2^30-1 chá»© khÃ´ng pháº£i 2^31-1?

**Tráº£ lá»i:**

VÃ¬ V8 **Smi** (Small Integer) trÃªn 32-bit platform:
- 32 bits tá»•ng cá»™ng
- **1 bit** = sign (dáº¥u +/-)
- **1 bit** = Smi tag (0=Smi, 1=HeapObject)
- **30 bits** = value â†’ max = 2^30 - 1 = **1073741823**!

â†’ Smi nhanh hÆ¡n HeapObject (lÆ°u trá»±c tiáº¿p trong register, khÃ´ng cáº§n allocate heap!)
â†’ React chá»n sá»‘ **lá»›n nháº¥t mÃ  váº«n lÃ  Smi** trÃªn 32-bit!

### â“ CÃ¢u 4: 1073741823ms = bao lÃ¢u?

**Tráº£ lá»i:**

```
1073741823ms Ã· 1000 = 1073741.8s
Ã· 3600 = 298.3 giá»
Ã· 24 = â‰ˆ 12.4 NGÃ€Y!
```

â†’ IdlePriority task timeout â‰ˆ 12.4 ngÃ y = "gáº§n nhÆ° KHÃ”NG BAO GIá»œ háº¿t háº¡n"!

### â“ CÃ¢u 5: isInputPending giáº£i quyáº¿t váº¥n Ä‘á» gÃ¬?

**Tráº£ lá»i:**

**Hiá»‡n táº¡i**: `shouldYieldToHost()` chá»‰ check "quÃ¡ 5ms?" â†’ nhÆ°á»ng thread MÃ™ QUÃNG!
- CÃ³ thá»ƒ nhÆ°á»ng khi KHÃ”NG cÃ³ user input â†’ lÃ£ng phÃ­!

**Vá»›i isInputPending**: Check "CÃ“ user input Ä‘ang chá» khÃ´ng?" â†’ nhÆ°á»ng THÃ”NG MINH!
- Chá»‰ nhÆ°á»ng khi Cáº¦N â†’ Ã­t interrupt hÆ¡n â†’ task hoÃ n thÃ nh nhanh hÆ¡n!

### â“ CÃ¢u 6: Táº¡i sao React chÆ°a báº­t isInputPending?

**Tráº£ lá»i:**

**Compatibility kÃ©m!** Chá»‰ Chrome 87+ há»— trá»£! Firefox, Safari = âŒ

â†’ `enableIsInputPending = false` (máº·c Ä‘á»‹nh!)
â†’ React fallback vá» cÆ¡ cháº¿ Ä‘Æ¡n giáº£n: "quÃ¡ 5ms? â†’ nhÆ°á»ng!"

### â“ CÃ¢u 7: 3 táº§ng thá»i gian cá»§a shouldYieldToHost?

**Tráº£ lá»i:**

| Elapsed | Behavior | Input type |
|---|---|---|
| **< 5ms** | KHÃ”NG nhÆ°á»ng! Tiáº¿p tá»¥c! | â€” |
| **5-50ms** | NhÆ°á»ng Náº¾U cÃ³ **discrete** input | click, keydown |
| **50-300ms** | NhÆ°á»ng Náº¾U cÃ³ **báº¥t ká»³** input | + mousemove, pointermove |
| **â‰¥ 300ms** | **LUÃ”N** nhÆ°á»ng! | â€” |

â†’ CÃ ng lÃ¢u â†’ cÃ ng dá»… nhÆ°á»ng â†’ Ä‘áº£m báº£o khÃ´ng block quÃ¡ lÃ¢u!

---

> ğŸ¯ **Tá»•ng káº¿t 3 Facts:**
> - **Fact 1**: getCurrentTime = thá»i gian TÆ¯Æ NG Äá»I! performance.now (microsecond, stable) > Date.now (ms, unstable)!
> - **Fact 2**: maxSigned31BitInt = 2^30-1 vÃ¬ V8 Smi dÃ¹ng 1 bit tag! Idle timeout â‰ˆ 12.4 ngÃ y!
> - **Fact 3**: isInputPending = check user input thÃ´ng minh! 3 táº§ng (5/50/300ms)! NhÆ°ng chÆ°a báº­t (compatibility!)
> - **SchedulerFactsEngine** tá»± viáº¿t: getCurrentTime, explainSmi, simulateShouldYield!
> - **7 cÃ¢u há»i** luyá»‡n táº­p vá»›i Ä‘Ã¡p Ã¡n chi tiáº¿t!
