# Typeahead / Autocomplete â€” Front-End System Design Deep Dive

> **TÃ i liá»‡u há»c táº­p chuyÃªn sÃ¢u â€” HoÃ n toÃ n báº±ng Tiáº¿ng Viá»‡t**
> DÃ nh cho Senior Front-End Engineer (React/Next.js) â€” Ã”n táº­p phá»ng váº¥n System Design

---

## Má»¥c Lá»¥c

```
Â§1.  System Design Plan â€” Quy trÃ¬nh thiáº¿t káº¿ cÃ³ há»‡ thá»‘ng
Â§2.  General Requirements â€” YÃªu cáº§u tá»•ng quan
Â§3.  Architecture Types â€” 3 kiá»ƒu kiáº¿n trÃºc Typeahead
Â§4.  Stateless Architecture â€” Pros & Cons
Â§5.  Stateful (Static) Architecture â€” Pros & Cons
Â§6.  Hybrid Architecture â€” Pros & Cons
Â§7.  Tá»•ng káº¿t kiáº¿n trÃºc â€” Khi nÃ o dÃ¹ng loáº¡i nÃ o?
Â§8.  Advanced Requirements â€” YÃªu cáº§u nÃ¢ng cao
Â§9.  Mock-up â€” Cáº¥u trÃºc giao diá»‡n Typeahead
Â§10. API Design â€” Thiáº¿t káº¿ Props/Interface
Â§11. State Design â€” Cáº¥u trÃºc dá»¯ liá»‡u ná»™i bá»™
Â§12. Trie Data Structure â€” Deep Dive tá»« sá»‘ 0
Â§13. LRU Trie â€” Cáº¥u trÃºc dá»¯ liá»‡u cho Hybrid
Â§14. Data Flow â€” Luá»“ng dá»¯ liá»‡u theo tá»«ng kiáº¿n trÃºc
Â§15. Race Condition Handling â€” Xá»­ lÃ½ Ä‘iá»u kiá»‡n tranh cháº¥p
Â§16. Performance Optimization â€” Network
Â§17. Performance Optimization â€” Rendering
Â§18. Performance Optimization â€” JavaScript
Â§19. Security â€” Báº£o máº­t component
Â§20. Accessibility â€” Kháº£ nÄƒng truy cáº­p
Â§21. Triá»ƒn khai vá»›i React/Next.js â€” Code thá»±c táº¿
Â§22. Phá»ng váº¥n Q&A â€” CÃ¢u há»i thÆ°á»ng gáº·p
```

---

## Â§1. System Design Plan â€” Quy TrÃ¬nh Thiáº¿t Káº¿ CÃ³ Há»‡ Thá»‘ng

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  TRÆ¯á»šC KHI CODE â€” HÃƒY CÃ“ Káº¾ HOáº CH!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  Táº I SAO Cáº¦N Káº¾ HOáº CH?
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Trong phá»ng váº¥n System Design, interviewer KHÃ”NG     â”‚
  â”‚  muá»‘n báº¡n nháº£y vÃ o code ngay!                        â”‚
  â”‚                                                        â”‚
  â”‚  Há» muá»‘n tháº¥y báº¡n cÃ³ TÆ¯ DUY Há»† THá»NG:              â”‚
  â”‚  â†’ Hiá»ƒu váº¥n Ä‘á» TRÆ¯á»šC khi giáº£i                       â”‚
  â”‚  â†’ PhÃ¢n tÃ­ch yÃªu cáº§u cÃ³ há»‡ thá»‘ng                     â”‚
  â”‚  â†’ ÄÆ°a ra quyáº¿t Ä‘á»‹nh thiáº¿t káº¿ CÃ“ LÃ DO             â”‚
  â”‚  â†’ CÃ¢n nháº¯c trade-offs                                â”‚
  â”‚                                                        â”‚
  â”‚  ğŸ’¡ Senior Engineer = NgÆ°á»i cÃ³ Káº¾ HOáº CH!              â”‚
  â”‚  â†’ Junior: "Äá»ƒ em code thá»­..."                        â”‚
  â”‚  â†’ Senior: "Äá»ƒ em phÃ¢n tÃ­ch requirements trÆ°á»›c..."   â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  QUY TRÃŒNH 8 BÆ¯á»šC:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
  â”‚  â”‚ â‘  Clarify General Requirements â”‚                   â”‚
  â”‚  â”‚   (YÃªu cáº§u tá»•ng quan)          â”‚                   â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
  â”‚                  â–¼                                      â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
  â”‚  â”‚ â‘¡ Advanced Functionality       â”‚                   â”‚
  â”‚  â”‚   (YÃªu cáº§u nÃ¢ng cao)           â”‚                   â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
  â”‚                  â–¼                                      â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
  â”‚  â”‚ â‘¢ Quick Mock-up                â”‚                   â”‚
  â”‚  â”‚   (PhÃ¡c tháº£o giao diá»‡n)        â”‚                   â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
  â”‚                  â–¼                                      â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
  â”‚  â”‚ â‘£ API Design                   â”‚                   â”‚
  â”‚  â”‚   (Thiáº¿t káº¿ props/interface)    â”‚                   â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
  â”‚                  â–¼                                      â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
  â”‚  â”‚ â‘¤ Internal State Model         â”‚                   â”‚
  â”‚  â”‚   (Cáº¥u trÃºc dá»¯ liá»‡u ná»™i bá»™)  â”‚                   â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
  â”‚                  â–¼                                      â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
  â”‚  â”‚ â‘¥ Race Condition Handling      â”‚                   â”‚
  â”‚  â”‚   (Xá»­ lÃ½ tranh cháº¥p)           â”‚                   â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
  â”‚                  â–¼                                      â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
  â”‚  â”‚ â‘¦ Performance Optimization     â”‚                   â”‚
  â”‚  â”‚   (Tá»‘i Æ°u hiá»‡u suáº¥t)          â”‚                   â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
  â”‚                  â–¼                                      â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
  â”‚  â”‚ â‘§ Security & Accessibility     â”‚                   â”‚
  â”‚  â”‚   (Báº£o máº­t & Kháº£ nÄƒng truy cáº­p)â”‚                   â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
  â”‚                                                        â”‚
  â”‚  ğŸ’¡ Má»—i bÆ°á»›c xÃ¢y dá»±ng trÃªn bÆ°á»›c trÆ°á»›c!               â”‚
  â”‚  â†’ KhÃ´ng nháº£y cÃ³c!                                    â”‚
  â”‚  â†’ KhÃ´ng bá» qua bÆ°á»›c nÃ o!                            â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  TYPEAHEAD LÃ€ GÃŒ?
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Typeahead (hay Autocomplete) lÃ  component Gá»¢I Ã     â”‚
  â”‚  káº¿t quáº£ Tá»° Äá»˜NG khi user gÃµ vÃ o Ã´ tÃ¬m kiáº¿m!       â”‚
  â”‚                                                        â”‚
  â”‚  Báº N Gáº¶P NÃ“ á» ÄÃ‚U?                                  â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  ğŸ” Google Search Bar                    â”‚          â”‚
  â”‚  â”‚  â†’ GÃµ "react" â†’ hiá»‡n "react hooks",     â”‚          â”‚
  â”‚  â”‚    "react router", "react native"...     â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  ğŸ›’ Amazon Search                         â”‚          â”‚
  â”‚  â”‚  â†’ GÃµ "iphone" â†’ hiá»‡n "iphone 15",      â”‚          â”‚
  â”‚  â”‚    "iphone case", "iphone charger"...    â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  ğŸ“ Google Maps                           â”‚          â”‚
  â”‚  â”‚  â†’ GÃµ Ä‘á»‹a chá»‰ â†’ hiá»‡n gá»£i Ã½ Ä‘á»‹a Ä‘iá»ƒm   â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  ğŸ’¬ Slack / Discord                       â”‚          â”‚
  â”‚  â”‚  â†’ GÃµ @username â†’ hiá»‡n danh sÃ¡ch user    â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  ğŸ“ VS Code Command Palette              â”‚          â”‚
  â”‚  â”‚  â†’ Ctrl+P â†’ gÃµ tÃªn file â†’ hiá»‡n gá»£i Ã½   â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  ğŸ’¡ Typeahead = Má»™t trong nhá»¯ng component PHá»”BIáº¾N    â”‚
  â”‚  NHáº¤T trong System Design Interview!                   â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§2. General Requirements â€” YÃªu Cáº§u Tá»•ng Quan

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  BÆ¯á»šC 1: HIá»‚U RÃ• WIDGET Cáº¦N LÃ€M GÃŒ?
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  4 YÃŠU Cáº¦U Tá»”NG QUAN:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â‘  AUTOCOMPLETE RESULTS:                               â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  Widget pháº£i cung cáº¥p káº¿t quáº£ gá»£i Ã½     â”‚          â”‚
  â”‚  â”‚  dá»±a trÃªn INPUT cá»§a user.                â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  User gÃµ: "rea"                           â”‚          â”‚
  â”‚  â”‚  Widget hiá»‡n:                             â”‚          â”‚
  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚          â”‚
  â”‚  â”‚  â”‚ ğŸ” rea                   â”‚             â”‚          â”‚
  â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚          â”‚
  â”‚  â”‚  â”‚  react                   â”‚             â”‚          â”‚
  â”‚  â”‚  â”‚  react hooks             â”‚             â”‚          â”‚
  â”‚  â”‚  â”‚  react native            â”‚             â”‚          â”‚
  â”‚  â”‚  â”‚  react router            â”‚             â”‚          â”‚
  â”‚  â”‚  â”‚  real estate             â”‚             â”‚          â”‚
  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  â‘¡ GENERIC DATA MODEL:                                 â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  Widget KHÃ”NG bá»‹ giá»›i háº¡n kiá»ƒu dá»¯ liá»‡u! â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  CÃ³ thá»ƒ search:                           â”‚          â”‚
  â”‚  â”‚  â†’ Strings ("react", "vue", "angular")   â”‚          â”‚
  â”‚  â”‚  â†’ Objects ({name, email, avatar})        â”‚          â”‚
  â”‚  â”‚  â†’ Custom types (products, locations...)  â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  ğŸ’¡ Thiáº¿t káº¿ GENERIC = DÃ¹ng láº¡i Ä‘Æ°á»£c!    â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  â‘¢ EFFICIENT DATA FETCHING + CACHING:                  â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  Widget pháº£i request data HIá»†U QUáº¢!     â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  â†’ KhÃ´ng gá»­i request Má»–I KÃ Tá»°!       â”‚          â”‚
  â”‚  â”‚  â†’ Debounce + Throttle                   â”‚          â”‚
  â”‚  â”‚  â†’ Cache káº¿t quáº£ Ä‘Ã£ fetch              â”‚          â”‚
  â”‚  â”‚  â†’ Cancel request cÅ© khi cÃ³ má»›i         â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  âš ï¸ Caching nÃ¢ng cao (90% KHÃ”NG Cáº¦N!)  â”‚          â”‚
  â”‚  â”‚  â†’ NhÆ°ng cÃ¡ch request data lÃ  Ráº¤T QUAN  â”‚          â”‚
  â”‚  â”‚    TRá»ŒNG!                                 â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  â‘£ SYNC + ASYNC DATA:                                  â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  Widget pháº£i hoáº¡t Ä‘á»™ng vá»›i Cáº¢ HAI:       â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  ASYNC (Báº¥t Ä‘á»“ng bá»™):                    â”‚          â”‚
  â”‚  â”‚  â†’ Fetch tá»« API server                   â”‚          â”‚
  â”‚  â”‚  â†’ Google Search, Amazon...               â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  SYNC (Äá»“ng bá»™ / Static):                â”‚          â”‚
  â”‚  â”‚  â†’ Dá»¯ liá»‡u Ä‘Ã£ cÃ³ sáºµn trÃªn client       â”‚          â”‚
  â”‚  â”‚  â†’ Contact list, country selector...      â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  ğŸ’¡ Kiáº¿n trÃºc pháº£i LINH HOáº T!            â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§3. Architecture Types â€” 3 Kiá»ƒu Kiáº¿n TrÃºc Typeahead

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  3 KIá»‚U KIáº¾N TRÃšC â€” CHá»ŒN ÄÃšNG LÃ€ THáº®NG 50%!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  Tá»”NG QUAN 3 KIá»‚U:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
  â”‚  â”‚STATELESS â”‚  â”‚ STATEFUL â”‚  â”‚   HYBRID     â”‚        â”‚
  â”‚  â”‚(KhÃ´ng    â”‚  â”‚(CÃ³ state â”‚  â”‚(Káº¿t há»£p     â”‚        â”‚
  â”‚  â”‚ state)   â”‚  â”‚ ná»™i bá»™)  â”‚  â”‚ cáº£ hai)     â”‚        â”‚
  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
  â”‚       â”‚              â”‚               â”‚                 â”‚
  â”‚       â–¼              â–¼               â–¼                 â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
  â”‚  â”‚ 90%     â”‚  â”‚ Dá»¯ liá»‡u â”‚  â”‚ Phá»©c táº¡p     â”‚         â”‚
  â”‚  â”‚ use     â”‚  â”‚ tÄ©nh,    â”‚  â”‚ nháº¥t,        â”‚         â”‚
  â”‚  â”‚ cases!  â”‚  â”‚ nhá» gá»n  â”‚  â”‚ Legacy API   â”‚         â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
  â”‚                                                        â”‚
  â”‚  ğŸ’¡ STATELESS = Lá»±a chá»n Máº¶C Äá»ŠNH!                   â”‚
  â”‚  â†’ ÄÆ¡n giáº£n, linh hoáº¡t, dá»… tÃ­ch há»£p!                â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  Sá»° KHÃC BIá»†T Cá»T LÃ•I:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚           Stateless        Stateful       Hybrid       â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
  â”‚  â”‚ State  â”‚ KHÃ”NG giá»¯   â”‚ GIá»® state   â”‚ GIá»® + nháº­nâ”‚ â”‚
  â”‚  â”‚        â”‚ state ná»™i bá»™â”‚ ná»™i bá»™      â”‚ tá»« ngoÃ i  â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ Data   â”‚ Tá»« bÃªn ngoÃ iâ”‚ Tá»± quáº£n lÃ½ â”‚ Cáº¢ HAI    â”‚ â”‚
  â”‚  â”‚ Source â”‚ (props)      â”‚ (internal)  â”‚            â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ Server â”‚ Cáº¦N server  â”‚ KHÃ”NG cáº§n   â”‚ CÃ“ THá»‚   â”‚ â”‚
  â”‚  â”‚        â”‚ hoáº·c handlerâ”‚ server      â”‚ cÃ³ hoáº·c   â”‚ â”‚
  â”‚  â”‚        â”‚ bÃªn ngoÃ i   â”‚             â”‚ khÃ´ng     â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ Cache  â”‚ KhÃ´ng cáº§n   â”‚ KhÃ´ng cáº§n   â”‚ Cáº¦N cache â”‚ â”‚
  â”‚  â”‚        â”‚              â”‚              â”‚ strategy  â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ Phá»©c   â”‚ â­ Tháº¥p     â”‚ â­â­ Vá»«a   â”‚ â­â­â­   â”‚ â”‚
  â”‚  â”‚ táº¡p    â”‚              â”‚              â”‚ Cao       â”‚ â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  VÃ Dá»¤ THá»°C Táº¾ CHO Má»–I KIá»‚U:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  STATELESS â€” Controlled bá»Ÿi parent:                    â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  â†’ Google Search (server tráº£ káº¿t quáº£)   â”‚          â”‚
  â”‚  â”‚  â†’ Amazon Product Search                 â”‚          â”‚
  â”‚  â”‚  â†’ GitHub Code Search                    â”‚          â”‚
  â”‚  â”‚  â†’ Má»i search cáº§n gá»i API               â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  Analogy: NHÃ‚N VIÃŠN THU NGÃ‚N             â”‚          â”‚
  â”‚  â”‚  â†’ KhÃ´ng tá»± quyáº¿t giÃ¡                    â”‚          â”‚
  â”‚  â”‚  â†’ Nháº­n dá»¯ liá»‡u tá»« há»‡ thá»‘ng (parent)   â”‚          â”‚
  â”‚  â”‚  â†’ Hiá»ƒn thá»‹ káº¿t quáº£ lÃªn mÃ n hÃ¬nh        â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  STATEFUL â€” Tá»± quáº£n lÃ½ data:                           â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  â†’ Contact List (danh báº¡ Ä‘iá»‡n thoáº¡i)    â”‚          â”‚
  â”‚  â”‚  â†’ Library Catalog (thÆ° viá»‡n sÃ¡ch)       â”‚          â”‚
  â”‚  â”‚  â†’ Country/City Selector                 â”‚          â”‚
  â”‚  â”‚  â†’ Emoji Picker                          â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  Analogy: THÆ¯ VIá»†N NHá»                  â”‚          â”‚
  â”‚  â”‚  â†’ CÃ³ toÃ n bá»™ sÃ¡ch trong ká»‡             â”‚          â”‚
  â”‚  â”‚  â†’ Tá»± tra cá»©u, khÃ´ng cáº§n gá»i ai        â”‚          â”‚
  â”‚  â”‚  â†’ Nhanh nhÆ°ng giá»›i háº¡n sá»‘ lÆ°á»£ng       â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  HYBRID â€” Káº¿t há»£p cáº£ hai:                             â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  â†’ Legacy Banking System Search          â”‚          â”‚
  â”‚  â”‚  â†’ Medical Record System                 â”‚          â”‚
  â”‚  â”‚  â†’ Catalog-based e-commerce              â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  Analogy: SIÃŠU THá»Š CÃ“ KHO Táº M          â”‚          â”‚
  â”‚  â”‚  â†’ HÃ ng phá»• biáº¿n: láº¥y tá»« ká»‡ (cache)    â”‚          â”‚
  â”‚  â”‚  â†’ HÃ ng hiáº¿m: Ä‘áº·t tá»« kho lá»›n (server)  â”‚          â”‚
  â”‚  â”‚  â†’ Phá»©c táº¡p nhÆ°ng tiáº¿t kiá»‡m thá»i gian  â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§4. Stateless Architecture â€” Pros & Cons

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  STATELESS = PURE COMPONENT â€” KHÃ”NG GIá»® STATE!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  CÃCH HOáº T Äá»˜NG:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚   APPLICATION    â”‚        â”‚    TYPEAHEAD         â”‚  â”‚
  â”‚  â”‚   (Parent)       â”‚        â”‚    (Child)           â”‚  â”‚
  â”‚  â”‚                  â”‚ props  â”‚                      â”‚  â”‚
  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Nháº­n data           â”‚  â”‚
  â”‚  â”‚  â”‚ State:     â”‚  â”‚        â”‚  Render results      â”‚  â”‚
  â”‚  â”‚  â”‚ results[]  â”‚  â”‚        â”‚  Gá»i callbacks       â”‚  â”‚
  â”‚  â”‚  â”‚ loading    â”‚  â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”‚                      â”‚  â”‚
  â”‚  â”‚  â”‚ query      â”‚  â”‚ events â”‚  KHÃ”NG cÃ³ state      â”‚  â”‚
  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚        â”‚  ná»™i bá»™!            â”‚  â”‚
  â”‚  â”‚                  â”‚        â”‚                      â”‚  â”‚
  â”‚  â”‚  Xá»­ lÃ½ logic:   â”‚        â”‚  Chá»‰ lÃ  UI:          â”‚  â”‚
  â”‚  â”‚  â†’ fetch API     â”‚        â”‚  â†’ Input field       â”‚  â”‚
  â”‚  â”‚  â†’ debounce      â”‚        â”‚  â†’ Result list       â”‚  â”‚
  â”‚  â”‚  â†’ filter        â”‚        â”‚  â†’ Loading state     â”‚  â”‚
  â”‚  â”‚  â†’ cache         â”‚        â”‚                      â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  REACT CODE VÃ Dá»¤:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  // Stateless Typeahead â€” Chá»‰ nháº­n props, render UI   â”‚
  â”‚  function Typeahead({ results, onQuery, onSelect,      â”‚
  â”‚                        loading, template }) {           â”‚
  â”‚    return (                                             â”‚
  â”‚      <div className="typeahead">                       â”‚
  â”‚        <input                                          â”‚
  â”‚          onChange={(e) => onQuery(e.target.value)}     â”‚
  â”‚          placeholder="Search..."                       â”‚
  â”‚        />                                              â”‚
  â”‚        {loading && <Spinner />}                        â”‚
  â”‚        <ul className="results">                        â”‚
  â”‚          {results.map(item => (                        â”‚
  â”‚            <li key={item.id}                           â”‚
  â”‚                onClick={() => onSelect(item)}>         â”‚
  â”‚              {template ? template(item) : item.label}  â”‚
  â”‚            </li>                                       â”‚
  â”‚          ))}                                           â”‚
  â”‚        </ul>                                           â”‚
  â”‚      </div>                                            â”‚
  â”‚    );                                                  â”‚
  â”‚  }                                                     â”‚
  â”‚                                                        â”‚
  â”‚  // Parent component â€” QUáº¢N LÃ TOÃ€N Bá»˜ LOGIC!       â”‚
  â”‚  function SearchPage() {                               â”‚
  â”‚    const [results, setResults] = useState([]);         â”‚
  â”‚    const [loading, setLoading] = useState(false);      â”‚
  â”‚                                                        â”‚
  â”‚    const handleQuery = useDebouncedCallback(           â”‚
  â”‚      async (query) => {                                â”‚
  â”‚        setLoading(true);                               â”‚
  â”‚        const data = await fetch(`/api/search?q=${q}`); â”‚
  â”‚        setResults(data);                               â”‚
  â”‚        setLoading(false);                              â”‚
  â”‚      }, 300);                                          â”‚
  â”‚                                                        â”‚
  â”‚    return (                                            â”‚
  â”‚      <Typeahead                                        â”‚
  â”‚        results={results}                               â”‚
  â”‚        loading={loading}                               â”‚
  â”‚        onQuery={handleQuery}                           â”‚
  â”‚        onSelect={(item) => router.push(item.url)}     â”‚
  â”‚      />                                                â”‚
  â”‚    );                                                  â”‚
  â”‚  }                                                     â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  PROS (Æ¯u Ä‘iá»ƒm):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  âœ… Pure Component â€” KhÃ´ng state ná»™i bá»™               â”‚
  â”‚     â†’ Dá»… test, dá»… debug, predictable!                 â”‚
  â”‚     â†’ Cho cÃ¹ng props â†’ luÃ´n render cÃ¹ng káº¿t quáº£     â”‚
  â”‚                                                        â”‚
  â”‚  âœ… KhÃ´ng cáº§n cáº¥u hÃ¬nh phá»©c táº¡p                       â”‚
  â”‚     â†’ KhÃ´ng cáº§n cache TTL, cache size...              â”‚
  â”‚     â†’ Parent quyáº¿t Ä‘á»‹nh má»i thá»©!                     â”‚
  â”‚                                                        â”‚
  â”‚  âœ… Generic â€” DÃ¹ng láº¡i á»Ÿ má»i nÆ¡i!                    â”‚
  â”‚     â†’ Design System: 1 component, 100 use cases       â”‚
  â”‚     â†’ TÃ­ch há»£p dá»… dÃ ng vÃ o báº¥t ká»³ há»‡ thá»‘ng         â”‚
  â”‚                                                        â”‚
  â”‚  âœ… Controller náº±m á»Ÿ BÃŠN NGOÃ€I                        â”‚
  â”‚     â†’ Há»‡ thá»‘ng kiá»ƒm soÃ¡t component                   â”‚
  â”‚     â†’ PhÃ¹ há»£p server-driven architecture              â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  CONS (NhÆ°á»£c Ä‘iá»ƒm):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  âŒ Phá»¥ thuá»™c external controller                      â”‚
  â”‚     â†’ Parent PHáº¢I implement logic fetch, filter...    â”‚
  â”‚     â†’ Má»—i nÆ¡i dÃ¹ng = viáº¿t láº¡i logic!                 â”‚
  â”‚                                                        â”‚
  â”‚  âŒ KhÃ´ng tá»± Ä‘á»©ng Ä‘Æ°á»£c (standalone)                   â”‚
  â”‚     â†’ Cáº§n parent truyá»n data                          â”‚
  â”‚     â†’ Component "trá»‘ng rá»—ng" náº¿u khÃ´ng cÃ³ parent     â”‚
  â”‚                                                        â”‚
  â”‚  ğŸ’¡ GIáº¢I PHÃP: Custom Hook!                           â”‚
  â”‚  â†’ useTypeahead() hook chá»©a logic                     â”‚
  â”‚  â†’ Component chá»‰ render                               â”‚
  â”‚  â†’ TÃ¡i sá»­ dá»¥ng logic qua hook!                       â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§5. Stateful (Static) Architecture â€” Pros & Cons

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  STATEFUL = Tá»° QUáº¢N LÃ Dá»® LIá»†U Ná»˜I Bá»˜!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  CÃCH HOáº T Äá»˜NG:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚              TYPEAHEAD (Stateful)                 â”‚  â”‚
  â”‚  â”‚                                                   â”‚  â”‚
  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
  â”‚  â”‚  â”‚ Internal State:                              â”‚ â”‚  â”‚
  â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚  â”‚
  â”‚  â”‚  â”‚ â”‚ vocabulary = [                         â”‚   â”‚ â”‚  â”‚
  â”‚  â”‚  â”‚ â”‚   "react", "react hooks",              â”‚   â”‚ â”‚  â”‚
  â”‚  â”‚  â”‚ â”‚   "react router", "react native",      â”‚   â”‚ â”‚  â”‚
  â”‚  â”‚  â”‚ â”‚   "redux", "webpack", "vite"...        â”‚   â”‚ â”‚  â”‚
  â”‚  â”‚  â”‚ â”‚ ]                                      â”‚   â”‚ â”‚  â”‚
  â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚  â”‚
  â”‚  â”‚  â”‚                                              â”‚ â”‚  â”‚
  â”‚  â”‚  â”‚ Search Engine (Trie / Filter):               â”‚ â”‚  â”‚
  â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚  â”‚
  â”‚  â”‚  â”‚ â”‚ User gÃµ "rea"                          â”‚   â”‚ â”‚  â”‚
  â”‚  â”‚  â”‚ â”‚ â†’ Trie.search("rea")                   â”‚   â”‚ â”‚  â”‚
  â”‚  â”‚  â”‚ â”‚ â†’ ["react", "react hooks", ...]        â”‚   â”‚ â”‚  â”‚
  â”‚  â”‚  â”‚ â”‚ â†’ Render káº¿t quáº£ NGAY!                â”‚   â”‚ â”‚  â”‚
  â”‚  â”‚  â”‚ â”‚ â†’ KHÃ”NG Cáº¦N gá»i server!               â”‚   â”‚ â”‚  â”‚
  â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚  â”‚
  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
  â”‚  â”‚                                                   â”‚  â”‚
  â”‚  â”‚  âŒ KHÃ”NG gá»i server khi search                   â”‚  â”‚
  â”‚  â”‚  âœ… Táº¥t cáº£ xá»­ lÃ½ LOCAL!                          â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  PROS:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  âœ… Tá»C Äá»˜ search NHANH NHáº¤T!                        â”‚
  â”‚     â†’ Táº¥t cáº£ data á»Ÿ local (RAM)                      â”‚
  â”‚     â†’ KhÃ´ng network latency!                          â”‚
  â”‚     â†’ Trie search: O(W) â€” W = Ä‘á»™ dÃ i tá»«             â”‚
  â”‚                                                        â”‚
  â”‚  âœ… KhÃ´ng cáº§n external controller                      â”‚
  â”‚     â†’ Set data 1 láº§n, component tá»± hoáº¡t Ä‘á»™ng        â”‚
  â”‚     â†’ Standalone â€” Tá»± Ä‘á»©ng Ä‘Æ°á»£c!                     â”‚
  â”‚                                                        â”‚
  â”‚  âœ… Cáº¥u hÃ¬nh Ä‘Æ¡n giáº£n                                â”‚
  â”‚     â†’ KhÃ´ng cache TTL, khÃ´ng debounce phá»©c táº¡p       â”‚
  â”‚     â†’ PhÃ¹ há»£p cho offline apps                        â”‚
  â”‚                                                        â”‚
  â”‚  âœ… Giáº£m network requests ÄÃNG Ká»‚                    â”‚
  â”‚     â†’ Load data 1 láº§n (hoáº·c Ã­t láº§n)                  â”‚
  â”‚     â†’ Search N láº§n â†’ 0 requests!                     â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  CONS:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  âŒ CHá»ˆ hoáº¡t Ä‘á»™ng vá»›i dataset NHá»!                    â”‚
  â”‚     â†’ 1,000 items? OK! âœ…                             â”‚
  â”‚     â†’ 10,000 items? Cáº©n tháº­n! âš ï¸                    â”‚
  â”‚     â†’ 1,000,000 items? KHÃ”NG THá»‚! âŒ                 â”‚
  â”‚                                                        â”‚
  â”‚  âŒ Dá»¯ liá»‡u lá»›n â†’ BLOCK UI THREAD!                   â”‚
  â”‚     â†’ Filter 1M strings trÃªn main thread              â”‚
  â”‚     â†’ UI Äá»¨NG HÃŒNH! Jank!                            â”‚
  â”‚     â†’ User khÃ´ng scroll, click Ä‘Æ°á»£c!                  â”‚
  â”‚                                                        â”‚
  â”‚  âŒ KhÃ´ng Ä‘á»“ng bá»™ vá»›i server                           â”‚
  â”‚     â†’ Dá»¯ liá»‡u cÃ³ thá»ƒ OUTOFDATE!                     â”‚
  â”‚     â†’ KhÃ´ng phÃ¹ há»£p cho real-time data               â”‚
  â”‚                                                        â”‚
  â”‚  KHI NÃ€O DÃ™NG?                                        â”‚
  â”‚  â†’ Static vocabulary Ã­t thay Ä‘á»•i                      â”‚
  â”‚  â†’ Contact book, country list, emoji picker           â”‚
  â”‚  â†’ Limited dataset (< 10,000 items)                   â”‚
  â”‚  â†’ Offline-first applications                         â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§6. Hybrid Architecture â€” Pros & Cons

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  HYBRID = Káº¾T Há»¢P STATELESS + STATEFUL â€” PHá»¨C Táº P NHáº¤T!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  CÃCH HOáº T Äá»˜NG:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚              HYBRID TYPEAHEAD                     â”‚  â”‚
  â”‚  â”‚                                                   â”‚  â”‚
  â”‚  â”‚  User gÃµ query                                    â”‚  â”‚
  â”‚  â”‚       â”‚                                           â”‚  â”‚
  â”‚  â”‚       â–¼                                           â”‚  â”‚
  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚  â”‚
  â”‚  â”‚  â”‚ CÃ³ trong cache? â”‚                              â”‚  â”‚
  â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                              â”‚  â”‚
  â”‚  â”‚       â”‚       â”‚                                   â”‚  â”‚
  â”‚  â”‚      YES      NO                                  â”‚  â”‚
  â”‚  â”‚       â”‚       â”‚                                   â”‚  â”‚
  â”‚  â”‚       â–¼       â–¼                                   â”‚  â”‚
  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚  â”‚
  â”‚  â”‚  â”‚Internalâ”‚  â”‚ Gá»i External API â”‚                â”‚  â”‚
  â”‚  â”‚  â”‚ State  â”‚  â”‚ (Server)         â”‚                â”‚  â”‚
  â”‚  â”‚  â”‚ (Trie) â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚  â”‚
  â”‚  â”‚  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜           â”‚                           â”‚  â”‚
  â”‚  â”‚      â”‚                â–¼                           â”‚  â”‚
  â”‚  â”‚      â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚  â”‚
  â”‚  â”‚      â”‚      â”‚ LÆ°u vÃ o cache   â”‚                 â”‚  â”‚
  â”‚  â”‚      â”‚      â”‚ (LRU Trie)       â”‚                 â”‚  â”‚
  â”‚  â”‚      â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚  â”‚
  â”‚  â”‚      â”‚               â”‚                            â”‚  â”‚
  â”‚  â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚  â”‚
  â”‚  â”‚              â–¼                                    â”‚  â”‚
  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚  â”‚
  â”‚  â”‚  â”‚  Render results    â”‚                          â”‚  â”‚
  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  PROS:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  âœ… Giáº£m requests cho queries láº·p láº¡i!                â”‚
  â”‚     â†’ User search "react" â†’ cache!                    â”‚
  â”‚     â†’ User search "react" láº§n 2 â†’ INSTANT!           â”‚
  â”‚                                                        â”‚
  â”‚  âœ… Hoáº¡t Ä‘á»™ng vá»›i Legacy API cháº­m                     â”‚
  â”‚     â†’ Preload + cache = bÃ¹ Ä‘áº¯p API cháº­m             â”‚
  â”‚     â†’ Old banking/medical systems                     â”‚
  â”‚                                                        â”‚
  â”‚  âœ… Káº¿t há»£p tá»‘c Ä‘á»™ local + data server               â”‚
  â”‚     â†’ Cache hit = nhanh nhÆ° static                    â”‚
  â”‚     â†’ Cache miss = fetch tá»« server                   â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  CONS:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  âŒ PHá»¨C Táº P NHáº¤T!                                    â”‚
  â”‚     â†’ Cache invalidation strategy                     â”‚
  â”‚     â†’ Sync data giá»¯a cache vÃ  server                 â”‚
  â”‚     â†’ Nhiá»u edge cases                                â”‚
  â”‚                                                        â”‚
  â”‚  âŒ Äáº®T Äá» Ä‘á»ƒ phÃ¡t triá»ƒn vÃ  maintain                 â”‚
  â”‚     â†’ Cáº§n implement LRU cache                        â”‚
  â”‚     â†’ Cáº§n handle cache TTL, cache size               â”‚
  â”‚     â†’ Cáº§n handle stale data                          â”‚
  â”‚                                                        â”‚
  â”‚  âŒ Dá»… BUG!                                            â”‚
  â”‚     â†’ Stale cache â†’ user tháº¥y data cÅ©               â”‚
  â”‚     â†’ Cache overflow â†’ memory leak                   â”‚
  â”‚     â†’ Race conditions phá»©c táº¡p hÆ¡n                   â”‚
  â”‚                                                        â”‚
  â”‚  ğŸ’¡ 90% apps KHÃ”NG Cáº¦N hybrid!                        â”‚
  â”‚  â†’ Chá»‰ dÃ¹ng khi CÃ“ LÃ DO thuyáº¿t phá»¥c!              â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§7. Tá»•ng Káº¿t Kiáº¿n TrÃºc â€” Khi NÃ o DÃ¹ng Loáº¡i NÃ o?

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  DECISION TREE â€” CHá»ŒN KIáº¾N TRÃšC NÃ€O?
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Data tá»« server API?                                   â”‚
  â”‚       â”‚                                                â”‚
  â”‚      YES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
  â”‚       â”‚                         â”‚                       â”‚
  â”‚       â–¼                         â”‚                       â”‚
  â”‚  API nhanh + Ä‘Ã¡ng tin?         â”‚                       â”‚
  â”‚       â”‚                         â”‚                       â”‚
  â”‚      YES          NO            â”‚                       â”‚
  â”‚       â”‚            â”‚            â”‚                       â”‚
  â”‚       â–¼            â–¼            â”‚                       â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚                       â”‚
  â”‚  â”‚STATELESSâ”‚ â”‚ HYBRID   â”‚      â”‚                       â”‚
  â”‚  â”‚ â­      â”‚ â”‚ (Legacy  â”‚      â”‚                       â”‚
  â”‚  â”‚ 90%     â”‚ â”‚  API)    â”‚      â”‚                       â”‚
  â”‚  â”‚ cases!  â”‚ â”‚          â”‚      â”‚                       â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚                       â”‚
  â”‚                                 â”‚                       â”‚
  â”‚       NO â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
  â”‚       â”‚                                                â”‚
  â”‚       â–¼                                                â”‚
  â”‚  Dataset < 10K items?                                  â”‚
  â”‚       â”‚                                                â”‚
  â”‚      YES          NO                                   â”‚
  â”‚       â”‚            â”‚                                   â”‚
  â”‚       â–¼            â–¼                                   â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
  â”‚  â”‚ STATEFUL â”‚ â”‚STATELESSâ”‚                              â”‚
  â”‚  â”‚ (Static) â”‚ â”‚(+ serverâ”‚                              â”‚
  â”‚  â”‚          â”‚ â”‚ search) â”‚                              â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  Báº¢NG Tá»”NG Káº¾T:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
  â”‚  â”‚ TiÃªu chÃ­   â”‚Stateless â”‚ Stateful â”‚ Hybrid   â”‚      â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
  â”‚  â”‚ Äá»™ phá»•biáº¿nâ”‚ 90%      â”‚ 8%       â”‚ 2%       â”‚      â”‚
  â”‚  â”‚ Äá»™ phá»©ctáº¡pâ”‚ Tháº¥p     â”‚ Trung    â”‚ Ráº¥t cao  â”‚      â”‚
  â”‚  â”‚ Tá»‘c Ä‘á»™    â”‚ Phá»¥ thuá»™câ”‚ Nhanh    â”‚ Nhanh    â”‚      â”‚
  â”‚  â”‚ search    â”‚ network  â”‚ nháº¥t!    â”‚ (cached) â”‚      â”‚
  â”‚  â”‚ Scalable  â”‚ Ráº¥t tá»‘t â”‚ Háº¡n cháº¿ â”‚ Tá»‘t      â”‚      â”‚
  â”‚  â”‚ Offline   â”‚ âŒ        â”‚ âœ…       â”‚ Má»™t pháº§nâ”‚      â”‚
  â”‚  â”‚ Maintain  â”‚ Dá»…       â”‚ Dá»…       â”‚ KhÃ³      â”‚      â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
  â”‚                                                        â”‚
  â”‚  ğŸ’¡ TRONG PHá»NG Váº¤N:                                  â”‚
  â”‚  â†’ NÃªn báº¯t Ä‘áº§u vá»›i STATELESS!                        â”‚
  â”‚  â†’ Mention cÃ¡c kiá»ƒu khÃ¡c Ä‘á»ƒ show breadth!             â”‚
  â”‚  â†’ Deep dive stateless, nÃ³i qua stateful & hybrid    â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§8. Advanced Requirements â€” YÃªu Cáº§u NÃ¢ng Cao

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  BÆ¯á»šC 2: Cáº¤U HÃŒNH + TÃ™Y CHá»ˆNH + Báº¢O Máº¬T + A11Y!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  â‘  CONFIGURATION FLEXIBILITY:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Cho phÃ©p developer Cáº¤U HÃŒNH component:               â”‚
  â”‚                                                        â”‚
  â”‚  Cache TTL (chá»‰ Hybrid):                              â”‚
  â”‚  â†’ Bao lÃ¢u cache entry tá»“n táº¡i?                      â”‚
  â”‚  â†’ cacheTTL: 60000 (60 giÃ¢y)                          â”‚
  â”‚                                                        â”‚
  â”‚  Cache Size (chá»‰ Hybrid):                             â”‚
  â”‚  â†’ Bao nhiÃªu entries giá»¯ trong cache?                â”‚
  â”‚  â†’ cacheSize: 100                                     â”‚
  â”‚                                                        â”‚
  â”‚  Max Results:                                          â”‚
  â”‚  â†’ Hiá»ƒn thá»‹ tá»‘i Ä‘a bao nhiÃªu káº¿t quáº£?              â”‚
  â”‚  â†’ maxResults: 10                                     â”‚
  â”‚                                                        â”‚
  â”‚  Custom Template:                                      â”‚
  â”‚  â†’ Developer Tá»° Äá»ŠNH NGHÄ¨A cÃ¡ch render item!        â”‚
  â”‚  â†’ KhÃ´ng bá»‹ Ã©p dÃ¹ng template máº·c Ä‘á»‹nh!              â”‚
  â”‚  â†’ Trong React: renderItem prop (render prop pattern) â”‚
  â”‚                                                        â”‚
  â”‚  VÃ Dá»¤ TEMPLATE CUSTOMIZATION:                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  // Máº·c Ä‘á»‹nh: chá»‰ text                  â”‚          â”‚
  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚          â”‚
  â”‚  â”‚  â”‚ react hooks              â”‚             â”‚          â”‚
  â”‚  â”‚  â”‚ react router             â”‚             â”‚          â”‚
  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  // Custom template: avatar + text        â”‚          â”‚
  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚          â”‚
  â”‚  â”‚  â”‚ ğŸ‘¤ John Doe             â”‚             â”‚          â”‚
  â”‚  â”‚  â”‚    john@example.com      â”‚             â”‚          â”‚
  â”‚  â”‚  â”‚ ğŸ‘¤ Jane Smith           â”‚             â”‚          â”‚
  â”‚  â”‚  â”‚    jane@example.com      â”‚             â”‚          â”‚
  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  // Custom template: product card         â”‚          â”‚
  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚          â”‚
  â”‚  â”‚  â”‚ ğŸ“± iPhone 15 Pro        â”‚             â”‚          â”‚
  â”‚  â”‚  â”‚    $999 | â­ 4.8        â”‚             â”‚          â”‚
  â”‚  â”‚  â”‚ ğŸ’» MacBook Air M3      â”‚             â”‚          â”‚
  â”‚  â”‚  â”‚    $1,099 | â­ 4.9      â”‚             â”‚          â”‚
  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â‘¡ CUSTOMIZATION (CSS API):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Expose CSS API cho developer:                         â”‚
  â”‚                                                        â”‚
  â”‚  â†’ classNames={{ container, input, list, item }}       â”‚
  â”‚  â†’ styles={{ container, input, list, item }}           â”‚
  â”‚  â†’ CSS Variables (--typeahead-bg, --typeahead-border)  â”‚
  â”‚                                                        â”‚
  â”‚  ğŸ’¡ Náº¿u build Design System:                           â”‚
  â”‚  â†’ CSS Variables = cÃ¡ch tá»‘t nháº¥t!                     â”‚
  â”‚  â†’ Theme-able, khÃ´ng cáº§n override specificity!        â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â‘¢ SECURITY (Báº£o máº­t):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Content Filtration:                                    â”‚
  â”‚  â†’ Filter ná»™i dung tá»« untrusted server                â”‚
  â”‚  â†’ Cháº·n malicious HTML/scripts                        â”‚
  â”‚  â†’ sanitize(result) trÆ°á»›c khi render!                 â”‚
  â”‚                                                        â”‚
  â”‚  DOM Encapsulation:                                     â”‚
  â”‚  â†’ KhÃ´ng cho external code sá»­a DOM!                   â”‚
  â”‚  â†’ Malicious plugin cÃ³ thá»ƒ modify DOM                 â”‚
  â”‚  â†’ â†’ Steal data, inject links, phishing!              â”‚
  â”‚  â†’ Solution: Shadow DOM (Web Components)!             â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â‘£ ACCESSIBILITY:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â†’ Widget pháº£i accessible trÃªn má»i device!           â”‚
  â”‚  â†’ Screen readers pháº£i Ä‘á»c Ä‘Æ°á»£c!                     â”‚
  â”‚  â†’ Keyboard navigation pháº£i hoáº¡t Ä‘á»™ng!               â”‚
  â”‚  â†’ (Chi tiáº¿t á»Ÿ Â§20)                                   â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â‘¤ PERFORMANCE:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â†’ Network efficient (Ã­t request nháº¥t cÃ³ thá»ƒ)        â”‚
  â”‚  â†’ Minimal bundle size                                â”‚
  â”‚  â†’ Hoáº¡t Ä‘á»™ng tá»‘t vá»›i lÆ°á»£ng data lá»›n                 â”‚
  â”‚  â†’ (Chi tiáº¿t á»Ÿ Â§16-Â§18)                               â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§9. Mock-up â€” Cáº¥u TrÃºc Giao Diá»‡n Typeahead

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  PHÃC THáº¢O GIAO DIá»†N â€” HIá»‚U Cáº¤U TRÃšC DOM!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  Cáº¤U TRÃšC GIAO DIá»†N:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  TYPEAHEAD CONTAINER                      â”‚          â”‚
  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚
  â”‚  â”‚  â”‚  ğŸ” react hooks         [Ã—]          â”‚ â”‚          â”‚
  â”‚  â”‚  â”‚     â†‘                                â”‚ â”‚          â”‚
  â”‚  â”‚  â”‚  TYPEAHEAD INPUT                     â”‚ â”‚          â”‚
  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  SEARCH LIST (dropdown)                   â”‚          â”‚
  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚
  â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚          â”‚
  â”‚  â”‚  â”‚ â”‚ react hooks  â† SEARCH ITEM #1   â”‚ â”‚ â”‚          â”‚
  â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚          â”‚
  â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚          â”‚
  â”‚  â”‚  â”‚ â”‚ react hook form â† SEARCH ITEM #2â”‚ â”‚ â”‚          â”‚
  â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚          â”‚
  â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚          â”‚
  â”‚  â”‚  â”‚ â”‚ react hooks tutorial â† ITEM #3  â”‚ â”‚ â”‚          â”‚
  â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚          â”‚
  â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚          â”‚
  â”‚  â”‚  â”‚ â”‚ use hooks in react â† ITEM #4    â”‚ â”‚ â”‚          â”‚
  â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚          â”‚
  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚                                                        â”‚
  â”‚  DOM STRUCTURE:                                         â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  <div class="typeahead">         â† Containerâ”‚       â”‚
  â”‚  â”‚    <input type="text" />         â† Input    â”‚       â”‚
  â”‚  â”‚    <ul class="search-list">      â† List     â”‚       â”‚
  â”‚  â”‚      <li class="search-item">    â† Item     â”‚       â”‚
  â”‚  â”‚        {template(item)}          â† Custom!  â”‚       â”‚
  â”‚  â”‚      </li>                                  â”‚       â”‚
  â”‚  â”‚      <li class="search-item">...</li>       â”‚       â”‚
  â”‚  â”‚    </ul>                                    â”‚       â”‚
  â”‚  â”‚  </div>                                     â”‚       â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  ğŸ’¡ "Item representation customization"                â”‚
  â”‚  = Developer quyáº¿t Ä‘á»‹nh Ná»˜I DUNG cá»§a má»—i <li>!      â”‚
  â”‚  â†’ Qua template prop / renderItem prop                â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§10. API Design â€” Thiáº¿t Káº¿ Props/Interface

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  API = Há»¢P Äá»’NG GIá»®A COMPONENT VÃ€ DEVELOPER!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  TYPESCRIPT INTERFACE:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  // Chia props theo architecture type:                  â”‚
  â”‚                                                        â”‚
  â”‚  interface TypeaheadProps<T> {                          â”‚
  â”‚    // â•â•â• CHUNG cho táº¥t cáº£ kiáº¿n trÃºc â•â•â•              â”‚
  â”‚    maxResults?: number;      // Tá»‘i Ä‘a bao nhiÃªu kq  â”‚
  â”‚    minQueryLength?: number;  // GÃµ bao nhiÃªu kÃ½ tá»±   â”‚
  â”‚                              // má»›i báº¯t Ä‘áº§u search?  â”‚
  â”‚    placeholder?: string;     // Placeholder text       â”‚
  â”‚                                                        â”‚
  â”‚    // â•â•â• TEMPLATE â•â•â•                                 â”‚
  â”‚    renderItem?: (item: T) => ReactNode;                â”‚
  â”‚    // Developer custom cÃ¡ch hiá»ƒn thá»‹ má»—i item         â”‚
  â”‚                                                        â”‚
  â”‚    // â•â•â• CALLBACKS â•â•â•                                â”‚
  â”‚    onQuery: (query: string) => void | Promise<void>;   â”‚
  â”‚    // Gá»i khi user gÃµ query                           â”‚
  â”‚    // Stateless: Báº®T BUá»˜C! (vÃ¬ cáº§n external handler) â”‚
  â”‚    // Stateful: TÃ™Y CHá»ŒN (cÃ³ thá»ƒ search internal)    â”‚
  â”‚                                                        â”‚
  â”‚    onSelect?: (item: T) => void;                       â”‚
  â”‚    // Gá»i khi user chá»n 1 item                       â”‚
  â”‚                                                        â”‚
  â”‚    onItemUpdate?: (                                    â”‚
  â”‚      data: T,                                          â”‚
  â”‚      element: HTMLElement                               â”‚
  â”‚    ) => HTMLElement;                                    â”‚
  â”‚    // Lazy update DOM element (tá»‘i Æ°u rendering!)     â”‚
  â”‚                                                        â”‚
  â”‚    // â•â•â• DATA (cho Stateless) â•â•â•                    â”‚
  â”‚    results?: T[];             // Káº¿t quáº£ tÃ¬m kiáº¿m   â”‚
  â”‚    loading?: boolean;         // Äang loading?        â”‚
  â”‚                                                        â”‚
  â”‚    // â•â•â• CHá»ˆ HYBRID â•â•â•                               â”‚
  â”‚    cacheTTL?: number;         // Cache sá»‘ng bao lÃ¢u?  â”‚
  â”‚    cacheSize?: number;        // Cache chá»©a bao nhiÃªu?â”‚
  â”‚    pageSize?: number;         // PhÃ¢n trang            â”‚
  â”‚  }                                                     â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  GIáº¢I THÃCH Tá»ªNG PROP:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  maxResults (number, default: 10):                     â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  Giá»›i háº¡n sá»‘ káº¿t quáº£ hiá»ƒn thá»‹.         â”‚          â”‚
  â”‚  â”‚  â†’ maxResults: 5 â†’ chá»‰ hiá»‡n 5 items    â”‚          â”‚
  â”‚  â”‚  â†’ TrÃ¡nh render quÃ¡ nhiá»u DOM nodes!    â”‚          â”‚
  â”‚  â”‚  â†’ UX: User khÃ´ng cáº§n scroll 100 items  â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  minQueryLength (number, default: 1):                  â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  Bao nhiÃªu kÃ½ tá»± má»›i trigger search?    â”‚          â”‚
  â”‚  â”‚  â†’ minQueryLength: 3                     â”‚          â”‚
  â”‚  â”‚  â†’ User gÃµ "re" â†’ KHÃ”NG search!         â”‚          â”‚
  â”‚  â”‚  â†’ User gÃµ "rea" â†’ Báº®T Äáº¦U search!    â”‚          â”‚
  â”‚  â”‚  â†’ Giáº£m sá»‘ requests khÃ´ng cáº§n thiáº¿t!    â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  renderItem (function):                                â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  // Máº·c Ä‘á»‹nh: hiá»ƒn thá»‹ text              â”‚          â”‚
  â”‚  â”‚  renderItem={(item) => item.label}        â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  // Custom: product card                  â”‚          â”‚
  â”‚  â”‚  renderItem={(product) => (               â”‚          â”‚
  â”‚  â”‚    <div className="product-item">         â”‚          â”‚
  â”‚  â”‚      <img src={product.image} />          â”‚          â”‚
  â”‚  â”‚      <span>{product.name}</span>          â”‚          â”‚
  â”‚  â”‚      <span>${product.price}</span>        â”‚          â”‚
  â”‚  â”‚    </div>                                 â”‚          â”‚
  â”‚  â”‚  )}                                       â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  onQuery (function â€” Báº®T BUá»˜C cho Stateless!):        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  // Stateless: gá»i API                   â”‚          â”‚
  â”‚  â”‚  onQuery={async (q) => {                  â”‚          â”‚
  â”‚  â”‚    const data = await searchAPI(q);       â”‚          â”‚
  â”‚  â”‚    setResults(data);                      â”‚          â”‚
  â”‚  â”‚  }}                                       â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  // Stateful: search local                â”‚          â”‚
  â”‚  â”‚  onQuery={(q) => {                        â”‚          â”‚
  â”‚  â”‚    const filtered = trie.search(q);       â”‚          â”‚
  â”‚  â”‚    setResults(filtered);                  â”‚          â”‚
  â”‚  â”‚  }}                                       â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  onItemUpdate (function â€” Tá»‘i Æ°u rendering!):         â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  // Thay vÃ¬ re-render TOÃ€N Bá»˜ list:     â”‚          â”‚
  â”‚  â”‚  // â†’ Chá»‰ UPDATE 1 DOM element!          â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  onItemUpdate={(data, el) => {            â”‚          â”‚
  â”‚  â”‚    el.querySelector('.name')              â”‚          â”‚
  â”‚  â”‚      .textContent = data.name;            â”‚          â”‚
  â”‚  â”‚    el.querySelector('.price')             â”‚          â”‚
  â”‚  â”‚      .textContent = data.price;           â”‚          â”‚
  â”‚  â”‚    return el; // return element Ä‘Ã£ update â”‚          â”‚
  â”‚  â”‚  }}                                       â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  ğŸ’¡ Trong React: ThÆ°á»ng KHÃ”NG Cáº¦N!       â”‚          â”‚
  â”‚  â”‚  â†’ React Ä‘Ã£ cÃ³ Virtual DOM reconciliationâ”‚          â”‚
  â”‚  â”‚  â†’ NhÆ°ng Vanilla JS thÃ¬ Ráº¤T Há»®U ÃCH!  â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§11. State Design â€” Cáº¥u TrÃºc Dá»¯ Liá»‡u Ná»™i Bá»™

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  STATE = CÃCH COMPONENT LÆ¯U TRá»® Dá»® LIá»†U BÃŠN TRONG!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  THEO Tá»ªNG KIáº¾N TRÃšC:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â‘  STATELESS:                                         â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚   KHÃ”NG CÃ“ INTERNAL STATE!               â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚   â†’ Táº¥t cáº£ data Ä‘áº¿n tá»« props            â”‚          â”‚
  â”‚  â”‚   â†’ Component chá»‰ render                 â”‚          â”‚
  â”‚  â”‚   â†’ KhÃ´ng cáº§n thiáº¿t káº¿ state             â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚   // React: Chá»‰ cáº§n local UI state       â”‚          â”‚
  â”‚  â”‚   const [isOpen, setIsOpen] = useState()  â”‚          â”‚
  â”‚  â”‚   const [activeIdx, setActiveIdx] = ...   â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  â‘¡ STATEFUL: DÃ¹ng TRIE!                               â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚   Internal State = Trie data structure    â”‚          â”‚
  â”‚  â”‚   â†’ Trie cho phÃ©p search theo prefix     â”‚          â”‚
  â”‚  â”‚   â†’ Nhanh nháº¥t cho typeahead use case!   â”‚          â”‚
  â”‚  â”‚   â†’ Chi tiáº¿t á»Ÿ Â§12                       â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  â‘¢ HYBRID: DÃ¹ng LRU TRIE!                             â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚   Internal State = LRU Trie               â”‚          â”‚
  â”‚  â”‚   â†’ Trie + LRU eviction policy            â”‚          â”‚
  â”‚  â”‚   â†’ Giá»›i háº¡n sá»‘ entries trong cache      â”‚          â”‚
  â”‚  â”‚   â†’ Tá»± xÃ³a entries Ã­t dÃ¹ng nháº¥t!        â”‚          â”‚
  â”‚  â”‚   â†’ Chi tiáº¿t á»Ÿ Â§13                       â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§12. Trie Data Structure â€” Deep Dive Tá»« Sá»‘ 0

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  TRIE = CÃ‚Y TÃŒM KIáº¾M THEO TIá»€N Tá» â€” Cá»°C NHANH!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  TRIE LÃ€ GÃŒ?
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Trie (hay Prefix Tree) lÃ  cáº¥u trÃºc dá»¯ liá»‡u         â”‚
  â”‚  dáº¡ng CÃ‚Y, cho phÃ©p tÃ¬m kiáº¿m theo TIá»€N Tá»           â”‚
  â”‚  cá»±c nhanh!                                            â”‚
  â”‚                                                        â”‚
  â”‚  Táº¡i sao dÃ¹ng Trie cho Typeahead?                      â”‚
  â”‚  â†’ User gÃµ "rea" â†’ tÃ¬m Táº¤T Cáº¢ tá»« báº¯t Ä‘áº§u báº±ng    â”‚
  â”‚    "rea" â†’ "react", "react hooks", "read"...          â”‚
  â”‚  â†’ ÄÃ¢y chÃ­nh lÃ  PREFIX SEARCH!                        â”‚
  â”‚  â†’ Trie Ä‘Æ°á»£c THIáº¾T Káº¾ cho viá»‡c nÃ y!                  â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  VÃ Dá»¤ XÃ‚Y Dá»°NG TRIE:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Vocabulary: ["car", "carry", "card", "case", "jane"] â”‚
  â”‚                                                        â”‚
  â”‚  BÆ¯á»šC 1: Insert "car"                                  â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚         (root)                            â”‚          â”‚
  â”‚  â”‚           â”‚                               â”‚          â”‚
  â”‚  â”‚           c                               â”‚          â”‚
  â”‚  â”‚           â”‚                               â”‚          â”‚
  â”‚  â”‚           a                               â”‚          â”‚
  â”‚  â”‚           â”‚                               â”‚          â”‚
  â”‚  â”‚           r â† [END: "car"]                â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  â†’ Táº¡o 3 nodes: c â†’ a â†’ r               â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  BÆ¯á»šC 2: Insert "carry"                                â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚         (root)                            â”‚          â”‚
  â”‚  â”‚           â”‚                               â”‚          â”‚
  â”‚  â”‚           c                               â”‚          â”‚
  â”‚  â”‚           â”‚                               â”‚          â”‚
  â”‚  â”‚           a                               â”‚          â”‚
  â”‚  â”‚           â”‚                               â”‚          â”‚
  â”‚  â”‚           r â† [END: "car"]                â”‚          â”‚
  â”‚  â”‚           â”‚                               â”‚          â”‚
  â”‚  â”‚           r                               â”‚          â”‚
  â”‚  â”‚           â”‚                               â”‚          â”‚
  â”‚  â”‚           y â† [END: "carry"]              â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  â†’ TÃI Sá»¬ Dá»¤NG nodes c, a, r Ä‘Ã£ cÃ³!    â”‚          â”‚
  â”‚  â”‚  â†’ Chá»‰ táº¡o thÃªm 2 nodes: r â†’ y          â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  BÆ¯á»šC CUá»I: Insert táº¥t cáº£                             â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚              (root)                       â”‚          â”‚
  â”‚  â”‚             /      \                      â”‚          â”‚
  â”‚  â”‚            c        j                     â”‚          â”‚
  â”‚  â”‚            â”‚        â”‚                     â”‚          â”‚
  â”‚  â”‚            a        a                     â”‚          â”‚
  â”‚  â”‚          /   \      â”‚                     â”‚          â”‚
  â”‚  â”‚         r     s     n                     â”‚          â”‚
  â”‚  â”‚        / \    â”‚     â”‚                     â”‚          â”‚
  â”‚  â”‚       â–    d   e     e                     â”‚          â”‚
  â”‚  â”‚       â”‚   â–    â–      â–                      â”‚          â”‚
  â”‚  â”‚      r,y                                  â”‚          â”‚
  â”‚  â”‚      â–                                     â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  â–  = End of word marker                   â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  Äá»c theo Ä‘Æ°á»ng Ä‘i:                      â”‚          â”‚
  â”‚  â”‚  rootâ†’câ†’aâ†’r         = "car"     âœ…       â”‚          â”‚
  â”‚  â”‚  rootâ†’câ†’aâ†’râ†’râ†’y    = "carry"   âœ…       â”‚          â”‚
  â”‚  â”‚  rootâ†’câ†’aâ†’râ†’d      = "card"    âœ…       â”‚          â”‚
  â”‚  â”‚  rootâ†’câ†’aâ†’sâ†’e      = "case"    âœ…       â”‚          â”‚
  â”‚  â”‚  rootâ†’jâ†’aâ†’nâ†’e      = "jane"    âœ…       â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  CÃCH SEARCH TRONG TRIE:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Query: "ca"                                           â”‚
  â”‚                                                        â”‚
  â”‚  BÆ°á»›c 1: Äi theo prefix "ca"                          â”‚
  â”‚  root â†’ c â†’ a  âœ… TÃ¬m tháº¥y node "a"!                 â”‚
  â”‚                                                        â”‚
  â”‚  BÆ°á»›c 2: Láº¥y Táº¤T Cáº¢ descendants cá»§a "a"              â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚       a â† Tá»ª ÄÃ‚Y!                       â”‚          â”‚
  â”‚  â”‚     /   \                                 â”‚          â”‚
  â”‚  â”‚    r     s                                â”‚          â”‚
  â”‚  â”‚   / \    â”‚                                â”‚          â”‚
  â”‚  â”‚  â–    d   e                                â”‚          â”‚
  â”‚  â”‚  â”‚   â–    â–                                 â”‚          â”‚
  â”‚  â”‚  r,y                                      â”‚          â”‚
  â”‚  â”‚  â–                                         â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  Káº¿t quáº£: ["car", "carry", "card", "case"]â”‚         â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  â†’ Chá»‰ cáº§n 2 bÆ°á»›c (length of "ca") Ä‘á»ƒ Äáº¾N NODE!    â”‚
  â”‚  â†’ Sau Ä‘Ã³ duyá»‡t subtree Ä‘á»ƒ láº¥y káº¿t quáº£!            â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  Äá»˜ PHá»¨C Táº P:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
  â”‚  â”‚ Operation    â”‚ Complexity                     â”‚     â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
  â”‚  â”‚ Search       â”‚ O(W) â€” W = Ä‘á»™ dÃ i tá»« search  â”‚     â”‚
  â”‚  â”‚ Insert       â”‚ O(W) â€” W = Ä‘á»™ dÃ i tá»« insert  â”‚     â”‚
  â”‚  â”‚ Space        â”‚ O(N Ã— A) â€” N = sá»‘ tá»«,         â”‚     â”‚
  â”‚  â”‚              â”‚   A = kÃ­ch thÆ°á»›c alphabet      â”‚     â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
  â”‚                                                        â”‚
  â”‚  VÃ Dá»¤: Tá»« "react" cÃ³ 5 kÃ½ tá»±                       â”‚
  â”‚  â†’ Search trong Trie: Tá»I ÄA 5 bÆ°á»›c!                â”‚
  â”‚  â†’ KhÃ´ng phá»¥ thuá»™c vÃ o Tá»”NG Sá» Tá»ª trong Trie!      â”‚
  â”‚  â†’ CÃ³ 1 triá»‡u tá»«? Váº«n chá»‰ 5 bÆ°á»›c!                  â”‚
  â”‚                                                        â”‚
  â”‚  ğŸ’¡ So vá»›i Array.filter():                             â”‚
  â”‚  â†’ Array: O(N Ã— W) â€” pháº£i duyá»‡t Tá»ªNG pháº§n tá»­!     â”‚
  â”‚  â†’ Trie: O(W) â€” chá»‰ duyá»‡t theo prefix!              â”‚
  â”‚  â†’ Trie NHANH HÆ N NHIá»€U khi N lá»›n!                  â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  REACT IMPLEMENTATION:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  class TrieNode {                                      â”‚
  â”‚    constructor() {                                     â”‚
  â”‚      this.children = {};  // { char: TrieNode }        â”‚
  â”‚      this.isEnd = false;  // Ä‘Ã¡nh dáº¥u cuá»‘i tá»«        â”‚
  â”‚      this.word = null;    // lÆ°u tá»« Ä‘áº§y Ä‘á»§           â”‚
  â”‚    }                                                   â”‚
  â”‚  }                                                     â”‚
  â”‚                                                        â”‚
  â”‚  class Trie {                                          â”‚
  â”‚    constructor() {                                     â”‚
  â”‚      this.root = new TrieNode();                       â”‚
  â”‚    }                                                   â”‚
  â”‚                                                        â”‚
  â”‚    insert(word) {                                      â”‚
  â”‚      let node = this.root;                             â”‚
  â”‚      for (const char of word.toLowerCase()) {          â”‚
  â”‚        if (!node.children[char]) {                     â”‚
  â”‚          node.children[char] = new TrieNode();         â”‚
  â”‚        }                                               â”‚
  â”‚        node = node.children[char];                     â”‚
  â”‚      }                                                 â”‚
  â”‚      node.isEnd = true;                                â”‚
  â”‚      node.word = word;                                 â”‚
  â”‚    }                                                   â”‚
  â”‚                                                        â”‚
  â”‚    search(prefix, maxResults = 10) {                   â”‚
  â”‚      let node = this.root;                             â”‚
  â”‚      // BÆ°á»›c 1: Äi theo prefix                       â”‚
  â”‚      for (const char of prefix.toLowerCase()) {        â”‚
  â”‚        if (!node.children[char]) return [];            â”‚
  â”‚        node = node.children[char];                     â”‚
  â”‚      }                                                 â”‚
  â”‚      // BÆ°á»›c 2: Thu tháº­p táº¥t cáº£ tá»« trong subtree     â”‚
  â”‚      const results = [];                               â”‚
  â”‚      this._collect(node, results, maxResults);         â”‚
  â”‚      return results;                                   â”‚
  â”‚    }                                                   â”‚
  â”‚                                                        â”‚
  â”‚    _collect(node, results, max) {                      â”‚
  â”‚      if (results.length >= max) return;                â”‚
  â”‚      if (node.isEnd) results.push(node.word);          â”‚
  â”‚      for (const child of Object.values(node.children)){â”‚
  â”‚        this._collect(child, results, max);             â”‚
  â”‚      }                                                 â”‚
  â”‚    }                                                   â”‚
  â”‚  }                                                     â”‚
  â”‚                                                        â”‚
  â”‚  // Sá»­ dá»¥ng trong React:                              â”‚
  â”‚  const trie = useMemo(() => {                          â”‚
  â”‚    const t = new Trie();                               â”‚
  â”‚    contacts.forEach(c => t.insert(c.name));            â”‚
  â”‚    return t;                                           â”‚
  â”‚  }, [contacts]);                                       â”‚
  â”‚                                                        â”‚
  â”‚  const handleSearch = (query) => {                     â”‚
  â”‚    setResults(trie.search(query));                     â”‚
  â”‚  };                                                    â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§13. LRU Trie â€” Cáº¥u TrÃºc Dá»¯ Liá»‡u Cho Hybrid

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  LRU TRIE = TRIE + GIá»šI Háº N Bá»˜ NHá»š THÃ”NG MINH!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  LRU LÃ€ GÃŒ?
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  LRU = Least Recently Used                             â”‚
  â”‚  â†’ Chiáº¿n lÆ°á»£c LOáº I Bá» entry ÃT DÃ™NG NHáº¤T!          â”‚
  â”‚                                                        â”‚
  â”‚  Analogy: Tá»§ quáº§n Ã¡o cÃ³ giá»›i háº¡n chá»—               â”‚
  â”‚  â†’ Tá»§ Ä‘áº§y rá»“i? Bá» Bá»˜ ÃT Máº¶C NHáº¤T Ä‘á»ƒ nhÃ©t má»›i!  â”‚
  â”‚  â†’ Bá»™ vá»«a máº·c hÃ´m qua? GIá»® Láº I!                  â”‚
  â”‚  â†’ Bá»™ 6 thÃ¡ng chÆ°a máº·c? Bá» ÄI!                   â”‚
  â”‚                                                        â”‚
  â”‚  LRU Trie = Trie cÃ³ giá»›i háº¡n entries:                 â”‚
  â”‚  â†’ cacheSize: 100 entries                             â”‚
  â”‚  â†’ Entry thá»© 101? XÃ³a entry cÅ© nháº¥t!                â”‚
  â”‚  â†’ Má»—i láº§n access entry â†’ Ä‘áº©y lÃªn "most recent"    â”‚
  â”‚                                                        â”‚
  â”‚  CÃCH HOáº T Äá»˜NG:                                       â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  Cache (size = 3):                        â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  Search "react" â†’ Cache: [react]          â”‚          â”‚
  â”‚  â”‚  Search "vue"   â†’ Cache: [react, vue]     â”‚          â”‚
  â”‚  â”‚  Search "next"  â†’ Cache: [react, vue, nextâ”‚          â”‚
  â”‚  â”‚  Search "react" â†’ Cache: [vue, next, reactâ”‚ â† moved â”‚
  â”‚  â”‚  Search "svelte"â†’ Cache: [next,react,sveltâ”‚ â† vue   â”‚
  â”‚  â”‚                            bá»‹ XÃ“A! (LRU) â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  ğŸ’¡ ThÆ°á»ng KHÃ”NG Cáº¦N tá»± implement!                    â”‚
  â”‚  â†’ DÃ¹ng thÆ° viá»‡n: lru-cache, quick-lru...            â”‚
  â”‚  â†’ NhÆ°ng BIáº¾T nguyÃªn lÃ½ = Ä‘iá»ƒm cá»™ng phá»ng váº¥n!    â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§14. Data Flow â€” Luá»“ng Dá»¯ Liá»‡u Theo Tá»«ng Kiáº¿n TrÃºc

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  DATA FLOW = Dá»® LIá»†U ÄI Tá»ª ÄÃ‚U Äáº¾N ÄÃ‚U?
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  â‘  STATELESS DATA FLOW:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  ÄÆ¡n giáº£n nháº¥t! Dá»¯ liá»‡u Ä‘i 1 chiá»u qua Application.â”‚
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  props  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
  â”‚  â”‚APPLICATIONâ”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚TYPEAHEAD â”‚                    â”‚
  â”‚  â”‚          â”‚         â”‚          â”‚                    â”‚
  â”‚  â”‚ state:  â”‚         â”‚ render() â”‚                    â”‚
  â”‚  â”‚ results â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ onQuery()â”‚                    â”‚
  â”‚  â”‚ loading â”‚ callbackâ”‚          â”‚                    â”‚
  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
  â”‚       â”‚                                                â”‚
  â”‚       â”‚ fetch                                          â”‚
  â”‚       â–¼                                                â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚
  â”‚  â”‚ SERVER   â”‚                                          â”‚
  â”‚  â”‚ API      â”‚                                          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
  â”‚                                                        â”‚
  â”‚  Flow: User gÃµ â†’ Typeahead callback â†’ App fetch â†’    â”‚
  â”‚        Server tráº£ data â†’ App setState â†’ Typeahead    â”‚
  â”‚        re-render vá»›i data má»›i!                        â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â‘¡ STATEFUL DATA FLOW:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Dá»¯ liá»‡u KHÃ”NG Ä‘i qua Application!                   â”‚
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   init   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
  â”‚  â”‚APPLICATIONâ”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ TYPEAHEAD             â”‚       â”‚
  â”‚  â”‚          â”‚ vocab.  â”‚                        â”‚       â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚  User gÃµ query        â”‚       â”‚
  â”‚                        â”‚       â”‚                â”‚       â”‚
  â”‚                        â”‚       â–¼                â”‚       â”‚
  â”‚                        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚       â”‚
  â”‚                        â”‚  â”‚ INTERNAL     â”‚     â”‚       â”‚
  â”‚                        â”‚  â”‚ STATE (Trie) â”‚     â”‚       â”‚
  â”‚                        â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚       â”‚
  â”‚                        â”‚         â”‚              â”‚       â”‚
  â”‚                        â”‚         â–¼              â”‚       â”‚
  â”‚                        â”‚  Render results!      â”‚       â”‚
  â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
  â”‚                                                        â”‚
  â”‚  ğŸ’¡ KHÃ”NG gá»i server khi search!                      â”‚
  â”‚  â†’ Táº¥t cáº£ xá»­ lÃ½ BÃŠN TRONG component!               â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â‘¢ HYBRID DATA FLOW:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  PHá»¨C Táº P NHáº¤T! Dá»¯ liá»‡u Ä‘i ÄA HÆ¯á»šNG!               â”‚
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  props  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
  â”‚  â”‚APPLICATIONâ”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ TYPEAHEAD             â”‚        â”‚
  â”‚  â”‚          â”‚         â”‚                        â”‚        â”‚
  â”‚  â”‚ update   â”‚â—€â”€â”€â”€â”    â”‚  User gÃµ query        â”‚        â”‚
  â”‚  â”‚ vocab.   â”‚    â”‚    â”‚       â”‚                â”‚        â”‚
  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â”‚    â”‚       â–¼                â”‚        â”‚
  â”‚       â”‚          â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚        â”‚
  â”‚       â”‚          â”‚    â”‚  â”‚ CACHE HIT?   â”‚      â”‚        â”‚
  â”‚       â”‚          â”‚    â”‚  â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜      â”‚        â”‚
  â”‚       â”‚          â”‚    â”‚    YES      NO         â”‚        â”‚
  â”‚       â”‚          â”‚    â”‚     â”‚        â”‚          â”‚        â”‚
  â”‚       â”‚          â”‚    â”‚     â–¼        â”‚          â”‚        â”‚
  â”‚       â”‚          â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”    â”‚          â”‚        â”‚
  â”‚       â”‚          â”‚    â”‚  â”‚TRIE  â”‚    â”‚          â”‚        â”‚
  â”‚       â”‚          â”‚    â”‚  â”‚SEARCHâ”‚    â”‚          â”‚        â”‚
  â”‚       â”‚          â”‚    â”‚  â””â”€â”€â”¬â”€â”€â”€â”˜    â”‚          â”‚        â”‚
  â”‚       â”‚          â”‚    â”‚     â”‚        â”‚          â”‚        â”‚
  â”‚       â”‚          â”‚    â”‚     â–¼        â–¼          â”‚        â”‚
  â”‚       â”‚          â”‚    â”‚  Render   â”Œâ”€â”€â”€â”€â”€â”€â”     â”‚        â”‚
  â”‚       â”‚          â”‚    â”‚  results  â”‚EXTERNâ”‚     â”‚        â”‚
  â”‚       â”‚          â”‚    â”‚  â—€â”€â”€â”€â”€â”€â”€ â”‚ API  â”‚     â”‚        â”‚
  â”‚       â”‚          â”‚    â”‚          â””â”€â”€â”¬â”€â”€â”€â”˜     â”‚        â”‚
  â”‚       â”‚          â”‚    â”‚              â”‚          â”‚        â”‚
  â”‚       â”‚          â””â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚        â”‚
  â”‚       â”‚               â”‚  Update cache          â”‚        â”‚
  â”‚       â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
  â”‚  fetchâ”‚                                                â”‚
  â”‚       â–¼                                                â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚
  â”‚  â”‚ SERVER   â”‚                                          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
  â”‚                                                        â”‚
  â”‚  ğŸ’¡ Dá»… tháº¥y táº¡i sao PHá»¨C Táº P!                        â”‚
  â”‚  â†’ Nhiá»u Ä‘Æ°á»ng Ä‘i = Nhiá»u edge cases!               â”‚
  â”‚  â†’ Cache hit vs miss = 2 flows khÃ¡c nhau!            â”‚
  â”‚  â†’ Cáº§n sync cache â†” server!                          â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§15. Race Condition Handling â€” Xá»­ LÃ½ Äiá»u Kiá»‡n Tranh Cháº¥p

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  RACE CONDITION = REQUEST NÃ€O Vá»€ TRÆ¯á»šC, REQUEST NÃ€O Vá»€ SAU?
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  Váº¤N Äá»€:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  User gÃµ nhanh:                                        â”‚
  â”‚  "c" â†’ "ca" â†’ "car" â†’ "cat"                          â”‚
  â”‚                                                        â”‚
  â”‚  Debounce KHÃ”NG Ä‘á»§ khi API cháº­m!                      â”‚
  â”‚  â†’ 3 requests Ä‘Æ°á»£c gá»­i Ä‘i:                           â”‚
  â”‚                                                        â”‚
  â”‚  Timeline:                                              â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  t=0ms    Request 1: "car"  â”€â”€â”€â”€â”€â”€â–¶      â”‚          â”‚
  â”‚  â”‚  t=300ms  Request 2: "carry" â”€â”€â”€â”€â”€â”€â–¶     â”‚          â”‚
  â”‚  â”‚  t=600ms  Request 3: "cat"  â”€â”€â”€â”€â”€â”€â–¶      â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  RESPONSES (thá»© tá»± KHÃ”NG Ä‘áº£m báº£o!):     â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  t=800ms  â—€â”€â”€ Response 3: "cat" âœ…       â”‚          â”‚
  â”‚  â”‚  t=1200ms â—€â”€â”€ Response 1: "car" âŒ       â”‚          â”‚
  â”‚  â”‚  t=1500ms â—€â”€â”€ Response 2: "carry" âŒ     â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  Váº¤N Äá»€:                                               â”‚
  â”‚  â†’ User Ä‘ang search "cat"                             â”‚
  â”‚  â†’ Response "cat" vá» TRÆ¯á»šC (Ä‘Ãºng!)                   â”‚
  â”‚  â†’ Response "car" vá» SAU â†’ GHI ÄÃˆ káº¿t quáº£!         â”‚
  â”‚  â†’ User tháº¥y káº¿t quáº£ cá»§a "car" thay vÃ¬ "cat"!      â”‚
  â”‚  â†’ SAI!!! ğŸ˜±                                          â”‚
  â”‚                                                        â”‚
  â”‚  ÄÃ‚Y LÃ€ RACE CONDITION!                               â”‚
  â”‚  â†’ KhÃ´ng thá»ƒ Ä‘áº£m báº£o thá»© tá»± response!               â”‚
  â”‚  â†’ Response cÅ© cÃ³ thá»ƒ ghi Ä‘Ã¨ response má»›i!          â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  GIáº¢I PHÃP: ABORT CONTROLLER!
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  AbortController = Web API cho phÃ©p Há»¦Y request!      â”‚
  â”‚                                                        â”‚
  â”‚  CÃCH HOáº T Äá»˜NG:                                       â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  Request 1: "car" â”€â”€â”€â”€â”€â”€â–¶                â”‚          â”‚
  â”‚  â”‚      â†‘ ABORT! âœ–                          â”‚          â”‚
  â”‚  â”‚  Request 2: "carry" â”€â”€â”€â”€â”€â”€â–¶              â”‚          â”‚
  â”‚  â”‚      â†‘ ABORT! âœ–                          â”‚          â”‚
  â”‚  â”‚  Request 3: "cat" â”€â”€â”€â”€â”€â”€â–¶                â”‚          â”‚
  â”‚  â”‚      â†’ CHá»ˆ request nÃ y Ä‘Æ°á»£c giá»¯!        â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  Response: "cat" results âœ…               â”‚          â”‚
  â”‚  â”‚  â†’ KhÃ´ng cÃ³ race condition!               â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚                                                        â”‚
  â”‚  REACT IMPLEMENTATION:                                  â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  function useTypeaheadSearch(endpoint) {   â”‚          â”‚
  â”‚  â”‚    const [results, setResults] = useState()â”‚          â”‚
  â”‚  â”‚    const controllerRef = useRef(null);     â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚    const search = useCallback(async (q) => â”‚          â”‚
  â”‚  â”‚      // â‘  Há»¦Y request trÆ°á»›c Ä‘Ã³!         â”‚          â”‚
  â”‚  â”‚      if (controllerRef.current) {          â”‚          â”‚
  â”‚  â”‚        controllerRef.current.abort();       â”‚          â”‚
  â”‚  â”‚      }                                     â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚      // â‘¡ Táº¡o controller Má»šI!            â”‚          â”‚
  â”‚  â”‚      const controller = new AbortControllerâ”‚          â”‚
  â”‚  â”‚      controllerRef.current = controller;   â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚      try {                                 â”‚          â”‚
  â”‚  â”‚        // â‘¢ Fetch vá»›i signal!              â”‚          â”‚
  â”‚  â”‚        const res = await fetch(            â”‚          â”‚
  â”‚  â”‚          `${endpoint}?q=${q}`,             â”‚          â”‚
  â”‚  â”‚          { signal: controller.signal }      â”‚          â”‚
  â”‚  â”‚        );                                  â”‚          â”‚
  â”‚  â”‚        const data = await res.json();      â”‚          â”‚
  â”‚  â”‚        setResults(data);                   â”‚          â”‚
  â”‚  â”‚      } catch (err) {                       â”‚          â”‚
  â”‚  â”‚        // â‘£ AbortError = BÃŒNH THÆ¯á»œNG!     â”‚          â”‚
  â”‚  â”‚        if (err.name !== 'AbortError') {    â”‚          â”‚
  â”‚  â”‚          throw err;                        â”‚          â”‚
  â”‚  â”‚        }                                   â”‚          â”‚
  â”‚  â”‚        // Request bá»‹ há»§y â†’ ignore!       â”‚          â”‚
  â”‚  â”‚      }                                     â”‚          â”‚
  â”‚  â”‚    }, [endpoint]);                         â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚    // â‘¤ Cleanup khi unmount!              â”‚          â”‚
  â”‚  â”‚    useEffect(() => {                       â”‚          â”‚
  â”‚  â”‚      return () => {                        â”‚          â”‚
  â”‚  â”‚        controllerRef.current?.abort();      â”‚          â”‚
  â”‚  â”‚      };                                    â”‚          â”‚
  â”‚  â”‚    }, []);                                 â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚    return { results, search };             â”‚          â”‚
  â”‚  â”‚  }                                         â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  ğŸ’¡ AbortController lÃ  Web API CHUáº¨N!                 â”‚
  â”‚  â†’ Hoáº¡t Ä‘á»™ng vá»›i fetch(), XMLHttpRequest               â”‚
  â”‚  â†’ Há»— trá»£ má»i trÃ¬nh duyá»‡t hiá»‡n Ä‘áº¡i                 â”‚
  â”‚  â†’ PHáº¢I NHá»š trong phá»ng váº¥n!                         â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§16. Performance Optimization â€” Network

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Tá»I Æ¯U Máº NG = ÃT REQUEST + NHá» Gá»ŒN + NHANH HÆ N!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  â‘  CACHING (3 Táº¦NG):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  CLIENT  â”‚   â”‚ BROWSER  â”‚   â”‚  SERVER  â”‚          â”‚
  â”‚  â”‚  CACHE   â”‚   â”‚  CACHE   â”‚   â”‚  CACHE   â”‚          â”‚
  â”‚  â”‚(Hybrid)  â”‚   â”‚(HTTP     â”‚   â”‚(API-side)â”‚          â”‚
  â”‚  â”‚          â”‚   â”‚ Headers) â”‚   â”‚          â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚       â”‚              â”‚              â”‚                 â”‚
  â”‚       â”‚  miss        â”‚  miss        â”‚                 â”‚
  â”‚       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”œâ”€â”€â–¶ Database     â”‚
  â”‚       â”‚              â”‚              â”‚                 â”‚
  â”‚       â”‚  hit!        â”‚  hit!        â”‚  hit!           â”‚
  â”‚       â”œâ”€â”€â–¶ instant!  â”œâ”€â”€â–¶ fast!    â”œâ”€â”€â–¶ faster!     â”‚
  â”‚                                                        â”‚
  â”‚  Táº¦NG 1 â€” Client Cache (chá»‰ Hybrid):                 â”‚
  â”‚  â†’ LRU Cache trong component                          â”‚
  â”‚  â†’ Tá»± build cache policy                              â”‚
  â”‚  â†’ Instant response cho queries Ä‘Ã£ search!          â”‚
  â”‚                                                        â”‚
  â”‚  Táº¦NG 2 â€” Browser Cache (táº¥t cáº£ kiáº¿n trÃºc!):        â”‚
  â”‚  â†’ Dá»±a vÃ o HTTP Headers tá»« server                    â”‚
  â”‚  â†’ Cache-Control: max-age=300                         â”‚
  â”‚  â†’ ETag / Last-Modified cho conditional requests      â”‚
  â”‚  â†’ MIá»„N PHÃ! Server config 1 láº§n!                   â”‚
  â”‚                                                        â”‚
  â”‚  Táº¦NG 3 â€” Server Cache:                                â”‚
  â”‚  â†’ Redis, Memcached cho costly queries                 â”‚
  â”‚  â†’ Heavy CPU search â†’ cache káº¿t quáº£!               â”‚
  â”‚                                                        â”‚
  â”‚  ğŸ’¡ Trong phá»ng váº¥n: Mention Cáº¢ 3!                   â”‚
  â”‚  â†’ Show báº¡n hiá»ƒu caching á»Ÿ NHIá»€U Táº¦NG!             â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â‘¡ DEBOUNCING:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  KHÃ”NG debounce:                                       â”‚
  â”‚  User gÃµ "react" â†’ 5 requests! ("r","re","rea",...)  â”‚
  â”‚                                                        â”‚
  â”‚  CÃ“ debounce (300ms):                                 â”‚
  â”‚  User gÃµ "react" â†’ 1 request! (Ä‘á»£i 300ms sau "t")   â”‚
  â”‚                                                        â”‚
  â”‚  // React hook:                                        â”‚
  â”‚  const debouncedSearch = useDebouncedCallback(         â”‚
  â”‚    (query) => fetchResults(query),                     â”‚
  â”‚    300 // milliseconds                                 â”‚
  â”‚  );                                                    â”‚
  â”‚                                                        â”‚
  â”‚  ğŸ’¡ Low-cost optimization, HIGH impact!                â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â‘¢ PACKAGE SIZE:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â†’ Minimize heavy dependencies!                        â”‚
  â”‚    â†’ Äá»ªNG import lodash (200KB) chá»‰ Ä‘á»ƒ dÃ¹ng         â”‚
  â”‚      debounce! â†’ import lodash/debounce (4KB)!        â”‚
  â”‚  â†’ Tree-shaking: Ä‘áº£m báº£o bundler loáº¡i bá» dead code â”‚
  â”‚  â†’ CSS: chá»‰ import CSS Cáº¦N THIáº¾T!                   â”‚
  â”‚    â†’ Äá»ªNG import cáº£ Bootstrap cho 1 component!       â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â‘£ CDN + COMPRESSION:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â†’ Host assets trÃªn CDN (CloudFront, Cloudflare...)   â”‚
  â”‚  â†’ Gzip compression: giáº£m 60-80% kÃ­ch thÆ°á»›c!        â”‚
  â”‚  â†’ Brotli compression: tá»‘t hÆ¡n Gzip 15-25%!         â”‚
  â”‚  â†’ Config trÃªn server/CDN level                       â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§17. Performance Optimization â€” Rendering

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Tá»I Æ¯U RENDERING = UI MÆ¯á»¢T MÃ€, KHÃ”NG GIáº¬T LAG!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  â‘  USER EXPERIENCE â€” PLACEHOLDERS:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Äá»ªNG Ä‘á»ƒ mÃ n hÃ¬nh TRá»NG khi loading!                  â”‚
  â”‚                                                        â”‚
  â”‚  âŒ SAI:                    âœ… ÄÃšNG:                   â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
  â”‚  â”‚ ğŸ” react     â”‚          â”‚ ğŸ” react     â”‚           â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚
  â”‚  â”‚              â”‚          â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚           â”‚
  â”‚  â”‚  (trá»‘ng!)    â”‚          â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚           â”‚
  â”‚  â”‚              â”‚          â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚           â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚ (skeleton!)  â”‚           â”‚
  â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
  â”‚                                                        â”‚
  â”‚  â†’ Skeleton/placeholder = Visual feedback!             â”‚
  â”‚  â†’ Loading TIME cáº£m giÃ¡c NGáº®N HÆ N!                  â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â‘¡ REDUCE DOM WRITES:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  React Ä‘Ã£ cÃ³ Virtual DOM â†’ Ã­t lo!                     â”‚
  â”‚  NhÆ°ng Vanilla JS cáº§n chÃº Ã½:                          â”‚
  â”‚                                                        â”‚
  â”‚  âŒ SAI: innerHTML cho má»—i update                     â”‚
  â”‚  list.innerHTML = results.map(r =>                     â”‚
  â”‚    `<li>${r.name}</li>`                                â”‚
  â”‚  ).join('');                                           â”‚
  â”‚  // â†’ XÃ³a + táº¡o láº¡i TOÃ€N Bá»˜ DOM!                    â”‚
  â”‚                                                        â”‚
  â”‚  âœ… ÄÃšNG: Lazy update tá»«ng element                    â”‚
  â”‚  // Chá»‰ update element thay Ä‘á»•i!                     â”‚
  â”‚  // DÃ¹ng onItemUpdate callback                        â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â‘¢ VIRTUALIZATION (> 100 ITEMS):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Náº¿u hiá»ƒn thá»‹ NHIá»€U items (>100):                     â”‚
  â”‚  â†’ DÃ¹ng react-window hoáº·c react-virtuoso!            â”‚
  â”‚  â†’ Chá»‰ render items TRONG VIEWPORT!                  â”‚
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
  â”‚  â”‚ Viewport (5 items visible):  â”‚                      â”‚
  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                      â”‚
  â”‚  â”‚ â”‚ Item 15                  â”‚ â”‚ â† Render!           â”‚
  â”‚  â”‚ â”‚ Item 16                  â”‚ â”‚ â† Render!           â”‚
  â”‚  â”‚ â”‚ Item 17                  â”‚ â”‚ â† Render!           â”‚
  â”‚  â”‚ â”‚ Item 18                  â”‚ â”‚ â† Render!           â”‚
  â”‚  â”‚ â”‚ Item 19                  â”‚ â”‚ â† Render!           â”‚
  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                      â”‚
  â”‚  â”‚ Item 1-14: NOT rendered!     â”‚                      â”‚
  â”‚  â”‚ Item 20-1000: NOT rendered!  â”‚                      â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
  â”‚                                                        â”‚
  â”‚  ğŸ’¡ 1000 items â†’ chá»‰ 5 DOM nodes!                    â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â‘£ CSS OPTIMIZATION:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â†’ DÃ¹ng FLAT class names (BEM recommended)             â”‚
  â”‚    âŒ .typeahead > .list > .item > .text {...}        â”‚
  â”‚    âœ… .typeahead__item-text {...}                     â”‚
  â”‚                                                        â”‚
  â”‚  â†’ Animation: dÃ¹ng CSS, KHÃ”NG JavaScript!              â”‚
  â”‚    â†’ CSS animation cháº¡y trÃªn GPU!                     â”‚
  â”‚    â†’ JS animation cháº¡y trÃªn CPU â†’ cháº­m hÆ¡n!         â”‚
  â”‚    â†’ DÃ¹ng transform, opacity (GPU-accelerated)        â”‚
  â”‚                                                        â”‚
  â”‚  â†’ TRÃNH properties gÃ¢y Reflow:                       â”‚
  â”‚    âŒ width, height, top, left, margin, padding       â”‚
  â”‚    âœ… transform: translateX/Y, opacity                 â”‚
  â”‚    â†’ Reflow = trÃ¬nh duyá»‡t TÃNH Láº I layout!         â”‚
  â”‚    â†’ Ráº¥t Tá»N HIá»†U SUáº¤T!                             â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§18. Performance Optimization â€” JavaScript

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Tá»I Æ¯U JS = KHÃ”NG BLOCK UI THREAD!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  â‘  Æ¯U TIÃŠN SERVER-SIDE SEARCH:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Äá»‚ server lÃ m viá»‡c Náº¶NG!                            â”‚
  â”‚                                                        â”‚
  â”‚  âŒ Client filter 1M items:                            â”‚
  â”‚  â†’ Main thread BLOCKED!                                â”‚
  â”‚  â†’ UI Äá»¨NG HÃŒNH 2-3 giÃ¢y!                            â”‚
  â”‚  â†’ User TÆ¯á»NG app bá»‹ crash!                          â”‚
  â”‚                                                        â”‚
  â”‚  âœ… Server search, client chá»‰ hiá»ƒn thá»‹:              â”‚
  â”‚  â†’ Server dÃ¹ng database index (instant!)               â”‚
  â”‚  â†’ Client chá»‰ render 10 results                      â”‚
  â”‚  â†’ UI MÆ¯á»¢T MÃ€!                                       â”‚
  â”‚                                                        â”‚
  â”‚  ğŸ’¡ QUY Táº®C: Thao tÃ¡c > 16ms trÃªn client?            â”‚
  â”‚  â†’ Chuyá»ƒn lÃªn SERVER!                                 â”‚
  â”‚  â†’ 16ms = 1 frame á»Ÿ 60fps                             â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â‘¡ TRÃNH SYNCHRONOUS JOBS:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Má»i sync job Äá»€U BLOCK UI thread!                   â”‚
  â”‚                                                        â”‚
  â”‚  âŒ const results = heavyFilter(millionItems);        â”‚
  â”‚  â†’ UI ÄÃ“NG BÄ‚NG trong lÃºc filter!                    â”‚
  â”‚                                                        â”‚
  â”‚  âœ… DÃ¹ng async / requestIdleCallback:                  â”‚
  â”‚  â†’ Chia nhá» cÃ´ng viá»‡c                                â”‚
  â”‚  â†’ Yield main thread giá»¯a má»—i chunk                  â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â‘¢ WEB WORKERS (cho dataset lá»›n trÃªn client):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Web Worker = JavaScript cháº¡y NGOÃ€I main thread!      â”‚
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
  â”‚  â”‚ MAIN THREAD      â”‚     â”‚ WEB WORKER       â”‚        â”‚
  â”‚  â”‚                  â”‚     â”‚ (background)     â”‚        â”‚
  â”‚  â”‚ UI rendering     â”‚     â”‚                  â”‚        â”‚
  â”‚  â”‚ Event handling   â”‚ msg â”‚ Heavy filtering  â”‚        â”‚
  â”‚  â”‚                  â”‚â”€â”€â”€â”€â–¶â”‚ Trie operations  â”‚        â”‚
  â”‚  â”‚                  â”‚â—€â”€â”€â”€â”€â”‚ Sorting          â”‚        â”‚
  â”‚  â”‚ Update UI        â”‚ msg â”‚                  â”‚        â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
  â”‚                                                        â”‚
  â”‚  â†’ UI KHÃ”NG Bá»Š BLOCK!                                â”‚
  â”‚  â†’ Worker filter data â†’ gá»­i káº¿t quáº£ vá» main thread â”‚
  â”‚  â†’ PhÃ¹ há»£p cho stateful vá»›i dataset > 10K items!    â”‚
  â”‚                                                        â”‚
  â”‚  ğŸ’¡ Trong phá»ng váº¥n: mention Web Workers              â”‚
  â”‚  â†’ Show báº¡n biáº¿t multi-threading trong browser!       â”‚
  â”‚  â†’ NhÆ°ng nÃ³i rÃµ: "overhead cho typeahead nhá»"       â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§19. Security â€” Báº£o Máº­t Component

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Báº¢O Máº¬T = KHÃ”NG CHO AI Äá»¤C KHÃ‰ VÃ€O TYPEAHEAD!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  â‘  DOM ENCAPSULATION â€” SHADOW DOM:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Váº¤N Äá»€:                                               â”‚
  â”‚  â†’ Attacker cÃ i browser extension/plugin               â”‚
  â”‚  â†’ Plugin cÃ³ thá»ƒ access DOM API                       â”‚
  â”‚  â†’ Modify typeahead DOM â†’ steal data!                 â”‚
  â”‚  â†’ Inject malicious links!                             â”‚
  â”‚  â†’ Phishing qua search results!                        â”‚
  â”‚                                                        â”‚
  â”‚  GIáº¢I PHÃP: SHADOW DOM!                                â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  // Web Component vá»›i Shadow DOM          â”‚          â”‚
  â”‚  â”‚  class SecureTypeahead extends HTMLElement{â”‚          â”‚
  â”‚  â”‚    constructor() {                         â”‚          â”‚
  â”‚  â”‚      super();                              â”‚          â”‚
  â”‚  â”‚      // Shadow DOM = DOM BÃ Máº¬T!         â”‚          â”‚
  â”‚  â”‚      const shadow = this.attachShadow(     â”‚          â”‚
  â”‚  â”‚        { mode: 'closed' }                  â”‚          â”‚
  â”‚  â”‚      );                                    â”‚          â”‚
  â”‚  â”‚      // External scripts KHÃ”NG THá»‚ access â”‚          â”‚
  â”‚  â”‚      // DOM bÃªn trong shadow!              â”‚          â”‚
  â”‚  â”‚      shadow.innerHTML = `                  â”‚          â”‚
  â”‚  â”‚        <input type="text" />               â”‚          â”‚
  â”‚  â”‚        <ul class="results"></ul>           â”‚          â”‚
  â”‚  â”‚      `;                                    â”‚          â”‚
  â”‚  â”‚    }                                       â”‚          â”‚
  â”‚  â”‚  }                                         â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â”‚  // External script:                       â”‚          â”‚
  â”‚  â”‚  document.querySelector('.results')        â”‚          â”‚
  â”‚  â”‚  // â†’ null! KHÃ”NG TÃŒM THáº¤Y!              â”‚          â”‚
  â”‚  â”‚  // â†’ Shadow DOM áº¨N ná»™i dung!            â”‚          â”‚
  â”‚  â”‚                                           â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  ğŸ’¡ Shadow DOM = TÆ°Æ¡ng lai cá»§a Web Components!        â”‚
  â”‚  â†’ Browsers Ä‘Ã£ há»— trá»£ rá»™ng rÃ£i                     â”‚
  â”‚  â†’ Trong React: Ã­t dÃ¹ng (React cÃ³ cÆ¡ cháº¿ riÃªng)    â”‚
  â”‚  â†’ NhÆ°ng mention trong phá»ng váº¥n = Ä‘iá»ƒm cá»™ng!     â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â‘¡ CONTENT FILTRATION:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Khi dÃ¹ng untrusted server (third-party API):          â”‚
  â”‚                                                        â”‚
  â”‚  â†’ Server tráº£ HTML chá»©a <script>?                    â”‚
  â”‚    â†’ XSS ATTACK! ğŸ˜±                                   â”‚
  â”‚                                                        â”‚
  â”‚  â†’ Cung cáº¥p filterFunction prop:                      â”‚
  â”‚    filterContent={(html) =>                             â”‚
  â”‚      DOMPurify.sanitize(html)                           â”‚
  â”‚    }                                                    â”‚
  â”‚                                                        â”‚
  â”‚  â†’ Trong React: Máº·c Ä‘á»‹nh AN TOÃ€N!                    â”‚
  â”‚    â†’ React escape HTML tá»± Ä‘á»™ng!                       â”‚
  â”‚    â†’ CHá»ˆ nguy hiá»ƒm khi dÃ¹ng dangerouslySetInnerHTML  â”‚
  â”‚    â†’ NEVER dÃ¹ng dangerouslySetInnerHTML vá»›i user data!â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§20. Accessibility â€” Kháº£ NÄƒng Truy Cáº­p

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  A11Y = Má»ŒI NGÆ¯á»œI Äá»€U DÃ™NG ÄÆ¯á»¢C TYPEAHEAD!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  â‘  KEYBOARD NAVIGATION:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Táº¤T Cáº¢ items pháº£i TABBABLE (Tab key)!               â”‚
  â”‚                                                        â”‚
  â”‚  Keyboard shortcuts:                                    â”‚
  â”‚  â†’ â†‘ â†“ : Di chuyá»ƒn giá»¯a cÃ¡c items                   â”‚
  â”‚  â†’ Enter : Chá»n item Ä‘ang active                     â”‚
  â”‚  â†’ Escape : ÄÃ³ng dropdown                            â”‚
  â”‚  â†’ Tab : Chuyá»ƒn focus sang element tiáº¿p theo         â”‚
  â”‚                                                        â”‚
  â”‚  // React implementation:                              â”‚
  â”‚  const [activeIdx, setActiveIdx] = useState(-1);       â”‚
  â”‚                                                        â”‚
  â”‚  const handleKeyDown = (e) => {                        â”‚
  â”‚    switch (e.key) {                                    â”‚
  â”‚      case 'ArrowDown':                                 â”‚
  â”‚        e.preventDefault();                              â”‚
  â”‚        setActiveIdx(i => Math.min(i+1, len-1));        â”‚
  â”‚        break;                                          â”‚
  â”‚      case 'ArrowUp':                                   â”‚
  â”‚        e.preventDefault();                              â”‚
  â”‚        setActiveIdx(i => Math.max(i-1, 0));            â”‚
  â”‚        break;                                          â”‚
  â”‚      case 'Enter':                                     â”‚
  â”‚        if (activeIdx >= 0) onSelect(results[activeIdx])â”‚
  â”‚        break;                                          â”‚
  â”‚      case 'Escape':                                    â”‚
  â”‚        setIsOpen(false);                               â”‚
  â”‚        break;                                          â”‚
  â”‚    }                                                   â”‚
  â”‚  };                                                    â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â‘¡ SCALABLE UNITS (REM):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Äá»ªNG dÃ¹ng px! DÃ¹ng rem!                             â”‚
  â”‚                                                        â”‚
  â”‚  âŒ font-size: 14px;    â†’ KHÃ”NG scale theo zoom!     â”‚
  â”‚  âœ… font-size: 0.875rem; â†’ Scale theo browser zoom!  â”‚
  â”‚                                                        â”‚
  â”‚  â†’ User zoom 150%?                                    â”‚
  â”‚    â†’ px: text váº«n 14px â†’ user KHÃ”NG Ä‘á»c Ä‘Æ°á»£c!     â”‚
  â”‚    â†’ rem: text = 21px â†’ READABLE!                     â”‚
  â”‚                                                        â”‚
  â”‚  â†’ User custom browser font size?                     â”‚
  â”‚    â†’ rem tá»± adapt! px KHÃ”NG!                          â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â‘¢ SEMANTIC HTML + ARIA:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  DÃ¹ng ÄÃšNG HTML elements!                             â”‚
  â”‚                                                        â”‚
  â”‚  âŒ SAI:                                               â”‚
  â”‚  <div onclick="select()">Result item</div>            â”‚
  â”‚  â†’ Screen reader KHÃ”NG biáº¿t Ä‘Ã¢y lÃ  gÃ¬!              â”‚
  â”‚                                                        â”‚
  â”‚  âœ… ÄÃšNG:                                             â”‚
  â”‚  <input                                                â”‚
  â”‚    type="text"                                         â”‚
  â”‚    role="combobox"                                     â”‚
  â”‚    aria-expanded={isOpen}                              â”‚
  â”‚    aria-controls="search-listbox"                      â”‚
  â”‚    aria-activedescendant={activeId}                    â”‚
  â”‚    aria-autocomplete="list"                            â”‚
  â”‚  />                                                    â”‚
  â”‚  <ul                                                   â”‚
  â”‚    id="search-listbox"                                 â”‚
  â”‚    role="listbox"                                      â”‚
  â”‚    aria-label="Search results"                         â”‚
  â”‚  >                                                     â”‚
  â”‚    <li                                                 â”‚
  â”‚      role="option"                                     â”‚
  â”‚      id={`option-${i}`}                                â”‚
  â”‚      aria-selected={i === activeIdx}                   â”‚
  â”‚    >                                                   â”‚
  â”‚      {item.label}                                      â”‚
  â”‚    </li>                                               â”‚
  â”‚  </ul>                                                 â”‚
  â”‚                                                        â”‚
  â”‚  â†’ Screen reader: "Combobox, search results,          â”‚
  â”‚    3 options available. Option 1: react hooks,         â”‚
  â”‚    selected."                                          â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â‘£ FOCUS CONTROL:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Typeahead dropdown = ABSOLUTELY POSITIONED!           â”‚
  â”‚  â†’ Focus KHÃ”NG tá»± chuyá»ƒn vÃ o dropdown!               â”‚
  â”‚                                                        â”‚
  â”‚  Cáº¦N Xá»¬ LÃ:                                           â”‚
  â”‚  â†’ Má»Ÿ dropdown â†’ giá»¯ focus á»Ÿ input!                 â”‚
  â”‚  â†’ Arrow keys â†’ di chuyá»ƒn "visual focus" trong list  â”‚
  â”‚  â†’ Tab á»Ÿ cuá»‘i list â†’ focus ra NGOÃ€I dropdown         â”‚
  â”‚  â†’ Click ngoÃ i â†’ ÄÃ“NG dropdown!                     â”‚
  â”‚                                                        â”‚
  â”‚  // Focus trap pattern:                                â”‚
  â”‚  useEffect(() => {                                     â”‚
  â”‚    if (!isOpen) return;                                â”‚
  â”‚    const handleClickOutside = (e) => {                 â”‚
  â”‚      if (!containerRef.current?.contains(e.target)) {  â”‚
  â”‚        setIsOpen(false);                               â”‚
  â”‚      }                                                 â”‚
  â”‚    };                                                  â”‚
  â”‚    document.addEventListener('mousedown',              â”‚
  â”‚      handleClickOutside);                              â”‚
  â”‚    return () => document.removeEventListener(          â”‚
  â”‚      'mousedown', handleClickOutside);                 â”‚
  â”‚  }, [isOpen]);                                         â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§21. Triá»ƒn Khai Vá»›i React/Next.js â€” Code Thá»±c Táº¿

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  CODE HOÃ€N CHá»ˆNH â€” STATELESS TYPEAHEAD Vá»šI REACT!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  CUSTOM HOOK â€” useTypeahead:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  // hooks/useTypeahead.ts                              â”‚
  â”‚  import { useState, useCallback, useRef, useEffect }   â”‚
  â”‚    from 'react';                                       â”‚
  â”‚                                                        â”‚
  â”‚  interface UseTypeaheadOptions<T> {                     â”‚
  â”‚    fetchResults: (query: string,                       â”‚
  â”‚      signal: AbortSignal) => Promise<T[]>;             â”‚
  â”‚    debounceMs?: number;                                â”‚
  â”‚    minQueryLength?: number;                            â”‚
  â”‚  }                                                     â”‚
  â”‚                                                        â”‚
  â”‚  function useTypeahead<T>(                              â”‚
  â”‚    options: UseTypeaheadOptions<T>                      â”‚
  â”‚  ) {                                                   â”‚
  â”‚    const {                                             â”‚
  â”‚      fetchResults,                                     â”‚
  â”‚      debounceMs = 300,                                 â”‚
  â”‚      minQueryLength = 1                                â”‚
  â”‚    } = options;                                        â”‚
  â”‚                                                        â”‚
  â”‚    const [query, setQuery] = useState('');              â”‚
  â”‚    const [results, setResults] = useState<T[]>([]);     â”‚
  â”‚    const [loading, setLoading] = useState(false);      â”‚
  â”‚    const [isOpen, setIsOpen] = useState(false);        â”‚
  â”‚    const [activeIdx, setActiveIdx] = useState(-1);     â”‚
  â”‚                                                        â”‚
  â”‚    // AbortController for race condition!               â”‚
  â”‚    const controllerRef = useRef<AbortController>();     â”‚
  â”‚    const timerRef = useRef<NodeJS.Timeout>();           â”‚
  â”‚                                                        â”‚
  â”‚    const search = useCallback((q: string) => {         â”‚
  â”‚      setQuery(q);                                      â”‚
  â”‚      setActiveIdx(-1);                                 â”‚
  â”‚                                                        â”‚
  â”‚      // Clear previous debounce timer                  â”‚
  â”‚      clearTimeout(timerRef.current);                   â”‚
  â”‚                                                        â”‚
  â”‚      if (q.length < minQueryLength) {                  â”‚
  â”‚        setResults([]);                                 â”‚
  â”‚        setIsOpen(false);                               â”‚
  â”‚        return;                                         â”‚
  â”‚      }                                                 â”‚
  â”‚                                                        â”‚
  â”‚      // Debounce!                                      â”‚
  â”‚      timerRef.current = setTimeout(async () => {       â”‚
  â”‚        // Abort previous request!                      â”‚
  â”‚        controllerRef.current?.abort();                  â”‚
  â”‚        const controller = new AbortController();       â”‚
  â”‚        controllerRef.current = controller;             â”‚
  â”‚                                                        â”‚
  â”‚        setLoading(true);                               â”‚
  â”‚        try {                                           â”‚
  â”‚          const data = await fetchResults(              â”‚
  â”‚            q, controller.signal                        â”‚
  â”‚          );                                            â”‚
  â”‚          setResults(data);                             â”‚
  â”‚          setIsOpen(data.length > 0);                   â”‚
  â”‚        } catch (err) {                                 â”‚
  â”‚          if (err.name !== 'AbortError') throw err;     â”‚
  â”‚        } finally {                                     â”‚
  â”‚          setLoading(false);                            â”‚
  â”‚        }                                               â”‚
  â”‚      }, debounceMs);                                   â”‚
  â”‚    }, [fetchResults, debounceMs, minQueryLength]);     â”‚
  â”‚                                                        â”‚
  â”‚    // Cleanup on unmount                               â”‚
  â”‚    useEffect(() => () => {                             â”‚
  â”‚      controllerRef.current?.abort();                    â”‚
  â”‚      clearTimeout(timerRef.current);                   â”‚
  â”‚    }, []);                                             â”‚
  â”‚                                                        â”‚
  â”‚    return {                                            â”‚
  â”‚      query, results, loading, isOpen,                  â”‚
  â”‚      activeIdx, setActiveIdx, setIsOpen, search        â”‚
  â”‚    };                                                  â”‚
  â”‚  }                                                     â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  TYPEAHEAD COMPONENT:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  // components/Typeahead.tsx                           â”‚
  â”‚  interface TypeaheadProps<T> {                          â”‚
  â”‚    fetchResults: (q: string,                           â”‚
  â”‚      signal: AbortSignal) => Promise<T[]>;             â”‚
  â”‚    renderItem?: (item: T, isActive: boolean)           â”‚
  â”‚      => ReactNode;                                     â”‚
  â”‚    onSelect: (item: T) => void;                        â”‚
  â”‚    placeholder?: string;                               â”‚
  â”‚    debounceMs?: number;                                â”‚
  â”‚    minQueryLength?: number;                            â”‚
  â”‚    maxResults?: number;                                â”‚
  â”‚  }                                                     â”‚
  â”‚                                                        â”‚
  â”‚  function Typeahead<T>({                                â”‚
  â”‚    fetchResults, renderItem, onSelect,                 â”‚
  â”‚    placeholder = 'Search...',                          â”‚
  â”‚    debounceMs = 300,                                   â”‚
  â”‚    minQueryLength = 1,                                 â”‚
  â”‚    maxResults = 10                                     â”‚
  â”‚  }: TypeaheadProps<T>) {                               â”‚
  â”‚    const containerRef = useRef<HTMLDivElement>(null);   â”‚
  â”‚    const {                                             â”‚
  â”‚      query, results, loading, isOpen,                  â”‚
  â”‚      activeIdx, setActiveIdx, setIsOpen, search        â”‚
  â”‚    } = useTypeahead({ fetchResults, debounceMs,        â”‚
  â”‚                        minQueryLength });              â”‚
  â”‚                                                        â”‚
  â”‚    const displayed = results.slice(0, maxResults);     â”‚
  â”‚                                                        â”‚
  â”‚    // Keyboard navigation                              â”‚
  â”‚    const handleKeyDown = (e: KeyboardEvent) => {       â”‚
  â”‚      switch (e.key) {                                  â”‚
  â”‚        case 'ArrowDown':                               â”‚
  â”‚          e.preventDefault();                            â”‚
  â”‚          setActiveIdx(i =>                              â”‚
  â”‚            Math.min(i + 1, displayed.length - 1));     â”‚
  â”‚          break;                                        â”‚
  â”‚        case 'ArrowUp':                                 â”‚
  â”‚          e.preventDefault();                            â”‚
  â”‚          setActiveIdx(i => Math.max(i - 1, 0));        â”‚
  â”‚          break;                                        â”‚
  â”‚        case 'Enter':                                   â”‚
  â”‚          if (activeIdx >= 0)                            â”‚
  â”‚            onSelect(displayed[activeIdx]);              â”‚
  â”‚          setIsOpen(false);                             â”‚
  â”‚          break;                                        â”‚
  â”‚        case 'Escape':                                  â”‚
  â”‚          setIsOpen(false);                             â”‚
  â”‚          break;                                        â”‚
  â”‚      }                                                 â”‚
  â”‚    };                                                  â”‚
  â”‚                                                        â”‚
  â”‚    // Click outside â†’ close                           â”‚
  â”‚    useEffect(() => {                                   â”‚
  â”‚      if (!isOpen) return;                              â”‚
  â”‚      const handler = (e: MouseEvent) => {              â”‚
  â”‚        if (!containerRef.current                       â”‚
  â”‚            ?.contains(e.target as Node))                â”‚
  â”‚          setIsOpen(false);                             â”‚
  â”‚      };                                                â”‚
  â”‚      document.addEventListener('mousedown', handler);  â”‚
  â”‚      return () =>                                      â”‚
  â”‚        document.removeEventListener(                   â”‚
  â”‚          'mousedown', handler);                        â”‚
  â”‚    }, [isOpen]);                                       â”‚
  â”‚                                                        â”‚
  â”‚    return (                                            â”‚
  â”‚      <div ref={containerRef}                           â”‚
  â”‚           className="typeahead">                       â”‚
  â”‚        <input                                          â”‚
  â”‚          type="text"                                   â”‚
  â”‚          value={query}                                 â”‚
  â”‚          onChange={e => search(e.target.value)}        â”‚
  â”‚          onKeyDown={handleKeyDown}                     â”‚
  â”‚          placeholder={placeholder}                     â”‚
  â”‚          role="combobox"                               â”‚
  â”‚          aria-expanded={isOpen}                        â”‚
  â”‚          aria-controls="typeahead-listbox"             â”‚
  â”‚          aria-autocomplete="list"                      â”‚
  â”‚          aria-activedescendant={                       â”‚
  â”‚            activeIdx >= 0                              â”‚
  â”‚              ? `option-${activeIdx}` : undefined}      â”‚
  â”‚        />                                              â”‚
  â”‚        {loading && <div className="spinner" />}       â”‚
  â”‚        {isOpen && (                                    â”‚
  â”‚          <ul id="typeahead-listbox"                    â”‚
  â”‚              role="listbox"                            â”‚
  â”‚              aria-label="Search results">              â”‚
  â”‚            {displayed.map((item, i) => (               â”‚
  â”‚              <li key={i}                               â”‚
  â”‚                  id={`option-${i}`}                    â”‚
  â”‚                  role="option"                         â”‚
  â”‚                  aria-selected={i === activeIdx}       â”‚
  â”‚                  className={                           â”‚
  â”‚                    i === activeIdx ? 'active' : ''}    â”‚
  â”‚                  onClick={() => {                      â”‚
  â”‚                    onSelect(item);                     â”‚
  â”‚                    setIsOpen(false);                   â”‚
  â”‚                  }}                                    â”‚
  â”‚                  onMouseEnter={() =>                   â”‚
  â”‚                    setActiveIdx(i)}>                   â”‚
  â”‚                {renderItem                             â”‚
  â”‚                  ? renderItem(item, i === activeIdx)   â”‚
  â”‚                  : String(item)}                       â”‚
  â”‚              </li>                                     â”‚
  â”‚            ))}                                         â”‚
  â”‚          </ul>                                         â”‚
  â”‚        )}                                              â”‚
  â”‚      </div>                                            â”‚
  â”‚    );                                                  â”‚
  â”‚  }                                                     â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  Sá»¬ Dá»¤NG TRONG NEXT.JS:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  // app/search/page.tsx (Next.js App Router)           â”‚
  â”‚  'use client'; // Typeahead cáº§n interactivity!        â”‚
  â”‚                                                        â”‚
  â”‚  import { Typeahead } from '@/components/Typeahead';   â”‚
  â”‚  import { useRouter } from 'next/navigation';         â”‚
  â”‚                                                        â”‚
  â”‚  interface Product {                                   â”‚
  â”‚    id: string;                                         â”‚
  â”‚    name: string;                                       â”‚
  â”‚    price: number;                                      â”‚
  â”‚    image: string;                                      â”‚
  â”‚  }                                                     â”‚
  â”‚                                                        â”‚
  â”‚  export default function SearchPage() {                â”‚
  â”‚    const router = useRouter();                         â”‚
  â”‚                                                        â”‚
  â”‚    const fetchProducts = async (                       â”‚
  â”‚      q: string, signal: AbortSignal                    â”‚
  â”‚    ): Promise<Product[]> => {                           â”‚
  â”‚      const res = await fetch(                          â”‚
  â”‚        `/api/products/search?q=${                      â”‚
  â”‚          encodeURIComponent(q)}`,                      â”‚
  â”‚        { signal }                                      â”‚
  â”‚      );                                                â”‚
  â”‚      return res.json();                                â”‚
  â”‚    };                                                  â”‚
  â”‚                                                        â”‚
  â”‚    return (                                            â”‚
  â”‚      <Typeahead<Product>                               â”‚
  â”‚        fetchResults={fetchProducts}                    â”‚
  â”‚        placeholder="Search products..."               â”‚
  â”‚        maxResults={8}                                  â”‚
  â”‚        minQueryLength={2}                              â”‚
  â”‚        debounceMs={300}                                â”‚
  â”‚        renderItem={(product, isActive) => (            â”‚
  â”‚          <div className={`product-item                 â”‚
  â”‚            ${isActive ? 'active' : ''}`}>              â”‚
  â”‚            <img src={product.image}                    â”‚
  â”‚                 alt={product.name} />                   â”‚
  â”‚            <div>                                       â”‚
  â”‚              <strong>{product.name}</strong>            â”‚
  â”‚              <span>${product.price}</span>             â”‚
  â”‚            </div>                                      â”‚
  â”‚          </div>                                        â”‚
  â”‚        )}                                              â”‚
  â”‚        onSelect={(product) =>                          â”‚
  â”‚          router.push(`/products/${product.id}`)}       â”‚
  â”‚      />                                                â”‚
  â”‚    );                                                  â”‚
  â”‚  }                                                     â”‚
  â”‚                                                        â”‚
  â”‚  ğŸ’¡ NEXT.JS LÆ¯U Ã:                                    â”‚
  â”‚  â†’ 'use client' Báº®T BUá»˜C! (Typeahead cáº§n state)     â”‚
  â”‚  â†’ Hoáº·c tÃ¡ch thÃ nh Client Component riÃªng            â”‚
  â”‚  â†’ Server Component KHÃ”NG cÃ³ useState, useEffect!    â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§22. Phá»ng Váº¥n Q&A â€” CÃ¢u Há»i ThÆ°á»ng Gáº·p

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  CÃ‚U Há»I PHá»NG Váº¤N â€” TRáº¢ Lá»œI NHÆ¯ SENIOR!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  Q1: "Design a Typeahead component"
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  CÃCH TRáº¢ Lá»œI (theo 8 bÆ°á»›c):                         â”‚
  â”‚                                                        â”‚
  â”‚  "TrÆ°á»›c tiÃªn, hÃ£y clarify requirements:               â”‚
  â”‚   â†’ Data source? (API vs static)                      â”‚
  â”‚   â†’ Scale? (bao nhiÃªu items)                          â”‚
  â”‚   â†’ Real-time hay batch?                               â”‚
  â”‚                                                        â”‚
  â”‚   Dá»±a trÃªn Ä‘Ã³, tÃ´i Ä‘á» xuáº¥t Stateless architecture    â”‚
  â”‚   vÃ¬ 90% use cases phÃ¹ há»£p, dá»… tÃ­ch há»£p, vÃ          â”‚
  â”‚   scalable. API design sáº½ gá»“m..."                    â”‚
  â”‚                                                        â”‚
  â”‚  â†’ Äá»ªNG nháº£y vÃ o code ngay!                          â”‚
  â”‚  â†’ Há»i clarifying questions TRÆ¯á»šC!                   â”‚
  â”‚  â†’ Show SYSTEMATIC THINKING!                           â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  Q2: "How do you handle race conditions?"
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  "Race condition xáº£y ra khi multiple async requests   â”‚
  â”‚   return khÃ´ng Ä‘Ãºng thá»© tá»±. Giáº£i phÃ¡p:               â”‚
  â”‚                                                        â”‚
  â”‚   â‘  AbortController â€” cancel request cÅ© khi cÃ³ má»›i  â”‚
  â”‚   â‘¡ Debouncing â€” giáº£m sá»‘ requests gá»­i Ä‘i           â”‚
  â”‚   â‘¢ Request ID tracking â€” check request má»›i nháº¥t    â”‚
  â”‚                                                        â”‚
  â”‚   AbortController lÃ  giáº£i phÃ¡p Tá»T NHáº¤T vÃ¬:         â”‚
  â”‚   â†’ Native Web API, khÃ´ng cáº§n thÆ° viá»‡n              â”‚
  â”‚   â†’ Cancel cáº£ network request (tiáº¿t kiá»‡m bandwidth)â”‚
  â”‚   â†’ Cleanup dá»… dÃ ng trong useEffect"                â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  Q3: "What data structure would you use for local search?"
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  "Trie (Prefix Tree) lÃ  best choice vÃ¬:               â”‚
  â”‚                                                        â”‚
  â”‚   â†’ Search complexity: O(W) â€” W = word length          â”‚
  â”‚   â†’ KHÃ”NG phá»¥ thuá»™c tá»•ng sá»‘ items!                   â”‚
  â”‚   â†’ So vá»›i Array.filter: O(NÃ—W) â€” pháº£i check Táº¤T Cáº¢â”‚
  â”‚                                                        â”‚
  â”‚   Cho Hybrid, dÃ¹ng LRU Trie:                          â”‚
  â”‚   â†’ Giá»›i háº¡n cache size                              â”‚
  â”‚   â†’ Tá»± evict entries Ã­t dÃ¹ng                        â”‚
  â”‚   â†’ Káº¿t há»£p speed local + freshness server"          â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  Q4: "How do you optimize performance?"
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Chia 3 pháº§n:                                          â”‚
  â”‚                                                        â”‚
  â”‚  NETWORK:                                               â”‚
  â”‚  â†’ Debouncing (300ms), AbortController                 â”‚
  â”‚  â†’ HTTP caching (Cache-Control headers)                â”‚
  â”‚  â†’ CDN + Gzip/Brotli compression                      â”‚
  â”‚  â†’ minQueryLength Ä‘á»ƒ giáº£m requests                   â”‚
  â”‚                                                        â”‚
  â”‚  RENDERING:                                             â”‚
  â”‚  â†’ Skeleton placeholders khi loading                   â”‚
  â”‚  â†’ Virtualization cho large lists (react-window)      â”‚
  â”‚  â†’ CSS animations (GPU) thay vÃ¬ JS animations        â”‚
  â”‚  â†’ TrÃ¡nh reflow properties!                           â”‚
  â”‚                                                        â”‚
  â”‚  JAVASCRIPT:                                            â”‚
  â”‚  â†’ Server-side search cho dataset lá»›n                 â”‚
  â”‚  â†’ Web Workers cho client-side heavy filtering        â”‚
  â”‚  â†’ TrÃ¡nh sync blocking operations                     â”‚
  â”‚  â†’ React.memo, useMemo cho expensive renders          â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  Q5: "How do you handle accessibility?"
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  "WCAG compliance qua 4 pillars:                       â”‚
  â”‚                                                        â”‚
  â”‚   â‘  ARIA roles: combobox, listbox, option              â”‚
  â”‚   â‘¡ Keyboard: Arrow keys, Enter, Escape               â”‚
  â”‚   â‘¢ Focus management: Click outside, focus trap       â”‚
  â”‚   â‘£ Scalable units: rem thay vÃ¬ px                   â”‚
  â”‚                                                        â”‚
  â”‚   Cá»¥ thá»ƒ:                                             â”‚
  â”‚   â†’ Input cÃ³ role='combobox'                          â”‚
  â”‚   â†’ aria-expanded, aria-controls, aria-autocomplete   â”‚
  â”‚   â†’ aria-activedescendant cho visual focus            â”‚
  â”‚   â†’ Má»—i option cÃ³ role='option' + aria-selected"    â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  Q6: "Stateless vs Stateful? When to use which?"
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  "Stateless (90% cases):                               â”‚
  â”‚   â†’ API-driven search (Google, Amazon)                 â”‚
  â”‚   â†’ Design system components                          â”‚
  â”‚   â†’ Scalable, simple, reusable                        â”‚
  â”‚                                                        â”‚
  â”‚   Stateful (8% cases):                                 â”‚
  â”‚   â†’ Static data < 10K (contacts, countries)            â”‚
  â”‚   â†’ Offline-first apps                                 â”‚
  â”‚   â†’ Best search speed (local Trie)                    â”‚
  â”‚                                                        â”‚
  â”‚   Hybrid (2% cases):                                   â”‚
  â”‚   â†’ Legacy slow APIs                                   â”‚
  â”‚   â†’ Catalog-based search                              â”‚
  â”‚   â†’ Cáº§n cache + server sync                          â”‚
  â”‚   â†’ Phá»©c táº¡p, chá»‰ dÃ¹ng khi THáº¬T Sá»° cáº§n"           â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  Q7: "Security concerns for a Typeahead?"
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  "3 má»‘i quan ngáº¡i chÃ­nh:                              â”‚
  â”‚                                                        â”‚
  â”‚   â‘  XSS: sanitize káº¿t quáº£ tá»« server                 â”‚
  â”‚     â†’ DOMPurify.sanitize() cho HTML content           â”‚
  â”‚     â†’ React máº·c Ä‘á»‹nh escape, nhÆ°ng cáº©n tháº­n vá»›i    â”‚
  â”‚       dangerouslySetInnerHTML!                         â”‚
  â”‚                                                        â”‚
  â”‚   â‘¡ DOM Tampering: Shadow DOM encapsulation           â”‚
  â”‚     â†’ Malicious extensions KHÃ”NG modify Ä‘Æ°á»£c DOM     â”‚
  â”‚     â†’ mode: 'closed' cho maximum isolation            â”‚
  â”‚                                                        â”‚
  â”‚   â‘¢ Data Leakage: filterFunction prop                 â”‚
  â”‚     â†’ Filter sensitive data trÆ°á»›c khi render          â”‚
  â”‚     â†’ Limit exposed CSS API customization"            â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  ğŸ’¡ TIPS PHá»NG Váº¤N:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â­ Báº®T Äáº¦U vá»›i clarifying questions!                â”‚
  â”‚     â†’ "Data tá»« Ä‘Ã¢u? Scale bao nhiÃªu?"               â”‚
  â”‚                                                        â”‚
  â”‚  â­ KHÃ”NG nháº£y vÃ o code!                              â”‚
  â”‚     â†’ PhÃ¢n tÃ­ch requirements â†’ Architecture â†’        â”‚
  â”‚       API â†’ State â†’ Optimization                     â”‚
  â”‚                                                        â”‚
  â”‚  â­ MENTION trade-offs!                                â”‚
  â”‚     â†’ "Stateless Ä‘Æ¡n giáº£n nhÆ°ng phá»¥ thuá»™c network"  â”‚
  â”‚     â†’ "Trie nhanh nhÆ°ng tá»‘n memory"                  â”‚
  â”‚                                                        â”‚
  â”‚  â­ SHOW depth á»Ÿ 1-2 topics!                          â”‚
  â”‚     â†’ Race condition + AbortController                 â”‚
  â”‚     â†’ Trie data structure + complexity analysis       â”‚
  â”‚                                                        â”‚
  â”‚  â­ MENTION nhÆ°ng KHÃ”NG deep dive má»i thá»©!           â”‚
  â”‚     â†’ "Vá» accessibility, tÃ´i sáº½ dÃ¹ng ARIA roles     â”‚
  â”‚        vÃ  keyboard navigation" â†’ Ä‘á»§ rá»“i!             â”‚
  â”‚     â†’ Deep dive Náº¾U interviewer há»i thÃªm!           â”‚
  â”‚                                                        â”‚
  â”‚  â­ Thá»i gian phÃ¢n bá»• (45 phÃºt):                    â”‚
  â”‚     â†’ Requirements: 5 phÃºt                           â”‚
  â”‚     â†’ Architecture + API: 10 phÃºt                    â”‚
  â”‚     â†’ Data structures: 10 phÃºt                       â”‚
  â”‚     â†’ Race conditions: 5 phÃºt                        â”‚
  â”‚     â†’ Optimization: 10 phÃºt                          â”‚
  â”‚     â†’ Security + A11y: 5 phÃºt                        â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

> **Tá»•ng káº¿t:** Typeahead/Autocomplete lÃ  má»™t trong nhá»¯ng cÃ¢u há»i **phá»• biáº¿n nháº¥t** trong Front-End System Design Interview. Náº¯m vá»¯ng 8 bÆ°á»›c thiáº¿t káº¿, hiá»ƒu rÃµ 3 kiá»ƒu kiáº¿n trÃºc, biáº¿t cÃ¡ch xá»­ lÃ½ race conditions vá»›i AbortController, vÃ  cÃ³ thá»ƒ code React implementation hoÃ n chá»‰nh â€” báº¡n Ä‘Ã£ sáºµn sÃ ng cho buá»•i phá»ng váº¥n! ğŸš€
