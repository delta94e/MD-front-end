# Next.js Font Optimization â€” Deep Dive!

> **Chá»§ Ä‘á»**: Font Optimization trong Next.js App Router
> **NgÃ´n ngá»¯**: Tiáº¿ng Viá»‡t â€” giáº£i thÃ­ch cá»±c ká»³ chi tiáº¿t!
> **PhÆ°Æ¡ng chÃ¢m**: Tá»± viáº¿t láº¡i báº±ng tay â€” KHÃ”NG dÃ¹ng thÆ° viá»‡n!
> **Nguá»“n**: https://nextjs.org/docs/app/getting-started/fonts
> **HÃ¬nh áº£nh**: Trang gá»‘c KHÃ”NG cÃ³ hÃ¬nh minh hoáº¡ (0 images) â€” tá»± váº½ ASCII!

---

## Má»¥c Lá»¥c

1. [Â§1. Tá»•ng Quan â€” next/font Module](#1)
2. [Â§2. Google Fonts â€” Self-Hosting Tá»± Äá»™ng](#2)
3. [Â§3. Variable Fonts vs Static Fonts](#3)
4. [Â§4. Local Fonts â€” Font Tá»« File Local](#4)
5. [Â§5. Multiple Font Files â€” Font Family Äáº§y Äá»§](#5)
6. [Â§6. SÆ¡ Äá»“ Tá»•ng Há»£p â€” Font Pipeline](#6)
7. [Â§7. Tá»± Viáº¿t â€” FontOptimizationEngine](#7)
8. [Â§8. CÃ¢u Há»i Luyá»‡n Táº­p](#8)

---

## Â§1. Tá»•ng Quan â€” next/font Module!

```
  NEXT/FONT â€” Táº I SAO Cáº¦N?
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  TRUYá»€N THá»NG (khÃ´ng cÃ³ next/font):                    â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â”‚  Browser â”€â”€requestâ”€â”€â†’ Google Fonts CDN           â”‚  â”‚
  â”‚  â”‚    â”‚                        â”‚                     â”‚  â”‚
  â”‚  â”‚    â”‚ â‘  Request CSS         â”‚ â‘¡ Return CSS        â”‚  â”‚
  â”‚  â”‚    â”‚ â‘¢ Request font files  â”‚ â‘£ Return .woff2     â”‚  â”‚
  â”‚  â”‚    â”‚                        â”‚                     â”‚  â”‚
  â”‚  â”‚  Váº¤N Äá»€:                                        â”‚  â”‚
  â”‚  â”‚  âŒ Network request BÃŠN NGOÃ€I (cháº­m!)           â”‚  â”‚
  â”‚  â”‚  âŒ Privacy â€” Google biáº¿t user truy cáº­p trang!  â”‚  â”‚
  â”‚  â”‚  âŒ Layout Shift â€” text nháº£y khi font load!     â”‚  â”‚
  â”‚  â”‚  âŒ Render blocking â€” chá» font má»›i hiá»ƒn thá»‹!    â”‚  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                                        â”‚
  â”‚  NEXT/FONT (giáº£i phÃ¡p):                                â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â”‚  Build time:                                     â”‚  â”‚
  â”‚  â”‚  Next.js â”€â”€downloadâ”€â”€â†’ Google Fonts              â”‚  â”‚
  â”‚  â”‚    â”‚                                              â”‚  â”‚
  â”‚  â”‚    â–¼                                              â”‚  â”‚
  â”‚  â”‚  Font files â†’ Stored as STATIC ASSETS            â”‚  â”‚
  â”‚  â”‚  â†’ Served from SAME DOMAIN!                      â”‚  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â”‚  Runtime:                                        â”‚  â”‚
  â”‚  â”‚  Browser â”€â”€requestâ”€â”€â†’ CÃ™NG DOMAIN (self-hosted!) â”‚  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â”‚  âœ… KHÃ”NG request bÃªn ngoÃ i!                     â”‚  â”‚
  â”‚  â”‚  âœ… Privacy â€” Google KHÃ”NG biáº¿t gÃ¬!              â”‚  â”‚
  â”‚  â”‚  âœ… ZERO layout shift!                           â”‚  â”‚
  â”‚  â”‚  âœ… Nhanh hÆ¡n â€” same origin, no DNS lookup!     â”‚  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                                        â”‚
  â”‚  3 TÃNH NÄ‚NG CHÃNH:                                    â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚  â‘  Auto-optimize: tá»‘i Æ°u font tá»± Ä‘á»™ng          â”‚  â”‚
  â”‚  â”‚  â‘¡ Self-hosting: serve tá»« cÃ¹ng domain           â”‚  â”‚
  â”‚  â”‚  â‘¢ Zero layout shift: KHÃ”NG nháº£y layout!        â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```
  CÃCH DÃ™NG CÆ  Báº¢N â€” 3 BÆ¯á»šC:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  BÆ¯á»šC 1: Import font                                   â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚  import { Geist } from 'next/font/google'       â”‚  â”‚
  â”‚  â”‚  // HOáº¶C                                         â”‚  â”‚
  â”‚  â”‚  import localFont from 'next/font/local'        â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                                        â”‚
  â”‚  BÆ¯á»šC 2: Gá»i hÃ m font vá»›i options                     â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚  const geist = Geist({                           â”‚  â”‚
  â”‚  â”‚    subsets: ['latin'],  â† required!             â”‚  â”‚
  â”‚  â”‚  })                                              â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                                        â”‚
  â”‚  BÆ¯á»šC 3: DÃ¹ng className                                â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚  <html className={geist.className}>              â”‚  â”‚
  â”‚  â”‚    ... toÃ n app dÃ¹ng font Geist!                â”‚  â”‚
  â”‚  â”‚  </html>                                          â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                                        â”‚
  â”‚  âš ï¸ SCOPE: Font SCOPED theo component sá»­ dá»¥ng!        â”‚
  â”‚  â†’ Ãp dá»¥ng toÃ n app? â†’ Äáº·t á»Ÿ Root Layout!            â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§2. Google Fonts â€” Self-Hosting Tá»± Äá»™ng!

```
  GOOGLE FONTS â€” SELF-HOSTING:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  BEHIND THE SCENES:                                    â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â”‚  KHI BUILD (next build):                         â”‚  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â”‚  â‘   import { Geist } from 'next/font/google'    â”‚  â”‚
  â”‚  â”‚                    â”‚                              â”‚  â”‚
  â”‚  â”‚                    â–¼                              â”‚  â”‚
  â”‚  â”‚  â‘¡  Next.js download font tá»« Google Fonts API   â”‚  â”‚
  â”‚  â”‚                    â”‚                              â”‚  â”‚
  â”‚  â”‚                    â–¼                              â”‚  â”‚
  â”‚  â”‚  â‘¢  Font files â†’ .next/static/media/            â”‚  â”‚
  â”‚  â”‚      â”œâ”€â”€ Geist-Regular.woff2                     â”‚  â”‚
  â”‚  â”‚      â”œâ”€â”€ Geist-Bold.woff2                        â”‚  â”‚
  â”‚  â”‚      â””â”€â”€ (cÃ¡c weight khÃ¡c...)                    â”‚  â”‚
  â”‚  â”‚                    â”‚                              â”‚  â”‚
  â”‚  â”‚                    â–¼                              â”‚  â”‚
  â”‚  â”‚  â‘£  Generate CSS @font-face tá»± Ä‘á»™ng             â”‚  â”‚
  â”‚  â”‚      @font-face {                                â”‚  â”‚
  â”‚  â”‚        font-family: '__Geist_abc123';            â”‚  â”‚
  â”‚  â”‚        src: url(/_next/static/media/Geist.woff2);â”‚  â”‚
  â”‚  â”‚        font-display: swap;                       â”‚  â”‚
  â”‚  â”‚      }                                           â”‚  â”‚
  â”‚  â”‚                    â”‚                              â”‚  â”‚
  â”‚  â”‚                    â–¼                              â”‚  â”‚
  â”‚  â”‚  â‘¤  geist.className = '__Geist_abc123'          â”‚  â”‚
  â”‚  â”‚      â†’ Unique class name!                        â”‚  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                                        â”‚
  â”‚  KHI RUNTIME:                                          â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚  Browser                                         â”‚  â”‚
  â”‚  â”‚    â”‚                                              â”‚  â”‚
  â”‚  â”‚    â”œâ”€â”€ Load HTML                                  â”‚  â”‚
  â”‚  â”‚    â”œâ”€â”€ Tháº¥y class '__Geist_abc123'                â”‚  â”‚
  â”‚  â”‚    â”œâ”€â”€ Load @font-face CSS (inline)               â”‚  â”‚
  â”‚  â”‚    â””â”€â”€ Download .woff2 tá»« CÃ™NG DOMAIN!           â”‚  â”‚
  â”‚  â”‚         â†‘                                         â”‚  â”‚
  â”‚  â”‚    KHÃ”NG request Google! ğŸ‰                       â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```typescript
// GOOGLE FONTS â€” VÃ Dá»¤ Äáº¦Y Äá»¦:
import { Geist } from 'next/font/google'

const geist = Geist({
  subsets: ['latin'],
  // subsets: kÃ½ tá»± cáº§n load
  // â†’ 'latin' cho tiáº¿ng Anh
  // â†’ 'vietnamese' cho tiáº¿ng Viá»‡t!
  // â†’ 'latin-ext' cho kÃ½ tá»± Latin má»Ÿ rá»™ng
})

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en" className={geist.className}>
      {/*                 â†‘
          className chá»©a unique class name!
          â†’ font-family Tá»° Äá»˜NG applied!
      */}
      <body>{children}</body>
    </html>
  )
}
```

---

## Â§3. Variable Fonts vs Static Fonts!

```
  VARIABLE FONTS vs STATIC FONTS:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  VARIABLE FONT (Æ¯U TIÃŠN!):                            â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â”‚  1 FILE chá»©a Táº¤T Cáº¢ weight + style!             â”‚  â”‚
  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚  â”‚
  â”‚  â”‚  â”‚  Geist[wght].woff2              â”‚             â”‚  â”‚
  â”‚  â”‚  â”‚  â”œâ”€â”€ weight: 100 (Thin)         â”‚             â”‚  â”‚
  â”‚  â”‚  â”‚  â”œâ”€â”€ weight: 200 (ExtraLight)   â”‚             â”‚  â”‚
  â”‚  â”‚  â”‚  â”œâ”€â”€ weight: 300 (Light)        â”‚             â”‚  â”‚
  â”‚  â”‚  â”‚  â”œâ”€â”€ weight: 400 (Regular)      â”‚             â”‚  â”‚
  â”‚  â”‚  â”‚  â”œâ”€â”€ weight: 500 (Medium)       â”‚             â”‚  â”‚
  â”‚  â”‚  â”‚  â”œâ”€â”€ weight: 600 (SemiBold)     â”‚             â”‚  â”‚
  â”‚  â”‚  â”‚  â”œâ”€â”€ weight: 700 (Bold)         â”‚             â”‚  â”‚
  â”‚  â”‚  â”‚  â””â”€â”€ weight: 800-900            â”‚             â”‚  â”‚
  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â”‚  âœ… 1 file duy nháº¥t â†’ Ã­t HTTP requests!         â”‚  â”‚
  â”‚  â”‚  âœ… MÆ°á»£t mÃ  giá»¯a cÃ¡c weight (fluid)             â”‚  â”‚
  â”‚  â”‚  âœ… KHÃ”NG cáº§n specify weight!                    â”‚  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â”‚  CODE:                                           â”‚  â”‚
  â”‚  â”‚  const geist = Geist({                           â”‚  â”‚
  â”‚  â”‚    subsets: ['latin'],                           â”‚  â”‚
  â”‚  â”‚    // KHÃ”NG cáº§n weight! Variable tá»± xá»­ lÃ½!      â”‚  â”‚
  â”‚  â”‚  })                                              â”‚  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                                        â”‚
  â”‚  STATIC FONT (khi khÃ´ng cÃ³ variable):                  â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â”‚  Má»–I weight = 1 FILE RIÃŠNG!                      â”‚  â”‚
  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚  â”‚
  â”‚  â”‚  â”‚  Roboto-Regular.woff2 (weight: 400)           â”‚  â”‚
  â”‚  â”‚  â”‚  Roboto-Bold.woff2    (weight: 700)           â”‚  â”‚
  â”‚  â”‚  â”‚  Roboto-Italic.woff2  (weight: 400, italic)   â”‚  â”‚
  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â”‚  âš ï¸ PHáº¢I specify weight!                         â”‚  â”‚
  â”‚  â”‚  âš ï¸ Nhiá»u files â†’ nhiá»u requests!                â”‚  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â”‚  CODE:                                           â”‚  â”‚
  â”‚  â”‚  const roboto = Roboto({                         â”‚  â”‚
  â”‚  â”‚    weight: '400',  â† Báº®T BUá»˜C!                 â”‚  â”‚
  â”‚  â”‚    subsets: ['latin'],                           â”‚  â”‚
  â”‚  â”‚  })                                              â”‚  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                                        â”‚
  â”‚  SO SÃNH:                                              â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
  â”‚  â”‚                      â”‚ Variable  â”‚ Static         â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ Sá»‘ files             â”‚ 1         â”‚ Nhiá»u (per wt) â”‚ â”‚
  â”‚  â”‚ Weight flexibility   â”‚ Báº¥t ká»³   â”‚ Chá»‰ specified  â”‚ â”‚
  â”‚  â”‚ File size tá»•ng       â”‚ Lá»›n hÆ¡n   â”‚ Nhá» hÆ¡n/file   â”‚ â”‚
  â”‚  â”‚ HTTP requests        â”‚ 1         â”‚ Nhiá»u          â”‚ â”‚
  â”‚  â”‚ Performance          â”‚ âœ… Tá»‘t hÆ¡nâ”‚ âš ï¸ Cháº¥p nháº­n  â”‚ â”‚
  â”‚  â”‚ Cáº§n specify weight?  â”‚ KhÃ´ng     â”‚ Báº®T BUá»˜C      â”‚ â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```typescript
// STATIC FONT â€” VÃ Dá»¤:
import { Roboto } from 'next/font/google'

const roboto = Roboto({
  weight: '400',        // â† Báº®T BUá»˜C cho static font!
  subsets: ['latin'],
})
// â†’ Náº¿u cáº§n nhiá»u weight:
// weight: ['400', '700']
// â†’ Load 2 file riÃªng biá»‡t!

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en" className={roboto.className}>
      <body>{children}</body>
    </html>
  )
}
```

---

## Â§4. Local Fonts â€” Font Tá»« File Local!

```
  LOCAL FONTS â€” KHI NÃ€O DÃ™NG?
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  DÃ™NG KHI:                                             â”‚
  â”‚  â†’ Font KHÃ”NG cÃ³ trÃªn Google Fonts                    â”‚
  â”‚  â†’ Font tá»± thiáº¿t káº¿ / mua báº£n quyá»n                  â”‚
  â”‚  â†’ Muá»‘n kiá»ƒm soÃ¡t 100% font files                    â”‚
  â”‚  â†’ YÃªu cáº§u báº£o máº­t cao (khÃ´ng muá»‘n lá»™ font name)    â”‚
  â”‚                                                        â”‚
  â”‚  CÃCH DÃ™NG:                                            â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚  import localFont from 'next/font/local'        â”‚  â”‚
  â”‚  â”‚                   â†‘                               â”‚  â”‚
  â”‚  â”‚           next/font/local (khÃ´ng pháº£i /google!)  â”‚  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â”‚  const myFont = localFont({                      â”‚  â”‚
  â”‚  â”‚    src: './my-font.woff2',  â† path Ä‘áº¿n file!   â”‚  â”‚
  â”‚  â”‚  })                                              â”‚  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â”‚  // DÃ¹ng giá»‘ng Google Font:                      â”‚  â”‚
  â”‚  â”‚  <html className={myFont.className}>             â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                                        â”‚
  â”‚  NÆ I Äáº¶T FONT FILES:                                  â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â”‚  project-root/                                   â”‚  â”‚
  â”‚  â”‚  â”œâ”€â”€ public/            â† âœ… Option 1           â”‚  â”‚
  â”‚  â”‚  â”‚   â””â”€â”€ fonts/                                  â”‚  â”‚
  â”‚  â”‚  â”‚       â””â”€â”€ my-font.woff2                       â”‚  â”‚
  â”‚  â”‚  â”‚                                               â”‚  â”‚
  â”‚  â”‚  â””â”€â”€ app/               â† âœ… Option 2           â”‚  â”‚
  â”‚  â”‚      â”œâ”€â”€ layout.tsx     (co-located!)            â”‚  â”‚
  â”‚  â”‚      â””â”€â”€ my-font.woff2                           â”‚  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â”‚  â†’ Cáº£ 2 Ä‘á»u Ä‘Æ°á»£c! Co-located tiá»‡n hÆ¡n!         â”‚  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```typescript
// LOCAL FONT â€” VÃ Dá»¤:
import localFont from 'next/font/local'

const myFont = localFont({
  src: './my-font.woff2',
  //   â†‘ Relative path tá»« file hiá»‡n táº¡i!
  //   â†’ Náº¿u file á»Ÿ app/my-font.woff2
  //   â†’ Layout á»Ÿ app/layout.tsx
  //   â†’ src: './my-font.woff2' âœ…
})

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en" className={myFont.className}>
      <body>{children}</body>
    </html>
  )
}
```

---

## Â§5. Multiple Font Files â€” Font Family Äáº§y Äá»§!

```
  MULTIPLE FONT FILES â€” SRC LÃ€ ARRAY:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  KHI Cáº¦N NHIá»€U variants cho 1 font family:            â”‚
  â”‚  â†’ Regular, Bold, Italic, BoldItalic, etc.            â”‚
  â”‚  â†’ src CHUYá»‚N thÃ nh ARRAY!                            â”‚
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚  const roboto = localFont({                      â”‚  â”‚
  â”‚  â”‚    src: [                                        â”‚  â”‚
  â”‚  â”‚      {                                           â”‚  â”‚
  â”‚  â”‚        path: './Roboto-Regular.woff2',           â”‚  â”‚
  â”‚  â”‚        weight: '400',                            â”‚  â”‚
  â”‚  â”‚        style: 'normal',                          â”‚  â”‚
  â”‚  â”‚      },                                          â”‚  â”‚
  â”‚  â”‚      {                                           â”‚  â”‚
  â”‚  â”‚        path: './Roboto-Italic.woff2',            â”‚  â”‚
  â”‚  â”‚        weight: '400',                            â”‚  â”‚
  â”‚  â”‚        style: 'italic',                          â”‚  â”‚
  â”‚  â”‚      },                                          â”‚  â”‚
  â”‚  â”‚      {                                           â”‚  â”‚
  â”‚  â”‚        path: './Roboto-Bold.woff2',              â”‚  â”‚
  â”‚  â”‚        weight: '700',                            â”‚  â”‚
  â”‚  â”‚        style: 'normal',                          â”‚  â”‚
  â”‚  â”‚      },                                          â”‚  â”‚
  â”‚  â”‚      {                                           â”‚  â”‚
  â”‚  â”‚        path: './Roboto-BoldItalic.woff2',        â”‚  â”‚
  â”‚  â”‚        weight: '700',                            â”‚  â”‚
  â”‚  â”‚        style: 'italic',                          â”‚  â”‚
  â”‚  â”‚      },                                          â”‚  â”‚
  â”‚  â”‚    ],                                            â”‚  â”‚
  â”‚  â”‚  })                                              â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                                        â”‚
  â”‚  BROWSER Sáº¼ Tá»° CHá»ŒN:                                  â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â”‚  CSS viáº¿t: font-weight: 400                      â”‚  â”‚
  â”‚  â”‚  â†’ Browser dÃ¹ng: Roboto-Regular.woff2            â”‚  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â”‚  CSS viáº¿t: font-weight: 400; font-style: italic  â”‚  â”‚
  â”‚  â”‚  â†’ Browser dÃ¹ng: Roboto-Italic.woff2             â”‚  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â”‚  CSS viáº¿t: font-weight: 700                      â”‚  â”‚
  â”‚  â”‚  â†’ Browser dÃ¹ng: Roboto-Bold.woff2               â”‚  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â”‚  CSS viáº¿t: font-weight: 700; font-style: italic  â”‚  â”‚
  â”‚  â”‚  â†’ Browser dÃ¹ng: Roboto-BoldItalic.woff2         â”‚  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                                        â”‚
  â”‚  @font-face GENERATED (má»—i variant = 1 @font-face):   â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚  @font-face {                                    â”‚  â”‚
  â”‚  â”‚    font-family: '__roboto_xyz';                  â”‚  â”‚
  â”‚  â”‚    src: url(...Roboto-Regular.woff2);            â”‚  â”‚
  â”‚  â”‚    font-weight: 400;                             â”‚  â”‚
  â”‚  â”‚    font-style: normal;                           â”‚  â”‚
  â”‚  â”‚    font-display: swap;                           â”‚  â”‚
  â”‚  â”‚  }                                               â”‚  â”‚
  â”‚  â”‚  @font-face {                                    â”‚  â”‚
  â”‚  â”‚    font-family: '__roboto_xyz';                  â”‚  â”‚
  â”‚  â”‚    src: url(...Roboto-Bold.woff2);               â”‚  â”‚
  â”‚  â”‚    font-weight: 700;                             â”‚  â”‚
  â”‚  â”‚    font-style: normal;                           â”‚  â”‚
  â”‚  â”‚    font-display: swap;                           â”‚  â”‚
  â”‚  â”‚  }                                               â”‚  â”‚
  â”‚  â”‚  /* ... thÃªm cho italic variants */              â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§6. SÆ¡ Äá»“ Tá»•ng Há»£p â€” Font Pipeline!

```
  NEXT.JS FONT â€” TOÃ€N Bá»˜ PIPELINE:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
  â”‚  â”‚               FONT SOURCE                        â”‚   â”‚
  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
  â”‚  â”‚  â”‚ GOOGLE FONTS       â”‚ LOCAL FONTS           â”‚  â”‚   â”‚
  â”‚  â”‚  â”‚ next/font/google  â”‚ next/font/local       â”‚  â”‚   â”‚
  â”‚  â”‚  â”‚ import { Inter }  â”‚ import localFont      â”‚  â”‚   â”‚
  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
  â”‚                â”‚                   â”‚                    â”‚
  â”‚                â–¼                   â–¼                    â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
  â”‚  â”‚          BUILD TIME (next build)                 â”‚   â”‚
  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
  â”‚  â”‚  â”‚  â‘  Download/Read font files (.woff2)     â”‚   â”‚   â”‚
  â”‚  â”‚  â”‚  â‘¡ Store in .next/static/media/          â”‚   â”‚   â”‚
  â”‚  â”‚  â”‚  â‘¢ Generate @font-face CSS               â”‚   â”‚   â”‚
  â”‚  â”‚  â”‚  â‘£ Generate unique className              â”‚   â”‚   â”‚
  â”‚  â”‚  â”‚  â‘¤ Inline CSS (no external request!)     â”‚   â”‚   â”‚
  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
  â”‚                        â”‚                                â”‚
  â”‚                        â–¼                                â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
  â”‚  â”‚            RUNTIME (browser)                     â”‚   â”‚
  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
  â”‚  â”‚  â”‚  â‘  Load HTML (className Ä‘Ã£ cÃ³!)          â”‚   â”‚   â”‚
  â”‚  â”‚  â”‚  â‘¡ Load @font-face CSS (inline)          â”‚   â”‚   â”‚
  â”‚  â”‚  â”‚  â‘¢ Download .woff2 tá»« CÃ™NG DOMAIN        â”‚   â”‚   â”‚
  â”‚  â”‚  â”‚  â‘£ font-display: swap                     â”‚   â”‚   â”‚
  â”‚  â”‚  â”‚     â†’ Show fallback â†’ swap khi ready     â”‚   â”‚   â”‚
  â”‚  â”‚  â”‚  â‘¤ ZERO layout shift! ğŸ‰                 â”‚   â”‚   â”‚
  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```
  font-display: swap â€” GIáº¢I THÃCH:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  TIMELINE:                                             â”‚
  â”‚                                                        â”‚
  â”‚  t=0ms        t=100ms      t=500ms      t=800ms       â”‚
  â”‚   â”‚            â”‚            â”‚            â”‚             â”‚
  â”‚   â–¼            â–¼            â–¼            â–¼             â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
  â”‚  â”‚ Hiá»ƒn thá»‹ â”‚ Váº«n dÃ¹ng â”‚ Font táº£i â”‚ SWAP     â”‚        â”‚
  â”‚  â”‚ fallback â”‚ fallback â”‚ xong!    â”‚ sang     â”‚        â”‚
  â”‚  â”‚ (Arial)  â”‚ (Arial)  â”‚          â”‚ font má»›i!â”‚        â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
  â”‚                                                        â”‚
  â”‚  â†’ User LUÃ”N tháº¥y text (khÃ´ng bá»‹ trá»‘ng!)              â”‚
  â”‚  â†’ Khi font load xong â†’ swap MÆ¯á»¢T MÃ€                 â”‚
  â”‚  â†’ Next.js optimize â†’ font metrics match!             â”‚
  â”‚  â†’ Layout KHÃ”NG NHáº¢Y! (CLS = 0)                      â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```
  GOOGLE vs LOCAL â€” DECISION:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Báº¡n dÃ¹ng font nÃ o?                                    â”‚
  â”‚  â”‚                                                     â”‚
  â”‚  â”œâ”€â”€ Font cÃ³ trÃªn Google Fonts?                        â”‚
  â”‚  â”‚   â”‚                                                 â”‚
  â”‚  â”‚   â”œâ”€â”€ CÃ³ â†’ âœ… next/font/google                     â”‚
  â”‚  â”‚   â”‚   â”‚                                             â”‚
  â”‚  â”‚   â”‚   â”œâ”€â”€ Font lÃ  Variable?                         â”‚
  â”‚  â”‚   â”‚   â”‚   â”œâ”€â”€ CÃ³ â†’ KHÃ”NG cáº§n weight âœ…             â”‚
  â”‚  â”‚   â”‚   â”‚   â””â”€â”€ KhÃ´ng â†’ PHáº¢I specify weight!         â”‚
  â”‚  â”‚   â”‚   â”‚                                             â”‚
  â”‚  â”‚   â”‚   â””â”€â”€ Chá»n subsets phÃ¹ há»£p!                    â”‚
  â”‚  â”‚   â”‚       (latin, vietnamese, cyrillic...)          â”‚
  â”‚  â”‚   â”‚                                                 â”‚
  â”‚  â”‚   â””â”€â”€ KhÃ´ng â†’ DÃ¹ng Local Font                      â”‚
  â”‚  â”‚                                                     â”‚
  â”‚  â””â”€â”€ Font tá»± thiáº¿t káº¿ / mua / private?                 â”‚
  â”‚      â”‚                                                 â”‚
  â”‚      â””â”€â”€ âœ… next/font/local                            â”‚
  â”‚          â”‚                                             â”‚
  â”‚          â”œâ”€â”€ 1 file? â†’ src: './font.woff2'            â”‚
  â”‚          â”‚                                             â”‚
  â”‚          â””â”€â”€ Nhiá»u files? â†’ src: [ { path, weight } ] â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§7. Tá»± Viáº¿t â€” FontOptimizationEngine!

```javascript
var FontOptimizationEngine = (function () {
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // 1. FONT REGISTRY
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  var fonts = [];
  var counter = 0;

  function generateHash(name) {
    return (
      "__" +
      name.toLowerCase().replace(/[^a-z]/g, "") +
      "_" +
      Math.random().toString(36).substr(2, 6)
    );
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // 2. REGISTER GOOGLE FONT
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  function registerGoogleFont(name, options) {
    counter++;
    var hash = generateHash(name);
    var isVariable = !options.weight;

    var font = {
      id: counter,
      name: name,
      type: "google",
      className: hash,
      subsets: options.subsets || ["latin"],
      weight: options.weight || "variable (100-900)",
      isVariable: isVariable,
      files: [],
      fontFaces: [],
    };

    // Simulate download
    if (isVariable) {
      font.files.push(name + "[wght].woff2");
      font.fontFaces.push({
        family: hash,
        src: "/_next/static/media/" + name + "-variable.woff2",
        weight: "100 900",
        style: "normal",
        display: "swap",
      });
    } else {
      var weights = Array.isArray(options.weight)
        ? options.weight
        : [options.weight];
      weights.forEach(function (w) {
        font.files.push(name + "-" + w + ".woff2");
        font.fontFaces.push({
          family: hash,
          src: "/_next/static/media/" + name + "-" + w + ".woff2",
          weight: w,
          style: "normal",
          display: "swap",
        });
      });
    }

    fonts.push(font);
    console.log(
      "  [Google] Registered: " + name + ' â†’ className="' + hash + '"',
    );
    console.log(
      "    Type: " +
        (isVariable
          ? "Variable âœ…"
          : "Static (weight: " + options.weight + ")"),
    );
    console.log("    Files: " + font.files.join(", "));
    return font;
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // 3. REGISTER LOCAL FONT
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  function registerLocalFont(options) {
    counter++;
    var hash = generateHash("local" + counter);
    var srcArray = Array.isArray(options.src)
      ? options.src
      : [{ path: options.src }];

    var font = {
      id: counter,
      name: "LocalFont#" + counter,
      type: "local",
      className: hash,
      files: [],
      fontFaces: [],
    };

    srcArray.forEach(function (s) {
      font.files.push(s.path);
      font.fontFaces.push({
        family: hash,
        src: "/_next/static/media/" + s.path.split("/").pop(),
        weight: s.weight || "400",
        style: s.style || "normal",
        display: "swap",
      });
    });

    fonts.push(font);
    console.log(
      "  [Local] Registered: " + font.name + ' â†’ className="' + hash + '"',
    );
    console.log("    Files: " + font.files.length + " variant(s)");
    return font;
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // 4. GENERATE CSS
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  function generateCSS(font) {
    var css = "";
    font.fontFaces.forEach(function (ff) {
      css += "@font-face {\n";
      css += '  font-family: "' + ff.family + '";\n';
      css += "  src: url(" + ff.src + ') format("woff2");\n';
      css += "  font-weight: " + ff.weight + ";\n";
      css += "  font-style: " + ff.style + ";\n";
      css += "  font-display: " + ff.display + ";\n";
      css += "}\n\n";
    });
    return css;
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // 5. SIMULATE BUILD
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  function simulateBuild() {
    console.log("\nâ”â”â” Build Output â”â”â”");
    var totalFiles = 0;
    fonts.forEach(function (font) {
      console.log("\n  ğŸ“ " + font.name + " (" + font.type + "):");
      font.files.forEach(function (f) {
        totalFiles++;
        console.log("    â†’ .next/static/media/" + f.split("/").pop());
      });
      console.log("    CSS:");
      var css = generateCSS(font);
      css.split("\n").forEach(function (line) {
        if (line.trim()) console.log("      " + line);
      });
    });
    console.log("\n  Total font files: " + totalFiles);
    console.log("  External requests: 0 ğŸ‰");
  }

  function demo() {
    console.log("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");
    console.log("â•‘ FONT OPTIMIZATION ENGINE              â•‘");
    console.log("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");

    // Google Variable Font
    console.log("\nâ”â”â” 1. Google Variable Font â”â”â”");
    registerGoogleFont("Geist", { subsets: ["latin"] });

    // Google Static Font
    console.log("\nâ”â”â” 2. Google Static Font â”â”â”");
    registerGoogleFont("Roboto", { weight: "400", subsets: ["latin"] });

    // Local Font (single file)
    console.log("\nâ”â”â” 3. Local Font (single) â”â”â”");
    registerLocalFont({ src: "./my-font.woff2" });

    // Local Font (multiple files)
    console.log("\nâ”â”â” 4. Local Font (family) â”â”â”");
    registerLocalFont({
      src: [
        { path: "./Roboto-Regular.woff2", weight: "400", style: "normal" },
        { path: "./Roboto-Italic.woff2", weight: "400", style: "italic" },
        { path: "./Roboto-Bold.woff2", weight: "700", style: "normal" },
      ],
    });

    simulateBuild();
  }

  return { demo: demo };
})();
// Cháº¡y: FontOptimizationEngine.demo();
```

---

## Â§8. CÃ¢u Há»i Luyá»‡n Táº­p!

**CÃ¢u 1**: `next/font` giáº£i quyáº¿t nhá»¯ng váº¥n Ä‘á» gÃ¬ so vá»›i cÃ¡ch truyá»n thá»‘ng (CDN link)?

<details><summary>ÄÃ¡p Ã¡n</summary>

`next/font` giáº£i quyáº¿t **3 váº¥n Ä‘á» chÃ­nh**:

1. **External network requests**: Truyá»n thá»‘ng browser pháº£i request Google Fonts CDN â†’ cháº­m (DNS lookup + connect). `next/font` **self-host** font â†’ serve tá»« **cÃ¹ng domain**, **KHÃ”NG** request bÃªn ngoÃ i!

2. **Privacy**: Google Fonts CDN cho phÃ©p Google **tracking** user. `next/font` download font táº¡i **build time** â†’ runtime **KHÃ”NG** liÃªn láº¡c Google â†’ **privacy 100%**!

3. **Layout shift (CLS)**: Truyá»n thá»‘ng khi font load, text thay Ä‘á»•i kÃ­ch thÆ°á»›c â†’ **layout nháº£y**. `next/font` tá»‘i Æ°u font metrics + `font-display: swap` â†’ **ZERO layout shift**!

</details>

---

**CÃ¢u 2**: Sá»± khÃ¡c biá»‡t giá»¯a Variable Font vÃ  Static Font? Khi nÃ o cáº§n specify `weight`?

<details><summary>ÄÃ¡p Ã¡n</summary>

|                     | Variable Font                 | Static Font                   |
| ------------------- | ----------------------------- | ----------------------------- |
| **File**            | 1 file chá»©a **Táº¤T Cáº¢** weight | Má»—i weight = 1 file **riÃªng** |
| **Weight range**    | 100-900 (fluid)               | Chá»‰ weight Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh      |
| **HTTP requests**   | 1                             | Nhiá»u (per weight)            |
| **Specify weight?** | **KHÃ”NG Cáº¦N** âœ…              | **Báº®T BUá»˜C** âš ï¸               |

```typescript
// Variable: KHÃ”NG cáº§n weight
const geist = Geist({ subsets: ["latin"] });

// Static: PHáº¢I cÃ³ weight
const roboto = Roboto({ weight: "400", subsets: ["latin"] });
```

â†’ **LuÃ´n Æ°u tiÃªn Variable Font** cho performance tá»‘t nháº¥t!

</details>

---

**CÃ¢u 3**: `next/font/google` vs `next/font/local` â€” khi nÃ o dÃ¹ng cÃ¡i nÃ o?

<details><summary>ÄÃ¡p Ã¡n</summary>

|                 | `next/font/google`                   | `next/font/local`            |
| --------------- | ------------------------------------ | ---------------------------- |
| **Font source** | Google Fonts library                 | File `.woff2` trong project  |
| **Download**    | Tá»± Ä‘á»™ng táº¡i build time               | Báº¡n cung cáº¥p file sáºµn        |
| **Use case**    | Font phá»• biáº¿n (Inter, Roboto, Geist) | Font riÃªng/mua/tá»± thiáº¿t káº¿   |
| **Config**      | TÃªn font + subsets                   | Path Ä‘áº¿n file + weight/style |

```typescript
// Google
import { Inter } from "next/font/google";
// â†’ Next.js Tá»° download!

// Local
import localFont from "next/font/local";
const myFont = localFont({ src: "./MyFont.woff2" });
// â†’ Báº N cung cáº¥p file!
```

</details>

---

**CÃ¢u 4**: Giáº£i thÃ­ch flow khi `next/font/google` xá»­ lÃ½ font táº¡i build time.

<details><summary>ÄÃ¡p Ã¡n</summary>

```
1. Code viáº¿t: import { Geist } from 'next/font/google'

2. next build cháº¡y:
   â‘  Next.js gá»i Google Fonts API
   â‘¡ Download .woff2 files
   â‘¢ LÆ°u vÃ o .next/static/media/Geist-abc123.woff2

3. Generate CSS (inline):
   @font-face {
     font-family: '__Geist_abc123';
     src: url(/_next/static/media/Geist-abc123.woff2);
     font-display: swap;
   }

4. Tráº£ vá» object:
   geist.className = '__Geist_abc123'

5. Runtime: Browser load CSS â†’ download .woff2 tá»« CÃ™NG DOMAIN
   â†’ KHÃ”NG gá»i Google!
   â†’ Privacy OK!
   â†’ Fast (no DNS lookup)!
```

</details>

---

**CÃ¢u 5**: Viáº¿t code load local font family cÃ³ 4 variants (Regular, Italic, Bold, BoldItalic).

<details><summary>ÄÃ¡p Ã¡n</summary>

```typescript
import localFont from 'next/font/local'

const myFont = localFont({
  src: [
    {
      path: './fonts/MyFont-Regular.woff2',
      weight: '400',
      style: 'normal',
    },
    {
      path: './fonts/MyFont-Italic.woff2',
      weight: '400',
      style: 'italic',
    },
    {
      path: './fonts/MyFont-Bold.woff2',
      weight: '700',
      style: 'normal',
    },
    {
      path: './fonts/MyFont-BoldItalic.woff2',
      weight: '700',
      style: 'italic',
    },
  ],
})

// Sá»­ dá»¥ng:
export default function Layout({ children }) {
  return (
    <html className={myFont.className}>
      <body>{children}</body>
    </html>
  )
}
```

â†’ `src` lÃ  **array**, má»—i item chá»‰ Ä‘á»‹nh `path`, `weight`, `style`
â†’ Browser tá»± chá»n file phÃ¹ há»£p dá»±a trÃªn CSS `font-weight` + `font-style`!

</details>
