# XÃ¢y Dá»±ng ToÃ n Bá»™ React Framework Tá»« Sá»‘ 0 â€” Deep Dive

> ğŸ“… 2026-02-17 Â· â± 60 phÃºt Ä‘á»c
>
> PhÃ¹ há»£p cho ngÆ°á»i muá»‘n hiá»ƒu rÃµ **toÃ n bá»™** cÃ¡ch má»™t React project hoáº¡t Ä‘á»™ng tá»« bÃªn trong.
> KhÃ´ng sá»­ dá»¥ng thÆ° viá»‡n cÃ³ sáºµn â€” tá»± viáº¿t láº¡i báº±ng tay, giáº£i thÃ­ch cá»±c ká»³ chi tiáº¿t tá»«ng file, tá»«ng dependency.
> Tá»« folder trá»‘ng â†’ React + Router + Redux + Webpack + HMR + Code Splitting + Production Build.
> Dá»±a trÃªn React 15.6.1, React Router 4.2.2, Redux 3.7.2, Webpack 3.5.5.
> Äá»™ khÃ³: â­ï¸â­ï¸â­ï¸â­ï¸ | Chá»§ Ä‘á»: React Ecosystem From Scratch

---

## Má»¥c Lá»¥c

```
Â§1.  Khá»Ÿi táº¡o Project â€” init project
Â§2.  Webpack â€” Bundler cá»‘t lÃµi
Â§3.  Babel â€” BiÃªn dá»‹ch JavaScript hiá»‡n Ä‘áº¡i
Â§4.  React â€” TÃ­ch há»£p React vÃ o project
Â§5.  Tá»‘i Æ°u lá»‡nh â€” Command Optimization
Â§6.  React Router â€” Äiá»u hÆ°á»›ng SPA
Â§7.  Webpack Dev Server â€” Server phÃ¡t triá»ƒn
Â§8.  Hot Module Replacement â€” Cáº­p nháº­t nÃ³ng
Â§9.  Tá»‘i Æ°u Ä‘Æ°á»ng dáº«n â€” File Path Alias
Â§10. Redux â€” Quáº£n lÃ½ tráº¡ng thÃ¡i
Â§11. Devtool â€” Source Map & Debug
Â§12. BiÃªn dá»‹ch CSS & HÃ¬nh áº£nh
Â§13. Code Splitting â€” Táº£i theo yÃªu cáº§u
Â§14. Cache â€” Bá»™ nhá»› Ä‘á»‡m
Â§15. HtmlWebpackPlugin â€” Tá»± Ä‘á»™ng inject JS
Â§16. Extract Common Code â€” TÃ¡ch mÃ£ dÃ¹ng chung
Â§17. Production Build â€” XÃ¢y dá»±ng báº£n phÃ¡t hÃ nh
Â§18. Axios & Middleware â€” Tá»‘i Æ°u API
Â§19. Merge Webpack Config â€” Gá»™p cáº¥u hÃ¬nh
Â§20. Tá»‘i Æ°u cáº¥u trÃºc thÆ° má»¥c & Trang 404
Â§21. Babel Polyfill & Transform Runtime
Â§22. PostCSS â€” Tá»± Ä‘á»™ng browser prefix
Â§23. Redux Hot-Swap â€” Hot reload reducer
Â§24. Mock.js â€” Giáº£ láº­p dá»¯ liá»‡u API
Â§25. CSS Modules â€” ÄÃ³ng gÃ³i CSS theo component
Â§26. JSON Server â€” Thay tháº¿ Mock.js
Â§27. TÃ³m táº¯t & CÃ¢u há»i phá»ng váº¥n
```

---

## Â§1. Khá»Ÿi táº¡o Project â€” init project

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Má»ŒI FRAMEWORK Äá»€U Báº®T Äáº¦U Tá»ª Má»˜T FOLDER TRá»NG!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  VÃŒ SAO Cáº¦N Tá»° XÃ‚Y Tá»ª Äáº¦U?
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â‘  Hiá»ƒu rÃµ Tá»ªNG FILE trong project                   â”‚
  â”‚     â†’ Táº¡i sao file Ä‘Ã³ tá»“n táº¡i?                       â”‚
  â”‚     â†’ NÃ³ lÃ m gÃ¬?                                      â”‚
  â”‚     â†’ XÃ³a nÃ³ Ä‘i thÃ¬ sao?                              â”‚
  â”‚                                                        â”‚
  â”‚  â‘¡ Hiá»ƒu rÃµ Tá»ªNG DEPENDENCY                            â”‚
  â”‚     â†’ Dependency Ä‘Ã³ giáº£i quyáº¿t váº¥n Ä‘á» gÃ¬?            â”‚
  â”‚     â†’ KhÃ´ng cÃ³ nÃ³ thÃ¬ sao?                             â”‚
  â”‚     â†’ CÃ³ thá»ƒ thay tháº¿ báº±ng gÃ¬?                        â”‚
  â”‚                                                        â”‚
  â”‚  â‘¢ Khi gáº·p lá»—i â†’ BIáº¾T CÃCH DEBUG                    â”‚
  â”‚     â†’ Lá»—i á»Ÿ webpack? babel? react? config?            â”‚
  â”‚     â†’ Biáº¿t chÃ­nh xÃ¡c nÆ¡i cáº§n sá»­a                      â”‚
  â”‚                                                        â”‚
  â”‚  â‘£ Tá»± tin TÃ™Y CHá»ˆNH theo dá»± Ã¡n                       â”‚
  â”‚     â†’ ThÃªm/bá»›t feature khÃ´ng sá»£ vá»¡                   â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  Cáº¤U TRÃšC CUá»I CÃ™NG Cá»¦A PROJECT:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  react-family/                                         â”‚
  â”‚  â”œâ”€â”€ .babelrc                    # Cáº¥u hÃ¬nh Babel     â”‚
  â”‚  â”œâ”€â”€ package.json                # ThÃ´ng tin project   â”‚
  â”‚  â”œâ”€â”€ webpack.common.config.js    # Webpack chung       â”‚
  â”‚  â”œâ”€â”€ webpack.dev.config.js       # Webpack dev         â”‚
  â”‚  â”œâ”€â”€ webpack.config.js           # Webpack production  â”‚
  â”‚  â”œâ”€â”€ postcss.config.js           # PostCSS config      â”‚
  â”‚  â”œâ”€â”€ mock/                       # Mock data           â”‚
  â”‚  â”‚   â””â”€â”€ mock.js                                       â”‚
  â”‚  â”œâ”€â”€ public/                     # TÃ i nguyÃªn cÃ´ng cá»™ngâ”‚
  â”‚  â”œâ”€â”€ dist/                       # Output sau build    â”‚
  â”‚  â””â”€â”€ src/                        # MÃƒ NGUá»’N CHÃNH     â”‚
  â”‚      â”œâ”€â”€ index.html              # Template HTML       â”‚
  â”‚      â”œâ”€â”€ index.js                # Entry point         â”‚
  â”‚      â”œâ”€â”€ component/              # ThÆ° viá»‡n component  â”‚
  â”‚      â”‚   â””â”€â”€ Hello/Hello.js                            â”‚
  â”‚      â”œâ”€â”€ components/             # Components chung    â”‚
  â”‚      â”‚   â”œâ”€â”€ App/App.js          # Root component      â”‚
  â”‚      â”‚   â”œâ”€â”€ Nav/Nav.js          # Navigation          â”‚
  â”‚      â”‚   â””â”€â”€ Loading/Loading.js  # Loading indicator   â”‚
  â”‚      â”œâ”€â”€ pages/                  # CÃ¡c trang           â”‚
  â”‚      â”‚   â”œâ”€â”€ Home/Home.js                              â”‚
  â”‚      â”‚   â”œâ”€â”€ Page1/Page1.js                            â”‚
  â”‚      â”‚   â”œâ”€â”€ Counter/Counter.js                        â”‚
  â”‚      â”‚   â”œâ”€â”€ UserInfo/UserInfo.js                      â”‚
  â”‚      â”‚   â””â”€â”€ NotFound/NotFound.js                      â”‚
  â”‚      â”œâ”€â”€ redux/                  # State management    â”‚
  â”‚      â”‚   â”œâ”€â”€ store.js                                  â”‚
  â”‚      â”‚   â”œâ”€â”€ reducers.js         # Root reducer        â”‚
  â”‚      â”‚   â”œâ”€â”€ actions/                                  â”‚
  â”‚      â”‚   â”‚   â”œâ”€â”€ counter.js                            â”‚
  â”‚      â”‚   â”‚   â””â”€â”€ userInfo.js                           â”‚
  â”‚      â”‚   â”œâ”€â”€ reducers/                                 â”‚
  â”‚      â”‚   â”‚   â”œâ”€â”€ counter.js                            â”‚
  â”‚      â”‚   â”‚   â””â”€â”€ userInfo.js                           â”‚
  â”‚      â”‚   â””â”€â”€ middleware/                               â”‚
  â”‚      â”‚       â””â”€â”€ promiseMiddleware.js                   â”‚
  â”‚      â””â”€â”€ router/                 # Routing             â”‚
  â”‚          â”œâ”€â”€ router.js                                 â”‚
  â”‚          â””â”€â”€ Bundle.js           # Code splitting      â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### BÆ°á»›c 1: Táº¡o folder vÃ  khá»Ÿi táº¡o npm

```bash
# Táº¡o folder gá»‘c
mkdir react-family && cd react-family

# Khá»Ÿi táº¡o npm â€” Ä‘iá»n thÃ´ng tin project theo hÆ°á»›ng dáº«n
npm init
```

```
  npm init Táº O RA GÃŒ?
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  package.json â€” "Há»™ chiáº¿u" cá»§a project!               â”‚
  â”‚                                                        â”‚
  â”‚  {                                                     â”‚
  â”‚    "name": "react-family",                             â”‚
  â”‚    "version": "1.0.0",                                 â”‚
  â”‚    "description": "",                                  â”‚
  â”‚    "main": "index.js",                                 â”‚
  â”‚    "scripts": {                                        â”‚
  â”‚      "test": "echo \"Error...\" && exit 1"             â”‚
  â”‚    },                                                  â”‚
  â”‚    "author": "",                                       â”‚
  â”‚    "license": "ISC"                                    â”‚
  â”‚  }                                                     â”‚
  â”‚                                                        â”‚
  â”‚  â†’ Má»i dependency sáº½ Ä‘Æ°á»£c ghi vÃ o Ä‘Ã¢y!               â”‚
  â”‚  â†’ Má»i script (lá»‡nh) sáº½ Ä‘Æ°á»£c ghi vÃ o Ä‘Ã¢y!            â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§2. Webpack â€” Bundler Cá»‘t LÃµi

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  WEBPACK = ÄÃ“NG GÃ“I Táº¤T Cáº¢ THÃ€NH 1 FILE DUY NHáº¤T!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  Váº¤N Äá»€ WEBPACK GIáº¢I QUYáº¾T:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  TRÆ¯á»šC KHI CÃ“ WEBPACK:                                â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  index.html                              â”‚          â”‚
  â”‚  â”‚  â”œâ”€â”€ <script src="jquery.js">            â”‚          â”‚
  â”‚  â”‚  â”œâ”€â”€ <script src="utils.js">             â”‚          â”‚
  â”‚  â”‚  â”œâ”€â”€ <script src="app.js">               â”‚          â”‚
  â”‚  â”‚  â”œâ”€â”€ <script src="page1.js">             â”‚          â”‚
  â”‚  â”‚  â””â”€â”€ <script src="page2.js">             â”‚          â”‚
  â”‚  â”‚                                          â”‚          â”‚
  â”‚  â”‚  Váº¤N Äá»€:                                â”‚          â”‚
  â”‚  â”‚  âœ— 5 HTTP requests!                      â”‚          â”‚
  â”‚  â”‚  âœ— Thá»© tá»± script quan trá»ng!            â”‚          â”‚
  â”‚  â”‚  âœ— Biáº¿n toÃ n cá»¥c xung Ä‘á»™t!              â”‚          â”‚
  â”‚  â”‚  âœ— KhÃ´ng biáº¿t file nÃ o phá»¥ thuá»™c file nÃ oâ”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  SAU KHI CÃ“ WEBPACK:                                   â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  index.html                              â”‚          â”‚
  â”‚  â”‚  â””â”€â”€ <script src="bundle.js">            â”‚          â”‚
  â”‚  â”‚                                          â”‚          â”‚
  â”‚  â”‚  Æ¯U ÄIá»‚M:                               â”‚          â”‚
  â”‚  â”‚  âœ“ 1 HTTP request!                       â”‚          â”‚
  â”‚  â”‚  âœ“ Module system (import/export)!        â”‚          â”‚
  â”‚  â”‚  âœ“ Tá»± Ä‘á»™ng phÃ¢n tÃ­ch dependency!         â”‚          â”‚
  â”‚  â”‚  âœ“ Tree shaking (loáº¡i code thá»«a)!       â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  LUá»’NG HOáº T Äá»˜NG Cá»¦A WEBPACK:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Entry (src/index.js)                                  â”‚
  â”‚         â”‚                                              â”‚
  â”‚         â–¼                                              â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
  â”‚  â”‚ Webpack phÃ¢n tÃ­ch dependency graph  â”‚               â”‚
  â”‚  â”‚ â†’ import A from './A'              â”‚               â”‚
  â”‚  â”‚   â†’ import B from './B'            â”‚               â”‚
  â”‚  â”‚     â†’ import C from './C'          â”‚               â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
  â”‚                     â”‚                                  â”‚
  â”‚                     â–¼                                  â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
  â”‚  â”‚ Loaders xá»­ lÃ½ tá»«ng loáº¡i file:      â”‚               â”‚
  â”‚  â”‚ â†’ .js  â†’ babel-loader              â”‚               â”‚
  â”‚  â”‚ â†’ .css â†’ css-loader + style-loader  â”‚               â”‚
  â”‚  â”‚ â†’ .png â†’ url-loader/file-loader    â”‚               â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
  â”‚                     â”‚                                  â”‚
  â”‚                     â–¼                                  â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
  â”‚  â”‚ Plugins xá»­ lÃ½ thÃªm:                â”‚               â”‚
  â”‚  â”‚ â†’ HtmlWebpackPlugin (inject JS)    â”‚               â”‚
  â”‚  â”‚ â†’ UglifyJS (minify)                â”‚               â”‚
  â”‚  â”‚ â†’ CommonsChunkPlugin (split code)   â”‚               â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
  â”‚                     â”‚                                  â”‚
  â”‚                     â–¼                                  â”‚
  â”‚  Output (dist/bundle.js)                               â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### CÃ i Ä‘áº·t webpack

```bash
npm install --save-dev webpack@3
```

```
  --save-dev vs --save:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  --save-dev (devDependencies):                         â”‚
  â”‚  â†’ Chá»‰ cáº§n KHI PHÃT TRIá»‚N                            â”‚
  â”‚  â†’ webpack, babel, test frameworks...                  â”‚
  â”‚  â†’ KHÃ”NG Ä‘Ã³ng gÃ³i vÃ o production!                     â”‚
  â”‚                                                        â”‚
  â”‚  --save (dependencies):                                â”‚
  â”‚  â†’ Cáº§n Cáº¢ KHI CHáº Y PRODUCTION                        â”‚
  â”‚  â†’ react, redux, react-router...                       â”‚
  â”‚  â†’ ÄÃ“NG GÃ“I vÃ o production!                           â”‚
  â”‚                                                        â”‚
  â”‚  package.json:                                         â”‚
  â”‚  {                                                     â”‚
  â”‚    "devDependencies": { "webpack": "^3" },  â† dev     â”‚
  â”‚    "dependencies": { "react": "^15" }       â† prod    â”‚
  â”‚  }                                                     â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Cáº¥u hÃ¬nh webpack cÆ¡ báº£n nháº¥t

```bash
# Táº¡o file cáº¥u hÃ¬nh phÃ¡t triá»ƒn
touch webpack.dev.config.js
```

```javascript
// webpack.dev.config.js â€” Cáº¤U HÃŒNH ÄÆ N GIáº¢N NHáº¤T

const path = require("path");

module.exports = {
  // â‘  ENTRY â€” Äiá»ƒm vÃ o (file báº¯t Ä‘áº§u phÃ¢n tÃ­ch)
  // Webpack sáº½ báº¯t Ä‘áº§u tá»« file nÃ y, tÃ¬m táº¥t cáº£ import/require
  // vÃ  recursively Ä‘Ã³ng gÃ³i táº¥t cáº£ dependencies
  entry: path.join(__dirname, "src/index.js"),

  // â‘¡ OUTPUT â€” Káº¿t quáº£ Ä‘áº§u ra
  // path: folder chá»©a output (dist/)
  // filename: tÃªn file output (bundle.js)
  output: {
    path: path.join(__dirname, "./dist"),
    filename: "bundle.js",
  },
};
```

> **Giáº£i thÃ­ch `path.join(__dirname, ...)`:**
>
> - `__dirname` = Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i Ä‘áº¿n folder chá»©a file hiá»‡n táº¡i
> - `path.join()` = ná»‘i cÃ¡c Ä‘oáº¡n path láº¡i, tá»± xá»­ lÃ½ `/` hay `\` tÃ¹y OS
> - Káº¿t quáº£: Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i, Ä‘áº£m báº£o cháº¡y Ä‘Ãºng trÃªn má»i OS

### Táº¡o file entry vÃ  test

```bash
# Táº¡o folder src vÃ  file entry
mkdir src && touch ./src/index.js
```

```javascript
// src/index.js â€” File Ä‘Æ¡n giáº£n Ä‘á»ƒ test webpack
document.getElementById("app").innerHTML = "Webpack works";
```

```bash
# Cháº¡y webpack!
webpack --config webpack.dev.config.js
```

```
  Káº¾T QUáº¢:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  react-family/                                         â”‚
  â”‚  â”œâ”€â”€ src/                                              â”‚
  â”‚  â”‚   â””â”€â”€ index.js         â† File gá»‘c (input)         â”‚
  â”‚  â””â”€â”€ dist/                                             â”‚
  â”‚      â””â”€â”€ bundle.js        â† File Ä‘Ã£ Ä‘Ã³ng gÃ³i (output)â”‚
  â”‚                                                        â”‚
  â”‚  Webpack Ä‘Ã£ lÃ m gÃ¬?                                    â”‚
  â”‚  â†’ Äá»c src/index.js (entry)                           â”‚
  â”‚  â†’ Xá»­ lÃ½ (hiá»‡n táº¡i chÆ°a cÃ³ gÃ¬ Ä‘áº·c biá»‡t)             â”‚
  â”‚  â†’ Ghi ra dist/bundle.js (output)                     â”‚
  â”‚  â†’ ÄÆ¡n giáº£n!                                           â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Test káº¿t quáº£ trong trÃ¬nh duyá»‡t

```bash
touch ./dist/index.html
```

```html
<!-- dist/index.html â€” File HTML Ä‘á»ƒ test -->
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
  </head>
  <body>
    <div id="app"></div>
    <!-- Load file Ä‘Ã£ Ä‘Ã³ng gÃ³i -->
    <script type="text/javascript" src="./bundle.js" charset="utf-8"></script>
  </body>
</html>
```

> Má»Ÿ `index.html` trong trÃ¬nh duyá»‡t â†’ Tháº¥y **"Webpack works"** â†’ Webpack hoáº¡t Ä‘á»™ng!

---

## Â§3. Babel â€” BiÃªn Dá»‹ch JavaScript Hiá»‡n Äáº¡i

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  BABEL = VIáº¾T ES6/ES7/JSX â†’ CHáº Y ÄÆ¯á»¢C Má»ŒI NÆ I NHÆ¯ ES5!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  Táº I SAO Cáº¦N BABEL?
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  MÃƒ NGUá»’N (ES6+):                                     â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  const func = (str) => {                 â”‚          â”‚
  â”‚  â”‚    document.getElementById('app')        â”‚          â”‚
  â”‚  â”‚      .innerHTML = str;                   â”‚          â”‚
  â”‚  â”‚  };                                      â”‚          â”‚
  â”‚  â”‚  class App extends Component { ... }     â”‚          â”‚
  â”‚  â”‚  const { a, ...rest } = obj;             â”‚          â”‚
  â”‚  â”‚  <div>Hello JSX!</div>                   â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                     â”‚                                  â”‚
  â”‚                     â–¼ Babel biÃªn dá»‹ch                  â”‚
  â”‚                                                        â”‚
  â”‚  Káº¾T QUáº¢ (ES5):                                       â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  var func = function(str) {              â”‚          â”‚
  â”‚  â”‚    document.getElementById('app')        â”‚          â”‚
  â”‚  â”‚      .innerHTML = str;                   â”‚          â”‚
  â”‚  â”‚  };                                      â”‚          â”‚
  â”‚  â”‚  var App = /*... prototype chain ...*/   â”‚          â”‚
  â”‚  â”‚  var rest = Object.assign({}, obj);      â”‚          â”‚
  â”‚  â”‚  React.createElement('div', null, ...)   â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  â†’ TrÃ¬nh duyá»‡t cÅ© (IE11...) Ä‘á»u hiá»ƒu Ä‘Æ°á»£c!          â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  CÃC THÃ€NH PHáº¦N Cá»¦A BABEL:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
  â”‚  â”‚ Package            â”‚ Vai trÃ²                      â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ babel-core         â”‚ API cá»‘t lÃµi, gá»i Babel      â”‚ â”‚
  â”‚  â”‚                    â”‚ Ä‘á»ƒ biÃªn dá»‹ch mÃ£ nguá»“n       â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ babel-loader       â”‚ Cáº§u ná»‘i Webpack â†” Babel     â”‚ â”‚
  â”‚  â”‚                    â”‚ Webpack gá»i Babel qua loader â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ babel-preset-es2015â”‚ Biá»‡n dá»‹ch cÃº phÃ¡p ES6       â”‚ â”‚
  â”‚  â”‚                    â”‚ (arrow, class, const, let)   â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ babel-preset-react â”‚ BiÃªn dá»‹ch JSX thÃ nh          â”‚ â”‚
  â”‚  â”‚                    â”‚ React.createElement()        â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ babel-preset-      â”‚ BiÃªn dá»‹ch ES7 proposals     â”‚ â”‚
  â”‚  â”‚ stage-0            â”‚ (decorators, spread, ...)    â”‚ â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
  â”‚                                                        â”‚
  â”‚  âš  stage-0 > stage-1 > stage-2 > stage-3             â”‚
  â”‚  Má»—i level CHá»¨A táº¥t cáº£ feature cá»§a level trÃªn!       â”‚
  â”‚  stage-0 = Ä‘áº§y Ä‘á»§ nháº¥t (nhÆ°ng rá»§i ro nháº¥t)           â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### CÃ i Ä‘áº·t Babel

```bash
npm install --save-dev babel-core babel-loader \
  babel-preset-es2015 babel-preset-react babel-preset-stage-0
```

### Táº¡o file cáº¥u hÃ¬nh Babel

```bash
touch .babelrc
```

```json
// .babelrc â€” Cáº¥u hÃ¬nh Babel
// File nÃ y Náº°M á» Gá»C project, Babel tá»± tÃ¬m nÃ³
{
  "presets": [
    "es2015", // ES6 â†’ ES5
    "react", // JSX â†’ React.createElement
    "stage-0" // ES7 proposals â†’ ES5
  ],
  "plugins": []
}
```

### Káº¿t ná»‘i Babel vá»›i Webpack

```javascript
// webpack.dev.config.js â€” THÃŠM babel-loader vÃ o rules

module: {
  rules: [
    {
      test: /\.js$/, // File .js
      use: ["babel-loader?cacheDirectory=true"], // DÃ¹ng babel-loader
      include: path.join(__dirname, "src"), // Chá»‰ xá»­ lÃ½ folder src/
    },
  ];
}
```

```
  GIáº¢I THÃCH WEBPACK LOADERS:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  rules = "Luáº­t xá»­ lÃ½ file"                            â”‚
  â”‚                                                        â”‚
  â”‚  {                                                     â”‚
  â”‚    test: /\.js$/,     â† Regex: file káº¿t thÃºc báº±ng .jsâ”‚
  â”‚    use: ['babel-loader?cacheDirectory=true'],          â”‚
  â”‚    â”‚                  â†‘ DÃ¹ng babel-loader Ä‘á»ƒ xá»­ lÃ½    â”‚
  â”‚    â”‚                  â†‘ cacheDirectory = lÆ°u cache     â”‚
  â”‚    â”‚                    â†’ láº§n biÃªn dá»‹ch sau NHANH hÆ¡n! â”‚
  â”‚    include: path.join(__dirname, 'src')                â”‚
  â”‚              â†‘ Chá»ˆ xá»­ lÃ½ file trong src/              â”‚
  â”‚              â†‘ KHÃ”NG xá»­ lÃ½ node_modules/ (nhanh hÆ¡n!) â”‚
  â”‚  }                                                     â”‚
  â”‚                                                        â”‚
  â”‚  LUá»’NG Xá»¬ LÃ:                                         â”‚
  â”‚  Webpack tháº¥y import 'A.js'                            â”‚
  â”‚  â†’ A.js match /\.js$/ ?  âœ“                            â”‚
  â”‚  â†’ A.js trong src/ ?     âœ“                            â”‚
  â”‚  â†’ babel-loader xá»­ lÃ½ A.js                            â”‚
  â”‚  â†’ Babel biÃªn dá»‹ch ES6/JSX â†’ ES5                      â”‚
  â”‚  â†’ Webpack Ä‘Ã³ng gÃ³i káº¿t quáº£                           â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Test: Babel biÃªn dá»‹ch ES6

```javascript
// src/index.js â€” Test arrow function (ES6)
var func = (str) => {
  document.getElementById("app").innerHTML = str;
};
func("TÃ´i Ä‘ang sá»­ dá»¥ng Babel!");
```

```bash
# ÄÃ³ng gÃ³i
webpack --config webpack.dev.config.js
```

> Má»Ÿ `index.html` â†’ Tháº¥y **"TÃ´i Ä‘ang sá»­ dá»¥ng Babel!"**
> Má»Ÿ `bundle.js` â†’ Arrow function `=>` Ä‘Ã£ thÃ nh `function`!

---

## Â§4. React â€” TÃ­ch Há»£p React VÃ o Project

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  REACT = THÆ¯ VIá»†N XÃ‚Y Dá»°NG UI Báº°NG COMPONENT!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  2 PACKAGE Cá»T LÃ•I:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
  â”‚  â”‚  react   â”‚    â”‚  react-dom   â”‚                      â”‚
  â”‚  â”‚          â”‚    â”‚              â”‚                      â”‚
  â”‚  â”‚ Core API â”‚    â”‚ Render vÃ o   â”‚                      â”‚
  â”‚  â”‚ Componentâ”‚    â”‚ DOM tháº­t     â”‚                      â”‚
  â”‚  â”‚ Element  â”‚    â”‚              â”‚                      â”‚
  â”‚  â”‚ Props    â”‚    â”‚ ReactDom     â”‚                      â”‚
  â”‚  â”‚ State    â”‚    â”‚ .render()    â”‚                      â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
  â”‚                                                        â”‚
  â”‚  Táº¡i sao tÃ¡ch ra?                                      â”‚
  â”‚  â†’ react = logic thuáº§n (platform-agnostic)            â”‚
  â”‚  â†’ react-dom = render vÃ o browser DOM                  â”‚
  â”‚  â†’ react-native = render vÃ o mobile                    â”‚
  â”‚  â†’ react-vr = render vÃ o VR                            â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### CÃ i Ä‘áº·t React

```bash
npm install --save react react-dom
```

### Sá»­ dá»¥ng React trong entry file

```javascript
// src/index.js â€” React cÆ¡ báº£n nháº¥t
import React from "react";
import ReactDom from "react-dom";

ReactDom.render(
  <div>Hello React!</div>, // â† JSX â†’ Babel â†’ createElement
  document.getElementById("app"),
);
```

### Táº¡o component Ä‘áº§u tiÃªn

```bash
cd src
mkdir -p component/Hello
touch component/Hello/Hello.js
```

```javascript
// src/component/Hello/Hello.js
import React, { Component } from "react";

export default class Hello extends Component {
  render() {
    return <div>Hello, React!</div>;
  }
}
```

```javascript
// src/index.js â€” Sá»­ dá»¥ng Hello component
import React from "react";
import ReactDom from "react-dom";
import Hello from "./component/Hello/Hello";

ReactDom.render(
  <Hello />, // â† Render component!
  document.getElementById("app"),
);
```

```
  LUá»’NG HOáº T Äá»˜NG:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  src/index.js                                          â”‚
  â”‚    â”‚ import Hello from './component/Hello/Hello'       â”‚
  â”‚    â”‚ import React from 'react'                         â”‚
  â”‚    â”‚ import ReactDom from 'react-dom'                  â”‚
  â”‚    â”‚                                                   â”‚
  â”‚    â–¼                                                   â”‚
  â”‚  Babel biÃªn dá»‹ch JSX:                                  â”‚
  â”‚    <Hello/> â†’ React.createElement(Hello, null)         â”‚
  â”‚    â†’ Táº¡o ReactElement { type: Hello, props: {} }      â”‚
  â”‚    â”‚                                                   â”‚
  â”‚    â–¼                                                   â”‚
  â”‚  ReactDom.render(element, container)                   â”‚
  â”‚    â†’ Táº¡o ReactComponent instance                      â”‚
  â”‚    â†’ Gá»i Hello.render()                               â”‚
  â”‚    â†’ Táº¡o DOM tháº­t: <div>Hello, React!</div>           â”‚
  â”‚    â†’ ChÃ¨n vÃ o #app                                    â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§5. Tá»‘i Æ¯u Lá»‡nh â€” Command Optimization

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  NPM SCRIPTS = Táº O Lá»†NH Táº®T TIá»†N Lá»¢I!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  Váº¤N Äá»€:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Má»—i láº§n Ä‘Ã³ng gÃ³i pháº£i gÃµ:                            â”‚
  â”‚  webpack --config webpack.dev.config.js                â”‚
  â”‚  â†’ DÃ€I QUÃ! Dá»„ GÃ• SAI!                              â”‚
  â”‚                                                        â”‚
  â”‚  GIáº¢I PHÃP: npm scripts!                               â”‚
  â”‚  â†’ npm run dev-build                                   â”‚
  â”‚  â†’ NGáº®N Gá»ŒN!                                          â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```json
// package.json â€” ThÃªm scripts
{
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1",
    "dev-build": "webpack --config webpack.dev.config.js"
  }
}
```

> BÃ¢y giá» chá»‰ cáº§n cháº¡y `npm run dev-build` lÃ  xong!

---

## Â§6. React Router â€” Äiá»u HÆ°á»›ng SPA

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  REACT ROUTER = CHUYá»‚N TRANG MÃ€ KHÃ”NG Cáº¦N RELOAD!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  SPA (Single Page Application):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  TRUYá»€N THá»NG (Multi-Page):                            â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  /home    â†’ Server tráº£ home.html        â”‚          â”‚
  â”‚  â”‚  /about   â†’ Server tráº£ about.html       â”‚          â”‚
  â”‚  â”‚  /contact â†’ Server tráº£ contact.html     â”‚          â”‚
  â”‚  â”‚                                          â”‚          â”‚
  â”‚  â”‚  Má»—i láº§n chuyá»ƒn trang = RELOAD toÃ n bá»™! â”‚          â”‚
  â”‚  â”‚  â†’ Cháº­m! Flicker! Máº¥t state!           â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  SPA (React Router):                                   â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  /home    â”                              â”‚          â”‚
  â”‚  â”‚  /about   â”œâ†’ CÃ™NG 1 index.html          â”‚          â”‚
  â”‚  â”‚  /contact â”˜   JS thay Ä‘á»•i UI!           â”‚          â”‚
  â”‚  â”‚                                          â”‚          â”‚
  â”‚  â”‚  KHÃ”NG reload! NHANH! Giá»¯ state!        â”‚          â”‚
  â”‚  â”‚  URL thay Ä‘á»•i nhá» History API!          â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  CÃC THÃ€NH PHáº¦N CHÃNH Cá»¦A REACT ROUTER:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
  â”‚  â”‚ Component      â”‚ Vai trÃ²                          â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ BrowserRouter  â”‚ Wrap toÃ n bá»™ app, sá»­ dá»¥ng       â”‚ â”‚
  â”‚  â”‚                â”‚ History API (URL sáº¡ch)           â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ Route          â”‚ Äá»‹nh nghÄ©a: URL nÃ o â†’ render    â”‚ â”‚
  â”‚  â”‚                â”‚ component nÃ o                     â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ Switch         â”‚ Chá»‰ render Route Äáº¦U TIÃŠN      â”‚ â”‚
  â”‚  â”‚                â”‚ match (exclusive routing)        â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ Link           â”‚ Tháº» <a> Ä‘áº·c biá»‡t, chuyá»ƒn trang â”‚ â”‚
  â”‚  â”‚                â”‚ KHÃ”NG reload browser             â”‚ â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### CÃ i Ä‘áº·t

```bash
npm install --save react-router-dom
```

### Táº¡o cáº¥u trÃºc router vÃ  pages

```bash
cd src
mkdir router && touch router/router.js
mkdir -p pages/Home && touch pages/Home/Home.js
mkdir -p pages/Page1 && touch pages/Page1/Page1.js
```

### Viáº¿t Router

```javascript
// src/router/router.js
import React from "react";
import { BrowserRouter as Router, Route, Switch, Link } from "react-router-dom";
import Home from "../pages/Home/Home";
import Page1 from "../pages/Page1/Page1";

const getRouter = () => (
  <Router>
    <div>
      {/* Navigation */}
      <ul>
        <li>
          <Link to="/">Trang chá»§</Link>
        </li>
        <li>
          <Link to="/page1">Page1</Link>
        </li>
      </ul>

      {/* Route definitions */}
      <Switch>
        <Route exact path="/" component={Home} />
        <Route path="/page1" component={Page1} />
      </Switch>
    </div>
  </Router>
);

export default getRouter;
```

```
  âš  exact TRONG <Route exact path="/">:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  KHÃ”NG CÃ“ exact:                                       â”‚
  â”‚  path="/" sáº½ MATCH Má»ŒI URL!                           â”‚
  â”‚  â†’ "/" match âœ“                                        â”‚
  â”‚  â†’ "/page1" cÅ©ng match âœ“ (báº¯t Ä‘áº§u báº±ng /)           â”‚
  â”‚  â†’ Home luÃ´n render!                                   â”‚
  â”‚                                                        â”‚
  â”‚  CÃ“ exact:                                             â”‚
  â”‚  path="/" chá»‰ match CHÃNH XÃC "/"                     â”‚
  â”‚  â†’ "/" match âœ“                                        â”‚
  â”‚  â†’ "/page1" KHÃ”NG match âœ—                             â”‚
  â”‚  â†’ Home chá»‰ render á»Ÿ Ä‘Ãºng "/"                         â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Viáº¿t Pages

```javascript
// src/pages/Home/Home.js
import React, { Component } from "react";

export default class Home extends Component {
  render() {
    return <div>this is home~</div>;
  }
}
```

```javascript
// src/pages/Page1/Page1.js
import React, { Component } from "react";

export default class Page1 extends Component {
  render() {
    return <div>this is Page1~</div>;
  }
}
```

### Cáº­p nháº­t entry file

```javascript
// src/index.js â€” Sá»­ dá»¥ng Router
import React from "react";
import ReactDom from "react-dom";
import getRouter from "./router/router";

ReactDom.render(getRouter(), document.getElementById("app"));
```

> Sau `npm run dev-build` â†’ má»Ÿ `index.html` â†’ Click "Trang chá»§" / "Page1":
> **KhÃ´ng hoáº¡t Ä‘á»™ng!** VÃ¬ Ä‘ang má»Ÿ báº±ng `file:///...` chá»© khÃ´ng pháº£i `http://`.
> â†’ Cáº§n webpack-dev-server á»Ÿ pháº§n tiáº¿p theo!

---

## Â§7. Webpack Dev Server â€” Server PhÃ¡t Triá»ƒn

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  WEBPACK DEV SERVER = SERVER NHO NHá» + AUTO RELOAD!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  Táº I SAO Cáº¦N DEV SERVER?
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â‘  Cung cáº¥p HTTP server â†’ URL: http://localhost:8080  â”‚
  â”‚     â†’ React Router cáº§n URL tháº­t Ä‘á»ƒ hoáº¡t Ä‘á»™ng!         â”‚
  â”‚                                                        â”‚
  â”‚  â‘¡ Auto compile khi code thay Ä‘á»•i!                    â”‚
  â”‚     â†’ Save file â†’ tá»± compile â†’ tá»± refresh browser!   â”‚
  â”‚                                                        â”‚
  â”‚  â‘¢ File compiled LÆ¯U TRONG MEMORY!                    â”‚
  â”‚     â†’ KhÃ´ng ghi file tháº­t ra disk                      â”‚
  â”‚     â†’ Nhanh hÆ¡n nhiá»u!                                 â”‚
  â”‚                                                        â”‚
  â”‚  â‘£ historyApiFallback:                                 â”‚
  â”‚     â†’ Má»i URL Ä‘á»u tráº£ vá» index.html                   â”‚
  â”‚     â†’ Giáº£i quyáº¿t váº¥n Ä‘á» 404 khi refresh SPA!         â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### CÃ i Ä‘áº·t vÃ  cáº¥u hÃ¬nh

```bash
npm install webpack-dev-server@2 --save-dev
```

```javascript
// webpack.dev.config.js â€” THÃŠM devServer
devServer: {
    port: 8080,                                   // Port
    contentBase: path.join(__dirname, './dist'),   // ThÆ° má»¥c gá»‘c
    historyApiFallback: true,                     // SPA routing!
    host: '0.0.0.0'                               // Truy cáº­p tá»« má»i IP
}
```

```
  CÃC OPTION QUAN TRá»ŒNG:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
  â”‚  â”‚ Option               â”‚ Ã nghÄ©a                   â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ port                 â”‚ Port server láº¯ng nghe      â”‚ â”‚
  â”‚  â”‚                      â”‚ Máº·c Ä‘á»‹nh: 8080             â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ contentBase          â”‚ ThÆ° má»¥c chá»©a static files  â”‚ â”‚
  â”‚  â”‚                      â”‚ Máº·c Ä‘á»‹nh: project root     â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ historyApiFallback   â”‚ Má»i 404 â†’ index.html      â”‚ â”‚
  â”‚  â”‚                      â”‚ Báº®T BUá»˜C cho SPA routing! â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ host: '0.0.0.0'     â”‚ Cho phÃ©p truy cáº­p tá»« ngoÃ iâ”‚ â”‚
  â”‚  â”‚                      â”‚ (VD: mobile cÃ¹ng WiFi)     â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ hot                  â”‚ Hot Module Replacement      â”‚ â”‚
  â”‚  â”‚                      â”‚ (xem Â§8)                   â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ proxy                â”‚ Proxy API requests tá»›i     â”‚ â”‚
  â”‚  â”‚                      â”‚ backend server khÃ¡c        â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ color (CLI)          â”‚ Log CLI cÃ³ mÃ u             â”‚ â”‚
  â”‚  â”‚ progress (CLI)       â”‚ Hiá»‡n % khi compile         â”‚ â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
  â”‚                                                        â”‚
  â”‚  âš  historyApiFallback GIáº¢I QUYáº¾T Váº¤N Äá»€ GÃŒ?        â”‚
  â”‚  â†’ Má»Ÿ http://localhost:8080/page1 â†’ OK               â”‚
  â”‚  â†’ Refresh F5 â†’ dist/ khÃ´ng cÃ³ page1.html â†’ 404!    â”‚
  â”‚  â†’ historyApiFallback â†’ tráº£ index.html â†’ React      â”‚
  â”‚    Router Ä‘á»c URL â†’ render Ä‘Ãºng Page1!                â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ThÃªm script

```json
// package.json
"scripts": {
    "dev-build": "webpack --config webpack.dev.config.js",
    "start": "webpack-dev-server --config webpack.dev.config.js --color --progress"
}
```

> Cháº¡y `npm start` â†’ Má»Ÿ `http://localhost:8080` â†’ React Router hoáº¡t Ä‘á»™ng!

---

## Â§8. Hot Module Replacement â€” Cáº­p Nháº­t NÃ³ng

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  HMR = Cáº¬P NHáº¬T CODE MÃ€ KHÃ”NG Máº¤T STATE!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  SO SÃNH CÃC CHáº¾ Äá»˜ Cáº¬P NHáº¬T:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â‘  KHÃ”NG CÃ“ GÃŒ (manual):                              â”‚
  â”‚     Save â†’ Pháº£i tá»± F5 thá»§ cÃ´ng!                       â”‚
  â”‚     â†’ Máº¥t háº¿t state!                                   â”‚
  â”‚                                                        â”‚
  â”‚  â‘¡ LIVE RELOAD (webpack-dev-server máº·c Ä‘á»‹nh):          â”‚
  â”‚     Save â†’ Browser auto refresh TOÃ€N Bá»˜ trang!        â”‚
  â”‚     â†’ Váº«n máº¥t háº¿t state!                              â”‚
  â”‚                                                        â”‚
  â”‚  â‘¢ HMR (Hot Module Replacement):                       â”‚
  â”‚     Save â†’ CHá»ˆ thay module Ä‘Ã£ thay Ä‘á»•i!               â”‚
  â”‚     â†’ GIá»®A NGUYÃŠN state!                              â”‚
  â”‚     â†’ Nhanh! MÆ°á»£t! KhÃ´ng flicker!                     â”‚
  â”‚                                                        â”‚
  â”‚  â‘£ HMR + REACT-HOT-LOADER:                            â”‚
  â”‚     Save â†’ Thay module + GIá»® React state!             â”‚
  â”‚     â†’ useState, class state Ä‘á»u giá»¯!                  â”‚
  â”‚     â†’ Tráº£i nghiá»‡m phÃ¡t triá»ƒn Tá»T NHáº¤T!               â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  âš  Táº I SAO Cáº¦N react-hot-loader?
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  webpack --hot = HMR cÆ¡ báº£n                            â”‚
  â”‚  â†’ Chá»‰ biáº¿t: "module Ä‘Ã£ thay Ä‘á»•i, thay tháº¿ Ä‘i!"     â”‚
  â”‚  â†’ React component bá»‹ REMOUNT â†’ state = 0!           â”‚
  â”‚                                                        â”‚
  â”‚  react-hot-loader = HMR + hiá»ƒu React!                â”‚
  â”‚  â†’ Biáº¿t: "Ä‘Ã¢y lÃ  React component, giá»¯ state!"        â”‚
  â”‚  â†’ Component KHÃ”NG bá»‹ remount!                         â”‚
  â”‚  â†’ State, hooks output Ä‘á»u Ä‘Æ°á»£c giá»¯!                  â”‚
  â”‚                                                        â”‚
  â”‚  VÃ Dá»¤:                                                â”‚
  â”‚  Counter hiá»‡n: count = 5                               â”‚
  â”‚  Sá»­a text "Home" â†’ "Homepage"                         â”‚
  â”‚                                                        â”‚
  â”‚  HMR thÆ°á»ng: count = 0 (RESET!)                       â”‚
  â”‚  react-hot-loader: count = 5 (GIá»® NGUYÃŠN!)           â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### BÆ°á»›c 1: Báº­t HMR cÆ¡ báº£n

```json
// package.json â€” ThÃªm --hot
"start": "webpack-dev-server --config webpack.dev.config.js --color --progress --hot"
```

```javascript
// src/index.js â€” ThÃªm module.hot.accept()
if (module.hot) {
  module.hot.accept();
}
```

### BÆ°á»›c 2: CÃ i react-hot-loader

```bash
npm install react-hot-loader@next --save-dev
```

### BÆ°á»›c 3: Cáº¥u hÃ¬nh 3 nÆ¡i

```json
// .babelrc â€” ThÃªm plugin
{
  "presets": ["es2015", "react", "stage-0"],
  "plugins": ["react-hot-loader/babel"]
}
```

```javascript
// webpack.dev.config.js â€” ThÃªm entry
entry: [
  "react-hot-loader/patch", // â† THÃŠM: HMR bootstrap
  path.join(__dirname, "src/index.js"),
];
```

```javascript
// src/index.js â€” Sá»¬A: DÃ¹ng AppContainer
import React from "react";
import ReactDom from "react-dom";
import { AppContainer } from "react-hot-loader";
import getRouter from "./router/router";

/* Render láº§n Ä‘áº§u */
renderWithHotReload(getRouter());

/* Hot update */
if (module.hot) {
  module.hot.accept("./router/router", () => {
    const getRouter = require("./router/router").default;
    renderWithHotReload(getRouter());
  });
}

function renderWithHotReload(RootElement) {
  ReactDom.render(
    <AppContainer>{RootElement}</AppContainer>,
    document.getElementById("app"),
  );
}
```

```
  LUá»’NG HOáº T Äá»˜NG Cá»¦A HMR:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Báº¡n sá»­a Home.js vÃ  Save                              â”‚
  â”‚         â”‚                                              â”‚
  â”‚         â–¼                                              â”‚
  â”‚  Webpack detect file change                            â”‚
  â”‚         â”‚                                              â”‚
  â”‚         â–¼                                              â”‚
  â”‚  Webpack compile CHá»ˆ module bá»‹ sá»­a                    â”‚
  â”‚         â”‚                                              â”‚
  â”‚         â–¼                                              â”‚
  â”‚  Dev server gá»­i update qua WebSocket                   â”‚
  â”‚         â”‚                                              â”‚
  â”‚         â–¼                                              â”‚
  â”‚  Browser nháº­n update                                   â”‚
  â”‚         â”‚                                              â”‚
  â”‚         â–¼                                              â”‚
  â”‚  react-hot-loader/patch intercept                      â”‚
  â”‚         â”‚                                              â”‚
  â”‚         â–¼                                              â”‚
  â”‚  module.hot.accept() callback cháº¡y                     â”‚
  â”‚         â”‚                                              â”‚
  â”‚         â–¼                                              â”‚
  â”‚  renderWithHotReload() cháº¡y láº¡i                        â”‚
  â”‚         â”‚                                              â”‚
  â”‚         â–¼                                              â”‚
  â”‚  AppContainer so sÃ¡nh + giá»¯ state                      â”‚
  â”‚         â”‚                                              â”‚
  â”‚         â–¼                                              â”‚
  â”‚  UI cáº­p nháº­t, STATE GIá»® NGUYÃŠN!                       â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§9. Tá»‘i Æ¯u ÄÆ°á»ng Dáº«n â€” File Path Alias

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ALIAS = TRÃNH ÄÆ¯á»œNG DáºªN TÆ¯Æ NG Äá»I PHá»¨C Táº P!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  Váº¤N Äá»€:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  ÄÆ°á»ng dáº«n tÆ°Æ¡ng Ä‘á»‘i:                                  â”‚
  â”‚                                                        â”‚
  â”‚  // Tá»« src/router/router.js                            â”‚
  â”‚  import Home from '../pages/Home/Home';                â”‚
  â”‚  import Page1 from '../pages/Page1/Page1';             â”‚
  â”‚                                                        â”‚
  â”‚  // Tá»« src/components/App/App.js                       â”‚
  â”‚  import Home from '../../pages/Home/Home';             â”‚
  â”‚                                                        â”‚
  â”‚  â†’ ÄÆ°á»ng dáº«n phá»¥ thuá»™c Vá»Š TRÃ file hiá»‡n táº¡i!        â”‚
  â”‚  â†’ Di chuyá»ƒn file â†’ pháº£i sá»­a táº¥t cáº£ imports!         â”‚
  â”‚  â†’ Nhiá»u ../../.. â†’ khÃ³ Ä‘á»c, dá»… sai!                â”‚
  â”‚                                                        â”‚
  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
  â”‚                                                        â”‚
  â”‚  GIáº¢I PHÃP: Webpack Alias!                             â”‚
  â”‚                                                        â”‚
  â”‚  // Tá»« Báº¤T Ká»² ÄÃ‚U:                                   â”‚
  â”‚  import Home from 'pages/Home/Home';   â† Sáº¡ch!       â”‚
  â”‚  import Page1 from 'pages/Page1/Page1'; â† Dá»… Ä‘á»c!    â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Cáº¥u hÃ¬nh alias

```javascript
// webpack.dev.config.js â€” THÃŠM resolve.alias
resolve: {
    alias: {
        pages:     path.join(__dirname, 'src/pages'),
        component: path.join(__dirname, 'src/component'),
        router:    path.join(__dirname, 'src/router'),
        actions:   path.join(__dirname, 'src/redux/actions'),
        reducers:  path.join(__dirname, 'src/redux/reducers'),
    }
}
```

```
  CÃCH ALIAS HOáº T Äá»˜NG:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  import Home from 'pages/Home/Home';                   â”‚
  â”‚                     â”‚                                  â”‚
  â”‚                     â–¼  Webpack tháº¥y 'pages/...'       â”‚
  â”‚                                                        â”‚
  â”‚  Tra alias: pages â†’ src/pages                         â”‚
  â”‚                     â”‚                                  â”‚
  â”‚                     â–¼  Thay tháº¿                        â”‚
  â”‚                                                        â”‚
  â”‚  import Home from 'src/pages/Home/Home';               â”‚
  â”‚                                                        â”‚
  â”‚  â†’ Resolve thÃ nh Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i!                â”‚
  â”‚                                                        â”‚
  â”‚  âš  LÆ¯U Ã QUAN TRá»ŒNG:                                â”‚
  â”‚  Äá»ªNG Ä‘áº·t alias trÃ¹ng tÃªn vá»›i npm package!            â”‚
  â”‚  VD: alias 'redux' â†’ src/redux sáº½ XÃ‚M PHáº M          â”‚
  â”‚  package 'redux' trong node_modules!                   â”‚
  â”‚  â†’ import {createStore} from 'redux' sáº½ tÃ¬m          â”‚
  â”‚    src/redux thay vÃ¬ node_modules/redux â†’ Lá»–I!       â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§10. Redux â€” Quáº£n LÃ½ Tráº¡ng ThÃ¡i

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  REDUX = 1 STORE DUY NHáº¤T, ÄOÃN TRÆ¯á»šC ÄÆ¯á»¢C, Báº¤T BIáº¾N!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  Táº I SAO Cáº¦N REDUX?
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  KHÃ”NG CÃ“ REDUX:                                      â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚          App                             â”‚          â”‚
  â”‚  â”‚         / | \                            â”‚          â”‚
  â”‚  â”‚        A  B  C    â† Truyá»n props xuá»‘ng  â”‚          â”‚
  â”‚  â”‚       /|     |                           â”‚          â”‚
  â”‚  â”‚      D E     F    â† props drilling!     â”‚          â”‚
  â”‚  â”‚      |                                   â”‚          â”‚
  â”‚  â”‚      G        â† Cáº§n data tá»« App!        â”‚          â”‚
  â”‚  â”‚               Pháº£i truyá»n qua A, D, G!  â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  CÃ“ REDUX:                                             â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚          â”‚
  â”‚  â”‚    â”‚    Redux Store      â”‚               â”‚          â”‚
  â”‚  â”‚    â”‚  (1 nguá»“n sá»± tháº­t) â”‚               â”‚          â”‚
  â”‚  â”‚    â””â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”˜               â”‚          â”‚
  â”‚  â”‚       â”‚  â”‚  â”‚  â”‚  â”‚  â”‚                   â”‚          â”‚
  â”‚  â”‚       A  B  C  D  E  F  G               â”‚          â”‚
  â”‚  â”‚       â†‘ Báº¥t ká»³ component nÃ o cÅ©ng      â”‚          â”‚
  â”‚  â”‚         truy cáº­p trá»±c tiáº¿p store!       â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  3 NGUYÃŠN Táº®C Cá»¦A REDUX:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â‘  Single Source of Truth (1 nguá»“n sá»± tháº­t)           â”‚
  â”‚     â†’ ToÃ n bá»™ state náº±m trong 1 store duy nháº¥t       â”‚
  â”‚     â†’ Dá»… debug, dá»… serialization                      â”‚
  â”‚                                                        â”‚
  â”‚  â‘¡ State is Read-Only (State chá»‰ Ä‘á»c)                â”‚
  â”‚     â†’ KHÃ”NG thá»ƒ sá»­a trá»±c tiáº¿p state                   â”‚
  â”‚     â†’ Muá»‘n thay Ä‘á»•i? dispatch(action)!               â”‚
  â”‚                                                        â”‚
  â”‚  â‘¢ Changes with Pure Functions (Reducer thuáº§n tÃºy)    â”‚
  â”‚     â†’ Reducer nháº­n (state, action) â†’ state má»›i       â”‚
  â”‚     â†’ KhÃ´ng side effects!                              â”‚
  â”‚     â†’ CÃ¹ng input luÃ´n ra cÃ¹ng output!                 â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  LUá»’NG Dá»® LIá»†U REDUX:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
  â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  Action   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
  â”‚         â”‚         â”‚{type:...} â”‚         â”‚              â”‚
  â”‚         â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚              â”‚
  â”‚         â–¼                              â”‚              â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”          â”‚
  â”‚  â”‚ Reducer  â”‚                 â”‚    View    â”‚          â”‚
  â”‚  â”‚(state,   â”‚                 â”‚ (Component)â”‚          â”‚
  â”‚  â”‚ action)  â”‚                 â”‚            â”‚          â”‚
  â”‚  â”‚ â†’ new   â”‚                 â”‚ onClick â†’  â”‚          â”‚
  â”‚  â”‚   state  â”‚                 â”‚ dispatch() â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚       â”‚                              â–²                 â”‚
  â”‚       â–¼                              â”‚                 â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚                 â”‚
  â”‚  â”‚  Store   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
  â”‚  â”‚(state    â”‚  store thay Ä‘á»•i                         â”‚
  â”‚  â”‚ tree)    â”‚  â†’ component re-render!                 â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### CÃ i Ä‘áº·t Redux

```bash
npm install --save redux
```

### Táº¡o cáº¥u trÃºc thÆ° má»¥c

```bash
cd src
mkdir -p redux/actions redux/reducers redux/middleware
touch redux/store.js redux/reducers.js
touch redux/actions/counter.js redux/reducers/counter.js
```

### Viáº¿t Action Creator

```javascript
// src/redux/actions/counter.js

// â‘  Äá»‹nh nghÄ©a ACTION TYPES â€” dÃ¹ng string constants
// Convention: "domain/ACTION_NAME"
export const INCREMENT = "counter/INCREMENT";
export const DECREMENT = "counter/DECREMENT";
export const RESET = "counter/RESET";

// â‘¡ ACTION CREATOR â€” hÃ m tráº£ vá» action object
// Action = plain object { type: '...', ...payload }
export function increment() {
  return { type: INCREMENT }; // â† Action object!
}

export function decrement() {
  return { type: DECREMENT };
}

export function reset() {
  return { type: RESET };
}
```

```
  ACTION LÃ€ GÃŒ?
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Action = Plain Object mÃ´ táº£ "CHUYá»†N GÃŒ ÄÃƒ Xáº¢Y RA"  â”‚
  â”‚                                                        â”‚
  â”‚  {                                                     â”‚
  â”‚    type: "counter/INCREMENT"    â† Báº®T BUá»˜C: loáº¡i     â”‚
  â”‚    payload: { amount: 5 }       â† TÃ™Y CHá»ŒN: dá»¯ liá»‡uâ”‚
  â”‚  }                                                     â”‚
  â”‚                                                        â”‚
  â”‚  Action Creator = HÃ€M táº¡o action object               â”‚
  â”‚  â†’ Táº¡i sao khÃ´ng viáº¿t tháº³ng object?                   â”‚
  â”‚  â†’ VÃ¬ hÃ m dá»… tÃ¡i sá»­ dá»¥ng, dá»… test!                  â”‚
  â”‚  â†’ dispatch(increment()) thay vÃ¬                       â”‚
  â”‚    dispatch({type: "counter/INCREMENT"})               â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Viáº¿t Reducer

```javascript
// src/redux/reducers/counter.js

import { INCREMENT, DECREMENT, RESET } from "../actions/counter";

// State ban Ä‘áº§u
const initState = {
  count: 0,
};

// REDUCER = HÃ m thuáº§n tÃºy nháº­n (state, action) â†’ state má»›i
// âš  KHÃ”NG sá»­a state cÅ©! LuÃ´n tráº£ state Má»šI!
export default function reducer(state = initState, action) {
  switch (action.type) {
    case INCREMENT:
      return { count: state.count + 1 }; // â† Object Má»šI!

    case DECREMENT:
      return { count: state.count - 1 };

    case RESET:
      return { count: 0 };

    default:
      return state; // â† Tráº£ state cÅ© náº¿u
  } //   khÃ´ng match action
}
```

### Combine Reducers â€” Gá»™p nhiá»u reducer

```javascript
// src/redux/reducers.js â€” Tá»° VIáº¾T combineReducers

import counter from "./reducers/counter";

// HÃ m nÃ y MERGE táº¥t cáº£ sub-reducer thÃ nh 1 root reducer
// Má»—i sub-reducer quáº£n lÃ½ 1 "nhÃ¡nh" cá»§a state tree
export default function combineReducers(state = {}, action) {
  return {
    counter: counter(state.counter, action),
    // ThÃªm reducer má»›i á»Ÿ Ä‘Ã¢y:
    // userInfo: userInfo(state.userInfo, action)
  };
}
```

```
  STATE TREE:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  store.getState() tráº£ vá»:                              â”‚
  â”‚                                                        â”‚
  â”‚  {                                                     â”‚
  â”‚    counter: {          â† counter reducer quáº£n lÃ½      â”‚
  â”‚      count: 0                                          â”‚
  â”‚    },                                                  â”‚
  â”‚    userInfo: {         â† userInfo reducer quáº£n lÃ½     â”‚
  â”‚      isLoading: false,                                 â”‚
  â”‚      userInfo: {},                                     â”‚
  â”‚      errorMsg: ''                                      â”‚
  â”‚    }                                                   â”‚
  â”‚  }                                                     â”‚
  â”‚                                                        â”‚
  â”‚  combineReducers gá»i Tá»ªNG reducer vá»›i:                 â”‚
  â”‚  â†’ counter(state.counter, action) â†’ state.counter má»›i â”‚
  â”‚  â†’ userInfo(state.userInfo, action) â†’ state.userInfo   â”‚
  â”‚  Merge láº¡i â†’ state tree hoÃ n chá»‰nh!                   â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Táº¡o Store

```javascript
// src/redux/store.js

import { createStore } from "redux";
import combineReducers from "./reducers.js";

// Store = nÆ¡i LÆ¯U TRá»® state tree + cung cáº¥p cÃ¡c method
let store = createStore(combineReducers);

export default store;
```

```
  STORE CÃ“ GÃŒ?
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
  â”‚  â”‚ Method               â”‚ Má»¥c Ä‘Ã­ch                 â”‚   â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
  â”‚  â”‚ store.getState()     â”‚ Láº¥y state hiá»‡n táº¡i      â”‚   â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
  â”‚  â”‚ store.dispatch(act)  â”‚ Gá»­i action â†’ reducer    â”‚   â”‚
  â”‚  â”‚                      â”‚ â†’ cáº­p nháº­t state         â”‚   â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
  â”‚  â”‚ store.subscribe(fn)  â”‚ ÄÄƒng kÃ½ listener         â”‚   â”‚
  â”‚  â”‚                      â”‚ Gá»i fn má»—i khi state    â”‚   â”‚
  â”‚  â”‚                      â”‚ thay Ä‘á»•i                 â”‚   â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
  â”‚  â”‚ (return value)       â”‚ subscribe() tráº£          â”‚   â”‚
  â”‚  â”‚ unsubscribe()        â”‚ unsubscribe â†’ há»§y listenerâ”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Test Redux thuáº§n (KHÃ”NG cáº§n React!)

```javascript
// src/redux/testRedux.js â€” Test riÃªng Redux, chá»©ng minh Redux â‰  React!

import { increment, decrement, reset } from "./actions/counter";
import store from "./store";

console.log(store.getState()); // { counter: { count: 0 } }

// ÄÄƒng kÃ½ listener â€” in ra state má»—i khi thay Ä‘á»•i
let unsubscribe = store.subscribe(() => console.log(store.getState()));

store.dispatch(increment()); // { counter: { count: 1 } }
store.dispatch(decrement()); // { counter: { count: 0 } }
store.dispatch(reset()); // { counter: { count: 0 } }

unsubscribe(); // Há»§y subscriber
```

```
  OUTPUT:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  { counter: { count: 0 } }    â† getState() ban Ä‘áº§u   â”‚
  â”‚  { counter: { count: 1 } }    â† sau increment()       â”‚
  â”‚  { counter: { count: 0 } }    â† sau decrement()       â”‚
  â”‚  { counter: { count: 0 } }    â† sau reset()           â”‚
  â”‚                                                        â”‚
  â”‚  â­ Káº¾T LUáº¬N QUAN TRá»ŒNG:                              â”‚
  â”‚  Redux KHÃ”NG phá»¥ thuá»™c React!                          â”‚
  â”‚  CÃ³ thá»ƒ dÃ¹ng Redux vá»›i Vue, Angular, hoáº·c vanilla JS!â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Káº¿t ná»‘i Redux vá»›i React báº±ng react-redux

```bash
npm install --save react-redux
```

```
  react-redux CUNG Cáº¤P 2 THá»¨ QUAN TRá»ŒNG:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â‘  <Provider store={store}>                           â”‚
  â”‚     â†’ Wrap toÃ n bá»™ app                                â”‚
  â”‚     â†’ Má»i component con Ä‘á»u truy cáº­p Ä‘Æ°á»£c store      â”‚
  â”‚     â†’ DÃ¹ng React Context API bÃªn trong!               â”‚
  â”‚                                                        â”‚
  â”‚  â‘¡ connect(mapStateToProps, mapDispatchToProps)        â”‚
  â”‚     â†’ HOC (Higher-Order Component)                     â”‚
  â”‚     â†’ mapStateToProps: chá»n PHáº¦N NÃ€O cá»§a state â†’     â”‚
  â”‚       truyá»n vÃ o props                                â”‚
  â”‚     â†’ mapDispatchToProps: táº¡o HÃ€M dispatch action    â”‚
  â”‚       â†’ truyá»n vÃ o props                              â”‚
  â”‚                                                        â”‚
  â”‚  LUá»’NG:                                                â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚  <Provider store={store}>                       â”‚  â”‚
  â”‚  â”‚    â”‚                                            â”‚  â”‚
  â”‚  â”‚    â–¼ Context truyá»n store                       â”‚  â”‚
  â”‚  â”‚                                                  â”‚  â”‚
  â”‚  â”‚  connect(mapState, mapDispatch)(Counter)         â”‚  â”‚
  â”‚  â”‚    â”‚                                            â”‚  â”‚
  â”‚  â”‚    â”œâ†’ Äá»c state â†’ mapState â†’ this.props.counterâ”‚  â”‚
  â”‚  â”‚    â”œâ†’ Bind dispatch â†’ this.props.increment()   â”‚  â”‚
  â”‚  â”‚    â”‚                                            â”‚  â”‚
  â”‚  â”‚    â–¼                                            â”‚  â”‚
  â”‚  â”‚  <Counter counter={...} increment={...} />     â”‚  â”‚
  â”‚  â”‚    â”‚                                            â”‚  â”‚
  â”‚  â”‚    â””â†’ Subscribe store â†’ auto re-render!        â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Viáº¿t Counter component vá»›i connect()

```javascript
// src/pages/Counter/Counter.js

import React, { Component } from "react";
import { increment, decrement, reset } from "actions/counter";
import { connect } from "react-redux";

class Counter extends Component {
  render() {
    return (
      <div>
        <div>Äáº¿m hiá»‡n táº¡i: {this.props.counter.count}</div>
        <button onClick={() => this.props.increment()}>TÄƒng</button>
        <button onClick={() => this.props.decrement()}>Giáº£m</button>
        <button onClick={() => this.props.reset()}>Reset</button>
      </div>
    );
  }
}

// â‘  mapStateToProps: Redux state â†’ Component props
// Má»—i khi store thay Ä‘á»•i, hÃ m nÃ y Ä‘Æ°á»£c gá»i láº¡i
const mapStateToProps = (state) => {
  return {
    counter: state.counter, // this.props.counter = state.counter
  };
};

// â‘¡ mapDispatchToProps: dispatch â†’ Component props
// Táº¡o hÃ m dispatch sáºµn, component chá»‰ gá»i this.props.xxx()
const mapDispatchToProps = (dispatch) => {
  return {
    increment: () => {
      dispatch(increment());
    },
    decrement: () => {
      dispatch(decrement());
    },
    reset: () => {
      dispatch(reset());
    },
  };
};

// â‘¢ connect() táº¡o "container component" bao bá»c Counter
export default connect(mapStateToProps, mapDispatchToProps)(Counter);
```

### Cung cáº¥p Store cho toÃ n bá»™ app

```javascript
// src/index.js â€” THÃŠM Provider
import React from "react";
import ReactDom from "react-dom";
import { AppContainer } from "react-hot-loader";
import { Provider } from "react-redux"; // â† THÃŠM
import store from "./redux/store"; // â† THÃŠM
import getRouter from "router/router";

renderWithHotReload(getRouter());

if (module.hot) {
  module.hot.accept("./router/router", () => {
    const getRouter = require("router/router").default;
    renderWithHotReload(getRouter());
  });
}

function renderWithHotReload(RootElement) {
  ReactDom.render(
    <AppContainer>
      <Provider store={store}>
        {" "}
        {/* â† Store cho toÃ n app! */}
        {RootElement}
      </Provider>
    </AppContainer>,
    document.getElementById("app"),
  );
}
```

### Async Actions vá»›i redux-thunk

```
  Váº¤N Äá»€: Action creator chá»‰ tráº£ object {type:...}
  â†’ NhÆ°ng API request lÃ  ASYNC!
  â†’ LÃ m sao dispatch 3 actions liÃªn tiáº¿p?
     â‘  REQUEST (báº¯t Ä‘áº§u loading)
     â‘¡ SUCCESS (cÃ³ dá»¯ liá»‡u)  hoáº·c  FAIL (cÃ³ lá»—i)

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  BÃŒNH THÆ¯á»œNG:                                          â”‚
  â”‚  dispatch({type: 'XXX'})  â†’ reducer nháº­n â†’ OK!       â”‚
  â”‚                                                        â”‚
  â”‚  ASYNC:                                                â”‚
  â”‚  dispatch(function(dispatch) {  â† ÄÃ‚Y LÃ€ HÃ€M!      â”‚
  â”‚    dispatch({type: REQUEST});                          â”‚
  â”‚    fetch(url)                                          â”‚
  â”‚      .then(data => dispatch({type: SUCCESS, data}))   â”‚
  â”‚      .catch(err => dispatch({type: FAIL, err}));      â”‚
  â”‚  })                                                    â”‚
  â”‚                                                        â”‚
  â”‚  â†’ Reducer KHÃ”NG hiá»ƒu function!                       â”‚
  â”‚  â†’ Cáº§n MIDDLEWARE cháº·n giá»¯a, xá»­ lÃ½ function!         â”‚
  â”‚  â†’ ÄÃ³ lÃ  redux-thunk!                                 â”‚
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
  â”‚  â”‚dispatch(fn) â†’ thunk middleware â†’ fn(dispatch) â”‚     â”‚
  â”‚  â”‚                                      â†“        â”‚     â”‚
  â”‚  â”‚               dispatch({type: REQUEST})       â”‚     â”‚
  â”‚  â”‚               fetch(url)                      â”‚     â”‚
  â”‚  â”‚               .then â†’ dispatch({type: SUCCESS})â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```bash
npm install --save redux-thunk
```

```javascript
// src/redux/store.js â€” THÃŠM middleware
import { createStore, applyMiddleware } from "redux";
import thunkMiddleware from "redux-thunk";
import combineReducers from "./reducers.js";

let store = createStore(
  combineReducers,
  applyMiddleware(thunkMiddleware), // â† ThÃªm thunk middleware!
);

export default store;
```

### Async Action Creator cho User Info

```javascript
// src/redux/actions/userInfo.js

export const GET_USER_INFO_REQUEST = "userInfo/GET_USER_INFO_REQUEST";
export const GET_USER_INFO_SUCCESS = "userInfo/GET_USER_INFO_SUCCESS";
export const GET_USER_INFO_FAIL = "userInfo/GET_USER_INFO_FAIL";

function getUserInfoRequest() {
  return { type: GET_USER_INFO_REQUEST };
}
function getUserInfoSuccess(userInfo) {
  return { type: GET_USER_INFO_SUCCESS, userInfo };
}
function getUserInfoFail() {
  return { type: GET_USER_INFO_FAIL };
}

// THUNK ACTION CREATOR â€” tráº£ vá» FUNCTION thay vÃ¬ object!
// redux-thunk sáº½ gá»i function nÃ y vá»›i dispatch
export function getUserInfo() {
  return function (dispatch) {
    dispatch(getUserInfoRequest()); // â‘  Loading!

    return fetch("http://localhost:8080/api/user.json")
      .then((response) => response.json())
      .then((json) => {
        dispatch(getUserInfoSuccess(json)); // â‘¡ ThÃ nh cÃ´ng!
      })
      .catch(() => {
        dispatch(getUserInfoFail()); // â‘¢ Tháº¥t báº¡i!
      });
  };
}
```

```javascript
// src/redux/reducers/userInfo.js

import {
  GET_USER_INFO_REQUEST,
  GET_USER_INFO_SUCCESS,
  GET_USER_INFO_FAIL,
} from "actions/userInfo";

const initState = {
  isLoading: false,
  userInfo: {},
  errorMsg: "",
};

export default function reducer(state = initState, action) {
  switch (action.type) {
    case GET_USER_INFO_REQUEST:
      return { ...state, isLoading: true, userInfo: {}, errorMsg: "" };

    case GET_USER_INFO_SUCCESS:
      return {
        ...state,
        isLoading: false,
        userInfo: action.userInfo,
        errorMsg: "",
      };

    case GET_USER_INFO_FAIL:
      return {
        ...state,
        isLoading: false,
        userInfo: {},
        errorMsg: "Lá»—i request",
      };

    default:
      return state;
  }
}
```

> **CÃº phÃ¡p `...state`**: Spread operator, tÆ°Æ¡ng Ä‘Æ°Æ¡ng `Object.assign({}, state, newValues)`.
> Äáº£m báº£o tráº£ state Má»šI (immutable), khÃ´ng sá»­a state cÅ©.

### DÃ¹ng combineReducers cÃ³ sáºµn cá»§a Redux

```javascript
// src/redux/reducers.js â€” DÃ¹ng combineReducers cá»§a redux thay vÃ¬ tá»± viáº¿t

import { combineReducers } from "redux"; // â† Cá»§a redux!
import counter from "reducers/counter";
import userInfo from "reducers/userInfo";

export default combineReducers({
  counter, // ES6 shorthand: counter: counter
  userInfo, // userInfo: userInfo
});
```

> `combineReducers` cá»§a Redux tá»± Ä‘á»™ng: gá»i tá»«ng reducer, merge state, vÃ  handle initial state.

---

## Â§11. Devtool â€” Source Map & Debug

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  DEVTOOL = XEM Lá»–I á» FILE Gá»C, KHÃ”NG PHáº¢I BUNDLE.JS!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  Váº¤N Äá»€:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  KHÃ”NG CÃ“ devtool:                                     â”‚
  â”‚  Error at bundle.js:12345                              â”‚
  â”‚  â†’ Bundle.js = 1 file KHá»”NG Lá»’!                      â”‚
  â”‚  â†’ DÃ²ng 12345 lÃ  code gÃ¬? Tá»« file nÃ o?               â”‚
  â”‚  â†’ KHÃ”NG THá»‚ DEBUG!                                    â”‚
  â”‚                                                        â”‚
  â”‚  CÃ“ devtool: 'inline-source-map':                      â”‚
  â”‚  Error at Home.js:15                                   â”‚
  â”‚  â†’ Biáº¿t chÃ­nh xÃ¡c file, dÃ²ng, cá»™t!                   â”‚
  â”‚  â†’ Äáº·t breakpoint trá»±c tiáº¿p trong DevTools!           â”‚
  â”‚  â†’ Debug nhÆ° bÃ¬nh thÆ°á»ng!                              â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  CÃC LOáº I DEVTOOL:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
  â”‚  â”‚ Loáº¡i                          â”‚  Tá»‘c Ä‘á»™ â”‚ DÃ¹ng   â”‚â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
  â”‚  â”‚ inline-source-map             â”‚  Cháº­m   â”‚ Dev    â”‚â”‚
  â”‚  â”‚ â†’ Map Ä‘áº§y Ä‘á»§, chÃ­nh xÃ¡c nháº¥t â”‚          â”‚        â”‚â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
  â”‚  â”‚ cheap-module-source-map       â”‚  Vá»«a    â”‚ Prod   â”‚â”‚
  â”‚  â”‚ â†’ Map Ä‘á»§ dÃ¹ng, nháº¹ hÆ¡n      â”‚          â”‚        â”‚â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
  â”‚  â”‚ eval                          â”‚  Nhanh  â”‚ Dev    â”‚â”‚
  â”‚  â”‚ â†’ Map cÆ¡ báº£n, rebuild nhanh  â”‚          â”‚        â”‚â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```javascript
// webpack.dev.config.js â€” THÃŠM devtool
devtool: "inline-source-map";
```

---

## Â§12. BiÃªn Dá»‹ch CSS & HÃ¬nh áº¢nh

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  WEBPACK LOADERS = Dáº Y WEBPACK HIá»‚U FILE KHÃ”NG PHáº¢I JS!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  Webpack chá»‰ hiá»ƒu JS (.js)!
  â†’ Muá»‘n import .css â†’ cáº§n css-loader!
  â†’ Muá»‘n import .png â†’ cáº§n url-loader/file-loader!
  â†’ Muá»‘n import .scss â†’ cáº§n sass-loader!

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  CSS LOADERS:                                          â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
  â”‚  â”‚ Loader         â”‚ Vai trÃ²                          â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ css-loader     â”‚ Cho phÃ©p import .css trong JS    â”‚ â”‚
  â”‚  â”‚                â”‚ Xá»­ lÃ½ @import, url() trong CSS   â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ style-loader   â”‚ Inject CSS vÃ o <style> tag       â”‚ â”‚
  â”‚  â”‚                â”‚ trong <head> cá»§a HTML             â”‚ â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
  â”‚                                                        â”‚
  â”‚  LUá»’NG: import './Page1.css'                           â”‚
  â”‚  â‘  css-loader Ä‘á»c file CSS â†’ thÃ nh JS module         â”‚
  â”‚  â‘¡ style-loader táº¡o <style> tag â†’ inject vÃ o <head> â”‚
  â”‚  â†’ CSS hoáº¡t Ä‘á»™ng trong browser!                       â”‚
  â”‚                                                        â”‚
  â”‚  IMAGE LOADERS:                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
  â”‚  â”‚ Loader         â”‚ Vai trÃ²                          â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ url-loader     â”‚ áº¢nh â‰¤ limit â†’ base64 inline    â”‚ â”‚
  â”‚  â”‚                â”‚ áº¢nh > limit â†’ file riÃªng        â”‚ â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
  â”‚  â”‚ file-loader    â”‚ Copy file â†’ dist, tráº£ URL      â”‚ â”‚
  â”‚  â”‚                â”‚ (fallback cá»§a url-loader)        â”‚ â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
  â”‚                                                        â”‚
  â”‚  limit: 8192 (8KB):                                    â”‚
  â”‚  áº¢nh â‰¤ 8KB â†’ data:image/png;base64,...                â”‚
  â”‚  â†’ Inline luÃ´n! KhÃ´ng cáº§n HTTP request!               â”‚
  â”‚  â†’ NHANH cho icon nhá»!                                â”‚
  â”‚  áº¢nh > 8KB â†’ file riÃªng (dist/xxx.jpg)                â”‚
  â”‚  â†’ TrÃ¡nh bundle.js quÃ¡ lá»›n!                           â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### CÃ i Ä‘áº·t

```bash
npm install css-loader style-loader --save-dev
npm install url-loader file-loader --save-dev
```

### Cáº¥u hÃ¬nh webpack

```javascript
// webpack.dev.config.js â€” THÃŠM rules cho CSS & images

module: {
  rules: [
    // ... babel-loader á»Ÿ trÃªn ...
    {
      test: /\.css$/,
      use: ["style-loader", "css-loader"],
      // âš  THá»¨ Tá»° QUAN TRá»ŒNG! Webpack xá»­ lÃ½ Tá»ª PHáº¢I SANG TRÃI!
      // â‘  css-loader Ä‘á»c CSS
      // â‘¡ style-loader inject vÃ o DOM
    },
    {
      test: /\.(png|jpg|gif)$/,
      use: [
        {
          loader: "url-loader",
          options: { limit: 8192 }, // â‰¤ 8KB â†’ base64
        },
      ],
    },
  ];
}
```

### Test CSS & Image

```css
/* src/pages/Page1/Page1.css */
.page-box {
  border: 1px solid red;
}
```

```javascript
// src/pages/Page1/Page1.js
import React, { Component } from "react";
import "./Page1.css"; // â† Import CSS!
import image from "./images/brickpsert.jpg"; // â† Import Image!

export default class Page1 extends Component {
  render() {
    return (
      <div className="page-box">
        this is page1~
        <img src={image} />
      </div>
    );
  }
}
```

---

## Â§13. Code Splitting â€” Táº£i Theo YÃªu Cáº§u

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  CODE SPLITTING = CHá»ˆ Táº¢I CODE Cá»¦A TRANG ÄANG XEM!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  Váº¤N Äá»€:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  KHÃ”NG CÃ“ code splitting:                              â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  bundle.js (1 file DUY NHáº¤T)            â”‚          â”‚
  â”‚  â”‚  â”œâ”€â”€ React code                          â”‚          â”‚
  â”‚  â”‚  â”œâ”€â”€ Router code                         â”‚          â”‚
  â”‚  â”‚  â”œâ”€â”€ Redux code                          â”‚          â”‚
  â”‚  â”‚  â”œâ”€â”€ Home page code                      â”‚          â”‚
  â”‚  â”‚  â”œâ”€â”€ Page1 code                          â”‚          â”‚
  â”‚  â”‚  â”œâ”€â”€ Counter code                        â”‚          â”‚
  â”‚  â”‚  â””â”€â”€ UserInfo code                       â”‚          â”‚
  â”‚  â”‚                                          â”‚          â”‚
  â”‚  â”‚  NgÆ°á»i dÃ¹ng chá»‰ xem Home                â”‚          â”‚
  â”‚  â”‚  â†’ Táº£i Táº¤T Cáº¢ pages! LÃ£ng phÃ­!        â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â”‚  CÃ“ code splitting:                                    â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  bundle.js    â†’ Core (React, Router...)  â”‚          â”‚
  â”‚  â”‚  home.js      â†’ Home page                â”‚          â”‚
  â”‚  â”‚  page1.js     â†’ Page1                    â”‚          â”‚
  â”‚  â”‚  counter.js   â†’ Counter                  â”‚          â”‚
  â”‚  â”‚  userInfo.js  â†’ UserInfo                 â”‚          â”‚
  â”‚  â”‚                                          â”‚          â”‚
  â”‚  â”‚  NgÆ°á»i dÃ¹ng xem Home â†’ chá»‰ táº£i home.js!â”‚          â”‚
  â”‚  â”‚  Click Page1 â†’ táº£i page1.js!            â”‚          â”‚
  â”‚  â”‚  â†’ Táº£i theo NHU Cáº¦U! Nhanh!            â”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### CÃ i Ä‘áº·t bundle-loader

```bash
npm install bundle-loader --save-dev
```

### Viáº¿t Bundle component (Lazy loading wrapper)

```javascript
// src/router/Bundle.js â€” Component quáº£n lÃ½ lazy loading

import React, { Component } from "react";

class Bundle extends Component {
  state = {
    mod: null, // Module chÆ°a táº£i â†’ null
  };

  componentWillMount() {
    this.load(this.props); // Táº£i module khi mount
  }

  componentWillReceiveProps(nextProps) {
    if (nextProps.load !== this.props.load) {
      this.load(nextProps); // Táº£i module má»›i náº¿u thay Ä‘á»•i
    }
  }

  load(props) {
    this.setState({ mod: null }); // Reset
    props.load((mod) => {
      // Gá»i bundle-loader
      this.setState({
        mod: mod.default ? mod.default : mod,
        // ES module â†’ .default
        // CommonJS â†’ trá»±c tiáº¿p
      });
    });
  }

  render() {
    return this.props.children(this.state.mod);
    // render prop pattern!
    // Truyá»n module Ä‘Ã£ táº£i cho children function
  }
}

export default Bundle;
```

```
  LUá»’NG HOáº T Äá»˜NG BUNDLE:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  User click "/page1"                                   â”‚
  â”‚         â”‚                                              â”‚
  â”‚         â–¼                                              â”‚
  â”‚  Route match â†’ render createComponent(Page1)           â”‚
  â”‚         â”‚                                              â”‚
  â”‚         â–¼                                              â”‚
  â”‚  <Bundle load={Page1}>                                 â”‚
  â”‚    {(Comp) => Comp ? <Comp/> : <Loading/>}             â”‚
  â”‚  </Bundle>                                             â”‚
  â”‚         â”‚                                              â”‚
  â”‚         â–¼  componentWillMount â†’ load(props)            â”‚
  â”‚         â”‚                                              â”‚
  â”‚         â–¼  mod = null â†’ render <Loading/>              â”‚
  â”‚         â”‚                                              â”‚
  â”‚         â–¼  bundle-loader táº£i page1.js (async!)         â”‚
  â”‚         â”‚                                              â”‚
  â”‚         â–¼  Táº£i xong â†’ setState({ mod: Page1 })        â”‚
  â”‚         â”‚                                              â”‚
  â”‚         â–¼  Re-render â†’ <Page1 {...props}/>             â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Cáº­p nháº­t Router

```javascript
// src/router/router.js â€” Sá»¬A: DÃ¹ng bundle-loader!

import React from "react";
import { BrowserRouter as Router, Route, Switch, Link } from "react-router-dom";
import Bundle from "./Bundle";

// âš¡ bundle-loader?lazy = chá»‰ táº£i khi Cáº¦N!
// name=xxx = tÃªn file output (VD: home.js)
import Home from "bundle-loader?lazy&name=home!pages/Home/Home";
import Page1 from "bundle-loader?lazy&name=page1!pages/Page1/Page1";
import Counter from "bundle-loader?lazy&name=counter!pages/Counter/Counter";
import UserInfo from "bundle-loader?lazy&name=userInfo!pages/UserInfo/UserInfo";

const Loading = function () {
  return <div>Loading...</div>;
};

// Factory: táº¡o lazy component
const createComponent = (component) => (props) => (
  <Bundle load={component}>
    {(Component) => (Component ? <Component {...props} /> : <Loading />)}
  </Bundle>
);

const getRouter = () => (
  <Router>
    <div>
      <ul>
        <li>
          <Link to="/">Trang chá»§</Link>
        </li>
        <li>
          <Link to="/page1">Page1</Link>
        </li>
        <li>
          <Link to="/counter">Counter</Link>
        </li>
        <li>
          <Link to="/userinfo">UserInfo</Link>
        </li>
      </ul>
      <Switch>
        <Route exact path="/" component={createComponent(Home)} />
        <Route path="/page1" component={createComponent(Page1)} />
        <Route path="/counter" component={createComponent(Counter)} />
        <Route path="/userinfo" component={createComponent(UserInfo)} />
      </Switch>
    </div>
  </Router>
);

export default getRouter;
```

### Cáº¥u hÃ¬nh chunkFilename

```javascript
// webpack.dev.config.js â€” THÃŠM chunkFilename
output: {
    path: path.join(__dirname, './dist'),
    filename: 'bundle.js',
    chunkFilename: '[name].js'  // â† name = "home", "page1"...
}
```

> `name=home` trong `bundle-loader?lazy&name=home!...` â†’ chunk file tÃªn `home.js`!

---

## Â§14. Cache â€” Bá»™ Nhá»› Äá»‡m

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  CACHE = USER CHá»ˆ Táº¢I FILE Má»šI, KHÃ”NG Táº¢I Láº I FILE CÅ¨!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  Váº¤N Äá»€:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â‘  User láº§n Ä‘áº§u truy cáº­p â†’ táº£i home.js              â”‚
  â”‚  â‘¡ User láº§n 2 truy cáº­p â†’ trÃ¬nh duyá»‡t CACHE home.js  â”‚
  â”‚     â†’ KhÃ´ng táº£i láº¡i â†’ NHANH!                         â”‚
  â”‚                                                        â”‚
  â”‚  â‘¢ Dev release báº£n má»›i â†’ home.js Ä‘Ã£ thay Ä‘á»•i!       â”‚
  â”‚  â‘£ User truy cáº­p â†’ trÃ¬nh duyá»‡t váº«n dÃ¹ng CACHE CÅ¨!  â”‚
  â”‚     â†’ KHÃ”NG tháº¥y báº£n má»›i! BUG!                       â”‚
  â”‚                                                        â”‚
  â”‚  GIáº¢I PHÃP: hash trong tÃªn file!                       â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚  home.a1b2c3.js    â† Báº£n cÅ©             â”‚          â”‚
  â”‚  â”‚  home.d4e5f6.js    â† Báº£n má»›i (hash khÃ¡c)â”‚          â”‚
  â”‚  â”‚                                          â”‚          â”‚
  â”‚  â”‚  TÃªn file khÃ¡c â†’ trÃ¬nh duyá»‡t táº£i Má»šI!  â”‚          â”‚
  â”‚  â”‚  File chÆ°a Ä‘á»•i â†’ hash giá»‘ng â†’ dÃ¹ng cacheâ”‚          â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  hash vs chunkhash:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  [hash] = hash cá»§a TOÃ€N Bá»˜ compilation                â”‚
  â”‚  â†’ Báº¤T Ká»² file thay Ä‘á»•i â†’ Táº¤T Cáº¢ hash Ä‘á»•i!        â”‚
  â”‚  â†’ KhÃ´ng tá»‘t cho caching!                             â”‚
  â”‚                                                        â”‚
  â”‚  [chunkhash] = hash cá»§a Tá»ªNG chunk riÃªng              â”‚
  â”‚  â†’ Chá»‰ file thay Ä‘á»•i â†’ chá»‰ hash Ä‘Ã³ Ä‘á»•i!            â”‚
  â”‚  â†’ Tá»T cho caching!                                   â”‚
  â”‚                                                        â”‚
  â”‚  âš  [chunkhash] KHÃ”NG tÆ°Æ¡ng thÃ­ch webpack-dev-server   â”‚
  â”‚  --hot! Dev dÃ¹ng [hash], production dÃ¹ng [chunkhash]! â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```javascript
// webpack.dev.config.js â€” Dev: dÃ¹ng [hash]
output: {
    filename: '[name].[hash].js',
    chunkFilename: '[name].[chunkhash].js'
}
```

---

## Â§15. HtmlWebpackPlugin â€” Tá»± Äá»™ng Inject JS

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  HTMLWEBPACKPLUGIN = Tá»° Táº O index.html + INJECT <script>!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  Váº¤N Äá»€:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Má»—i láº§n build â†’ tÃªn file Ä‘á»•i (vÃ¬ hash)!             â”‚
  â”‚  bundle.a1b2c3.js â†’ bundle.d4e5f6.js                  â”‚
  â”‚                                                        â”‚
  â”‚  â†’ Pháº£i Tá»° TAY sá»­a index.html má»—i láº§n build!        â”‚
  â”‚  â†’ Ráº¥t phiá»n! Dá»… quÃªn!                                â”‚
  â”‚                                                        â”‚
  â”‚  GIáº¢I PHÃP: HtmlWebpackPlugin tá»± inject!               â”‚
  â”‚  â†’ Äá»c template src/index.html                        â”‚
  â”‚  â†’ Tá»± thÃªm <script src="bundle.d4e5f6.js">           â”‚
  â”‚  â†’ Ghi ra dist/index.html                             â”‚
  â”‚  â†’ HoÃ n toÃ n tá»± Ä‘á»™ng!                                 â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```bash
npm install html-webpack-plugin --save-dev
```

```html
<!-- src/index.html â€” Template (KHÃ”NG CÃ“ <script>!) -->
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
  </head>
  <body>
    <div id="app"></div>
    <!-- HtmlWebpackPlugin sáº½ Tá»° THÃŠM <script> á»Ÿ Ä‘Ã¢y! -->
  </body>
</html>
```

```javascript
// webpack.dev.config.js â€” THÃŠM plugin
var HtmlWebpackPlugin = require("html-webpack-plugin");

plugins: [
  new HtmlWebpackPlugin({
    filename: "index.html", // TÃªn output
    template: path.join(__dirname, "src/index.html"), // Template gá»‘c
  }),
];
```

---

## Â§16. Extract Common Code â€” TÃ¡ch MÃ£ DÃ¹ng Chung

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  COMMONSCHUNKPLUGIN = TÃCH REACT, REDUX... THÃ€NH FILE RIÃŠNG!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  Váº¤N Äá»€:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  bundle.js CHá»¨A:                                       â”‚
  â”‚  â”œâ”€â”€ React code         (~130KB)   â† KHÃ”NG Äá»”I!      â”‚
  â”‚  â”œâ”€â”€ React-DOM code     (~400KB)   â† KHÃ”NG Äá»”I!      â”‚
  â”‚  â”œâ”€â”€ Redux code         (~20KB)    â† KHÃ”NG Äá»”I!      â”‚
  â”‚  â”œâ”€â”€ React-Router code  (~30KB)    â† KHÃ”NG Äá»”I!      â”‚
  â”‚  â””â”€â”€ App code           (~50KB)    â† THAY Äá»”I!       â”‚
  â”‚                                                        â”‚
  â”‚  Má»—i láº§n release:                                     â”‚
  â”‚  â†’ bundle.js hash Ä‘á»•i â†’ user táº£i Láº I 630KB!          â”‚
  â”‚  â†’ DÃ¹ chá»‰ app code (50KB) thay Ä‘á»•i!                  â”‚
  â”‚  â†’ LÃƒNG PHÃ 580KB!                                    â”‚
  â”‚                                                        â”‚
  â”‚  GIáº¢I PHÃP: TÃ¡ch thÃ nh 2 file!                         â”‚
  â”‚  â”œâ”€â”€ vendor.js  (React, Redux...) â†’ hash KHÃ”NG Ä‘á»•i!  â”‚
  â”‚  â”‚   â†’ Cache vÄ©nh viá»…n! User KHÃ”NG bao giá» táº£i láº¡i! â”‚
  â”‚  â””â”€â”€ app.js     (code cá»§a báº¡n)    â†’ hash thay Ä‘á»•i    â”‚
  â”‚      â†’ User chá»‰ táº£i láº¡i 50KB!                        â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```javascript
// webpack.dev.config.js â€” THÃŠM vendor entry + plugin

var webpack = require('webpack');

entry: {
    app: [
        'react-hot-loader/patch',
        path.join(__dirname, 'src/index.js')
    ],
    // Äá»‹nh nghÄ©a "vendor" bundle
    vendor: ['react', 'react-router-dom', 'redux', 'react-dom', 'react-redux']
},

plugins: [
    // ... HtmlWebpackPlugin ...
    new webpack.optimize.CommonsChunkPlugin({
        name: 'vendor'  // TÃ¡ch cÃ¡c module trong vendor entry
    })
]
```

```
  Káº¾T QUáº¢ SAU KHI BUILD:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  dist/                                                 â”‚
  â”‚  â”œâ”€â”€ vendor.[hash].js   â† React, Redux, Router...    â”‚
  â”‚  â”‚                         Hash KHÃ”NG Ä‘á»•i khi sá»­a codeâ”‚
  â”‚  â”œâ”€â”€ app.[hash].js      â† Code cá»§a báº¡n               â”‚
  â”‚  â”‚                         Hash Ä‘á»•i khi sá»­a code      â”‚
  â”‚  â”œâ”€â”€ home.[hash].js     â† Lazy loaded chunks         â”‚
  â”‚  â”œâ”€â”€ page1.[hash].js                                  â”‚
  â”‚  â””â”€â”€ index.html         â† Auto inject cáº£ 2 JS files  â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§17. Production Build â€” Báº£n Build Cho Production

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  PRODUCTION BUILD = NHá» Gá»ŒN, Tá»I Æ¯U, Sáº´N SÃ€NG DEPLOY!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  DEV vs PRODUCTION:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
  â”‚  â”‚ TÃ­nh nÄƒng          â”‚ Dev        â”‚ Production    â”‚   â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
  â”‚  â”‚ Source map         â”‚ Äáº§y Ä‘á»§    â”‚ RÃºt gá»n/OFF  â”‚   â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
  â”‚  â”‚ Code compression   â”‚ KHÃ”NG      â”‚ CÃ“ (Uglify)   â”‚   â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
  â”‚  â”‚ HMR                â”‚ CÃ“         â”‚ KHÃ”NG          â”‚   â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
  â”‚  â”‚ React warnings     â”‚ CÃ“         â”‚ KHÃ”NG          â”‚   â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
  â”‚  â”‚ Console logs       â”‚ CÃ“         â”‚ XÃ³a            â”‚   â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
  â”‚  â”‚ CSS extraction     â”‚ <style>    â”‚ File .css riÃªngâ”‚  â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
  â”‚  â”‚ File hash          â”‚ [hash]     â”‚ [chunkhash]   â”‚   â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Táº¡o file cáº¥u hÃ¬nh production

```bash
touch webpack.config.js
```

```javascript
// webpack.config.js â€” PRODUCTION CONFIG

const path = require("path");
const webpack = require("webpack");
const HtmlWebpackPlugin = require("html-webpack-plugin");
const CleanWebpackPlugin = require("clean-webpack-plugin");
const ExtractTextPlugin = require("extract-text-webpack-plugin");

module.exports = {
  devtool: "cheap-module-source-map",

  entry: {
    app: [
      path.join(__dirname, "src/index.js"),
      // KHÃ”NG CÃ“ react-hot-loader/patch!
    ],
    vendor: ["react", "react-router-dom", "redux", "react-dom", "react-redux"],
  },

  output: {
    path: path.join(__dirname, "./dist"),
    filename: "[name].[chunkhash].js", // â† chunkhash cho caching!
    chunkFilename: "[name].[chunkhash].js",
    publicPath: "/",
  },

  module: {
    rules: [
      {
        test: /\.js$/,
        use: ["babel-loader?cacheDirectory=true"],
        include: path.join(__dirname, "src"),
      },
      {
        test: /\.css$/,
        use: ExtractTextPlugin.extract({
          fallback: "style-loader",
          use: "css-loader",
        }),
      },
      {
        test: /\.(png|jpg|gif)$/,
        use: [{ loader: "url-loader", options: { limit: 8192 } }],
      },
    ],
  },

  plugins: [
    new HtmlWebpackPlugin({
      filename: "index.html",
      template: path.join(__dirname, "src/index.html"),
    }),
    new webpack.optimize.CommonsChunkPlugin({ name: "vendor" }),

    // â‘  UglifyJS â€” NÃ©n code!
    new webpack.optimize.UglifyJsPlugin(),

    // â‘¡ DefinePlugin â€” BÃ¡o cho React biáº¿t Ä‘Ã¢y lÃ  production!
    new webpack.DefinePlugin({
      "process.env": { NODE_ENV: JSON.stringify("production") },
    }),

    // â‘¢ HashedModuleIdsPlugin â€” Module IDs á»•n Ä‘á»‹nh!
    new webpack.HashedModuleIdsPlugin(),

    // â‘£ CleanWebpackPlugin â€” XÃ³a dist/ trÆ°á»›c khi build!
    new CleanWebpackPlugin(["dist"]),

    // â‘¤ ExtractTextPlugin â€” TÃ¡ch CSS thÃ nh file riÃªng!
    new ExtractTextPlugin({ filename: "[name].[contenthash].css" }),
  ],

  resolve: {
    alias: {
      pages: path.join(__dirname, "src/pages"),
      component: path.join(__dirname, "src/component"),
      router: path.join(__dirname, "src/router"),
      actions: path.join(__dirname, "src/redux/actions"),
      reducers: path.join(__dirname, "src/redux/reducers"),
    },
  },
};
```

```bash
npm install --save-dev uglifyjs-webpack-plugin clean-webpack-plugin extract-text-webpack-plugin
```

```json
// package.json â€” ThÃªm script build
"scripts": {
    "start": "webpack-dev-server --config webpack.dev.config.js --color --progress --hot",
    "build": "webpack --config webpack.config.js"
}
```

```
  CÃC PLUGIN PRODUCTION:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â‘  UglifyJsPlugin:                                    â”‚
  â”‚     NÃ©n code, rÃºt gá»n tÃªn biáº¿n                       â”‚
  â”‚     â†’ Bundle nhá» hÆ¡n 60-80%!                         â”‚
  â”‚                                                        â”‚
  â”‚  â‘¡ DefinePlugin + NODE_ENV=production:                 â”‚
  â”‚     React bá» háº¿t warning, propType checks             â”‚
  â”‚     â†’ Bundle React nhá» hÆ¡n ~30%!                     â”‚
  â”‚                                                        â”‚
  â”‚  â‘¢ HashedModuleIdsPlugin:                              â”‚
  â”‚     Module IDs = hash, thÃªm/xÃ³a module khÃ´ng áº£nh hÆ°á»Ÿngâ”‚
  â”‚     â†’ vendor.js hash tháº­t sá»± á»•n Ä‘á»‹nh!                â”‚
  â”‚                                                        â”‚
  â”‚  â‘£ CleanWebpackPlugin:                                 â”‚
  â”‚     XÃ³a dist/ trÆ°á»›c má»—i láº§n build                    â”‚
  â”‚                                                        â”‚
  â”‚  â‘¤ ExtractTextPlugin:                                  â”‚
  â”‚     TÃ¡ch CSS thÃ nh file .css riÃªng â†’ cache riÃªng!     â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§18. Axios & Middleware â€” Tá»‘i Æ¯u API Request

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  AXIOS = HTTP CLIENT THÃ”NG MINH, MIDDLEWARE = Tá»° DISPATCH!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  AXIOS vs fetch():
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
  â”‚  â”‚ TÃ­nh nÄƒng          â”‚ fetch()  â”‚ Axios          â”‚    â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
  â”‚  â”‚ Auto JSON parse    â”‚ KHÃ”NG    â”‚ CÃ“             â”‚    â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
  â”‚  â”‚ Request cancel     â”‚ Phá»©c táº¡pâ”‚ Dá»…             â”‚    â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
  â”‚  â”‚ Interceptors       â”‚ KHÃ”NG    â”‚ CÃ“             â”‚    â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
  â”‚  â”‚ Timeout            â”‚ Tá»± viáº¿t â”‚ CÃ³ sáºµn         â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```bash
npm install axios --save
```

### Táº¡o API wrapper

```javascript
// src/api/client.js â€” Axios instance

import axios from "axios";

const api = axios.create({
  baseURL: "http://localhost:8080/api/",
  timeout: 10000,
  headers: { "Content-Type": "application/json" },
});

// Request Interceptor
api.interceptors.request.use((config) => {
  // ThÃªm token: config.headers.Authorization = `Bearer ${token}`;
  return config;
});

// Response Interceptor â€” auto unwrap .data
api.interceptors.response.use(
  (response) => response.data,
  (error) => Promise.reject(error),
);

export default api;
```

### Custom Redux Middleware cho Promise

```javascript
// src/redux/middleware/promiseMiddleware.js

const promiseMiddleware = (store) => (next) => (action) => {
  const { type, payload } = action;

  // Náº¿u payload KHÃ”NG pháº£i Promise â†’ chuyá»ƒn tiáº¿p
  if (!payload || !payload.then) {
    return next(action);
  }

  // payload LÃ€ Promise!
  next({ type: `${type}_REQUEST` }); // â‘  Loading

  return payload.then(
    (result) => next({ type: `${type}_SUCCESS`, payload: result }), // â‘¡ OK
    (error) => next({ type: `${type}_FAIL`, payload: error }), // â‘¢ Lá»—i
  );
};

export default promiseMiddleware;
```

```
  LUá»’NG PROMISE MIDDLEWARE:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  dispatch({                                            â”‚
  â”‚    type: 'GET_USER',                                   â”‚
  â”‚    payload: api.get('/user.json')   â† Promise!        â”‚
  â”‚  })                                                    â”‚
  â”‚    â”‚                                                   â”‚
  â”‚    â–¼ Middleware: payload.then? â†’ CÃ“!                  â”‚
  â”‚    â”‚                                                   â”‚
  â”‚    â”œâ†’ next({ type: 'GET_USER_REQUEST' })              â”‚
  â”‚    â”œâ†’ resolve â†’ next({ type: 'GET_USER_SUCCESS' })   â”‚
  â”‚    â””â†’ reject â†’ next({ type: 'GET_USER_FAIL' })      â”‚
  â”‚                                                        â”‚
  â”‚  â‡’ Action creator cá»±c ngáº¯n!                           â”‚
  â”‚  Middleware tá»± lo REQUEST/SUCCESS/FAIL!                â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Cáº­p nháº­t Store

```javascript
// src/redux/store.js â€” THÃŠM promiseMiddleware
import { createStore, applyMiddleware } from "redux";
import thunkMiddleware from "redux-thunk";
import promiseMiddleware from "./middleware/promiseMiddleware";
import combineReducers from "./reducers.js";

let store = createStore(
  combineReducers,
  applyMiddleware(thunkMiddleware, promiseMiddleware),
);

export default store;
```

---

## Â§19. Webpack Merge â€” Gá»™p Cáº¥u HÃ¬nh

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  WEBPACK-MERGE = DRY! KHÃ”NG Láº¶P Láº I CONFIG!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  webpack.common.config.js                              â”‚
  â”‚  â”œâ”€â”€ entry, output, resolve.alias                     â”‚
  â”‚  â”œâ”€â”€ babel-loader, url-loader                         â”‚
  â”‚  â””â”€â”€ HtmlWebpackPlugin, CommonsChunkPlugin            â”‚
  â”‚       â”‚                                               â”‚
  â”‚       â”œâ”€ merge â†’ webpack.dev.config.js                â”‚
  â”‚       â”‚           â”œâ”€â”€ devtool: inline-source-map       â”‚
  â”‚       â”‚           â”œâ”€â”€ css: style-loader               â”‚
  â”‚       â”‚           â””â”€â”€ devServer + HMR                 â”‚
  â”‚       â”‚                                               â”‚
  â”‚       â””â”€ merge â†’ webpack.config.js (production)       â”‚
  â”‚                   â”œâ”€â”€ devtool: cheap-module-...        â”‚
  â”‚                   â”œâ”€â”€ css: ExtractTextPlugin           â”‚
  â”‚                   â””â”€â”€ UglifyJsPlugin + DefinePlugin   â”‚
  â”‚                                                        â”‚
  â”‚  â†’ Sá»­a alias? Chá»‰ sá»­a 1 file common!                â”‚
  â”‚  â†’ DRY! Sáº CH! Dá»„ QUáº¢N LÃ!                            â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```bash
npm install webpack-merge --save-dev
```

### TÃ¡ch thÃ nh 3 file

```javascript
// webpack.common.config.js â€” CONFIG CHUNG

const path = require("path");
const HtmlWebpackPlugin = require("html-webpack-plugin");
const webpack = require("webpack");

module.exports = {
  entry: {
    app: [path.join(__dirname, "src/index.js")],
    vendor: ["react", "react-router-dom", "redux", "react-dom", "react-redux"],
  },
  output: {
    path: path.join(__dirname, "./dist"),
    filename: "[name].[hash].js",
    chunkFilename: "[name].[chunkhash].js",
    publicPath: "/",
  },
  module: {
    rules: [
      {
        test: /\.js$/,
        use: ["babel-loader?cacheDirectory=true"],
        include: path.join(__dirname, "src"),
      },
      {
        test: /\.(png|jpg|gif)$/,
        use: [{ loader: "url-loader", options: { limit: 8192 } }],
      },
    ],
  },
  plugins: [
    new HtmlWebpackPlugin({
      filename: "index.html",
      template: path.join(__dirname, "src/index.html"),
    }),
    new webpack.optimize.CommonsChunkPlugin({ name: "vendor" }),
  ],
  resolve: {
    alias: {
      pages: path.join(__dirname, "src/pages"),
      component: path.join(__dirname, "src/component"),
      router: path.join(__dirname, "src/router"),
      actions: path.join(__dirname, "src/redux/actions"),
      reducers: path.join(__dirname, "src/redux/reducers"),
    },
  },
};
```

```javascript
// webpack.dev.config.js â€” CHá»ˆ Cáº¤U HÃŒNH DEV

const merge = require("webpack-merge");
const path = require("path");
const commonConfig = require("./webpack.common.config.js");

const devConfig = {
  devtool: "inline-source-map",
  entry: {
    app: ["react-hot-loader/patch", path.join(__dirname, "src/index.js")],
  },
  module: {
    rules: [{ test: /\.css$/, use: ["style-loader", "css-loader"] }],
  },
  devServer: {
    port: 8080,
    contentBase: path.join(__dirname, "./dist"),
    historyApiFallback: true,
    host: "0.0.0.0",
  },
};

module.exports = merge({
  customizeArray(a, b, key) {
    if (key === "entry.app") {
      return b;
    } // Dev entry override
    return undefined;
  },
})(commonConfig, devConfig);
```

```javascript
// webpack.config.js â€” CHá»ˆ Cáº¤U HÃŒNH PRODUCTION

const merge = require("webpack-merge");
const webpack = require("webpack");
const CleanWebpackPlugin = require("clean-webpack-plugin");
const ExtractTextPlugin = require("extract-text-webpack-plugin");
const commonConfig = require("./webpack.common.config.js");

const publicConfig = {
  devtool: "cheap-module-source-map",
  module: {
    rules: [
      {
        test: /\.css$/,
        use: ExtractTextPlugin.extract({
          fallback: "style-loader",
          use: "css-loader",
        }),
      },
    ],
  },
  plugins: [
    new webpack.optimize.UglifyJsPlugin(),
    new webpack.DefinePlugin({
      "process.env": { NODE_ENV: JSON.stringify("production") },
    }),
    new webpack.HashedModuleIdsPlugin(),
    new CleanWebpackPlugin(["dist"]),
    new ExtractTextPlugin({ filename: "[name].[contenthash].css" }),
  ],
};

module.exports = merge(commonConfig, publicConfig);
```

---

## Â§20. Tá»‘i Æ¯u Cáº¥u TrÃºc ThÆ° Má»¥c & Trang 404

```
  Cáº¤U TRÃšC SAU KHI Tá»I Æ¯U:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  react-family/                                         â”‚
  â”‚  â”œâ”€â”€ src/                                              â”‚
  â”‚  â”‚   â”œâ”€â”€ index.js         â† Entry point               â”‚
  â”‚  â”‚   â”œâ”€â”€ index.html       â† HTML template             â”‚
  â”‚  â”‚   â”œâ”€â”€ api/             â† API calls                 â”‚
  â”‚  â”‚   â”œâ”€â”€ component/       â† Shared components         â”‚
  â”‚  â”‚   â”œâ”€â”€ pages/           â† Route pages               â”‚
  â”‚  â”‚   â”‚   â”œâ”€â”€ Home/                                    â”‚
  â”‚  â”‚   â”‚   â”œâ”€â”€ Page1/                                   â”‚
  â”‚  â”‚   â”‚   â”œâ”€â”€ Counter/                                 â”‚
  â”‚  â”‚   â”‚   â”œâ”€â”€ UserInfo/                                â”‚
  â”‚  â”‚   â”‚   â””â”€â”€ NotFound/    â† 404 page!                â”‚
  â”‚  â”‚   â”œâ”€â”€ router/          â† Routing                   â”‚
  â”‚  â”‚   â””â”€â”€ redux/           â† State management          â”‚
  â”‚  â”‚       â”œâ”€â”€ store.js                                 â”‚
  â”‚  â”‚       â”œâ”€â”€ reducers.js                              â”‚
  â”‚  â”‚       â”œâ”€â”€ actions/     â”œâ”€â”€ reducers/               â”‚
  â”‚  â”‚       â””â”€â”€ middleware/                              â”‚
  â”‚  â”œâ”€â”€ webpack.common.config.js                         â”‚
  â”‚  â”œâ”€â”€ webpack.dev.config.js                            â”‚
  â”‚  â”œâ”€â”€ webpack.config.js                                â”‚
  â”‚  â”œâ”€â”€ .babelrc                                         â”‚
  â”‚  â””â”€â”€ package.json                                     â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Trang 404

```javascript
// src/pages/NotFound/NotFound.js

import React, { Component } from "react";

export default class NotFound extends Component {
  render() {
    return (
      <div>
        <h1>404 â€” Trang khÃ´ng tá»“n táº¡i!</h1>
        <p>Xin lá»—i, trang báº¡n tÃ¬m kiáº¿m khÃ´ng cÃ³.</p>
      </div>
    );
  }
}
```

### Router â€” ThÃªm Route 404

```javascript
// src/router/router.js â€” THÃŠM 404

import NotFound from "bundle-loader?lazy&name=notFound!pages/NotFound/NotFound";

// Trong <Switch> â€” Route 404 pháº£i á» CUá»I!
<Switch>
  <Route exact path="/" component={createComponent(Home)} />
  <Route path="/page1" component={createComponent(Page1)} />
  <Route path="/counter" component={createComponent(Counter)} />
  <Route path="/userinfo" component={createComponent(UserInfo)} />
  {/* Route CUá»I CÃ™NG: khÃ´ng cÃ³ path â†’ match táº¥t cáº£! */}
  <Route component={createComponent(NotFound)} />
</Switch>;
```

```
  Táº I SAO ROUTE 404 á» CUá»I?
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  <Switch> render Route Äáº¦U TIÃŠN match!               â”‚
  â”‚                                                        â”‚
  â”‚  URL: "/page1"                                         â”‚
  â”‚  â†’ Route "/" exact â†’ KHÃ”NG                            â”‚
  â”‚  â†’ Route "/page1" â†’ MATCH! Dá»«ng!                     â”‚
  â”‚                                                        â”‚
  â”‚  URL: "/xyz"                                           â”‚
  â”‚  â†’ Táº¥t cáº£ routes â†’ KHÃ”NG match                       â”‚
  â”‚  â†’ Route (khÃ´ng path) â†’ MATCH! Render NotFound!       â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§21. Babel Polyfill & Transform Runtime

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  POLYFILL = LÃ€M CHO TRÃŒNH DUYá»†T CÅ¨ HIá»‚U CODE Má»šI!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  Váº¤N Äá»€:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Babel transpile CÃš PHÃP:                              â”‚
  â”‚  const â†’ var, arrow fn â†’ function, class â†’ prototype  â”‚
  â”‚                                                        â”‚
  â”‚  NHÆ¯NG Babel KHÃ”NG polyfill API Má»šI:                   â”‚
  â”‚  â†’ Promise, Map, Set, Array.from, Object.assign        â”‚
  â”‚  â†’ String.includes, Array.find, Symbol                 â”‚
  â”‚  â†’ fetch, Generator, async/await                       â”‚
  â”‚                                                        â”‚
  â”‚  IE11 KHÃ”NG CÃ“ Promise!                                â”‚
  â”‚  â†’ new Promise() â†’ ReferenceError: Promise not defined â”‚
  â”‚                                                        â”‚
  â”‚  2 GIáº¢I PHÃP:                                           â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
  â”‚  â”‚ babel-polyfill      â”‚ Import Táº¤T Cáº¢ polyfills  â”‚   â”‚
  â”‚  â”‚                     â”‚ (~89KB gzip, náº·ng!)       â”‚   â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
  â”‚  â”‚ transform-runtime   â”‚ Chá»‰ import CÃI Cáº¦N       â”‚   â”‚
  â”‚  â”‚                     â”‚ (nháº¹ hÆ¡n ráº¥t nhiá»u!)     â”‚   â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### babel-polyfill (CÃCH 1 â€” ÄÆ¡n giáº£n)

```bash
npm install babel-polyfill --save
```

```javascript
// webpack entry â€” THÃŠM polyfill VÃ€O Äáº¦U TIÃŠN
entry: {
  app: [
    "babel-polyfill", // â† Pháº£i trÆ°á»›c táº¥t cáº£!
    path.join(__dirname, "src/index.js"),
  ];
}
```

### babel-plugin-transform-runtime (CÃCH 2 â€” Tá»‘i Æ°u)

```bash
npm install babel-plugin-transform-runtime --save-dev
npm install babel-runtime --save
```

```json
// .babelrc â€” THÃŠM plugin
{
  "presets": ["es2015", "react", "stage-0"],
  "plugins": [
    "react-hot-loader/babel",
    "transform-runtime" // â† THÃŠM!
  ]
}
```

```
  SO SÃNH 2 CÃCH:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  babel-polyfill:                                       â”‚
  â”‚  âœ… Äáº§y Ä‘á»§: CÃ“ Táº¤T Cáº¢ polyfills                    â”‚
  â”‚  âœ… ÄÆ¡n giáº£n: chá»‰ cáº§n import 1 láº§n                   â”‚
  â”‚  âŒ Náº¶NG: ~89KB gzip, DÃ™ KHÃ”NG Cáº¦N Háº¾T             â”‚
  â”‚  âŒ Ã” nhiá»…m global: sá»­a String.prototype trá»±c tiáº¿p   â”‚
  â”‚                                                        â”‚
  â”‚  transform-runtime:                                    â”‚
  â”‚  âœ… Nháº¹: chá»‰ import ÄÃšNG CÃI Cáº¦N                   â”‚
  â”‚  âœ… Sáº¡ch: KHÃ”NG Ã´ nhiá»…m global scope                  â”‚
  â”‚  âœ… Tá»± Ä‘á»™ng: Babel scan code, import khi cáº§n          â”‚
  â”‚  âŒ KHÃ”NG polyfill instance methods:                   â”‚
  â”‚     "abc".includes("a") â†’ Lá»–I!                       â”‚
  â”‚  âŒ KHÃ”NG polyfill: Array.from, Object.entries...      â”‚
  â”‚                                                        â”‚
  â”‚  â­ KHUYáº¾N NGHá»Š:                                       â”‚
  â”‚  â†’ Library/Package â†’ dÃ¹ng transform-runtime (sáº¡ch)    â”‚
  â”‚  â†’ App â†’ dÃ¹ng babel-polyfill (Ä‘áº§y Ä‘á»§)               â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§22. PostCSS â€” Tá»± Äá»™ng ThÃªm Prefix CSS

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  POSTCSS = BABEL CHO CSS! Tá»° THÃŠM -webkit-, -moz-...!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  Váº¤N Äá»€:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  CSS má»›i KHÃ”NG hoáº¡t Ä‘á»™ng trÃªn trÃ¬nh duyá»‡t cÅ©!        â”‚
  â”‚                                                        â”‚
  â”‚  display: flex;                                        â”‚
  â”‚  â†’ OK trÃªn Chrome 29+                                 â”‚
  â”‚  â†’ Lá»–I trÃªn IE10, Safari 8!                          â”‚
  â”‚                                                        â”‚
  â”‚  Cáº¦N PHáº¢I VIáº¾T:                                        â”‚
  â”‚  display: -webkit-flex;                                â”‚
  â”‚  display: -ms-flexbox;                                 â”‚
  â”‚  display: flex;                                        â”‚
  â”‚                                                        â”‚
  â”‚  â†’ PHIá»€N! Tá»° VIáº¾T = Dá»„ QUÃŠN, Dá»„ SAI!               â”‚
  â”‚  â†’ PostCSS + Autoprefixer tá»± thÃªm!                    â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```bash
npm install postcss-loader autoprefixer --save-dev
```

### Cáº¥u hÃ¬nh PostCSS

```javascript
// postcss.config.js â€” Táº¡o á»Ÿ thÆ° má»¥c gá»‘c

module.exports = {
  plugins: [
    require("autoprefixer"), // Tá»± thÃªm vendor prefixes!
  ],
};
```

### Cáº­p nháº­t webpack rules

```javascript
// webpack â€” CSS rule (Dev)
{
    test: /\.css$/,
    use: ['style-loader', 'css-loader', 'postcss-loader']
    // Thá»© tá»±: postcss-loader â†’ css-loader â†’ style-loader
    // â‘  postcss-loader: thÃªm -webkit-, -moz-...
    // â‘¡ css-loader: xá»­ lÃ½ @import, url()
    // â‘¢ style-loader: inject <style>
}

// webpack â€” CSS rule (Production)
{
    test: /\.css$/,
    use: ExtractTextPlugin.extract({
        fallback: 'style-loader',
        use: ['css-loader', 'postcss-loader']
    })
}
```

```
  INPUT vs OUTPUT:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Báº N VIáº¾T:                       POSTCSS Táº O:         â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚ display: flex;     â”‚ â†’ â”‚ display: -webkit-flex; â”‚  â”‚
  â”‚  â”‚                    â”‚   â”‚ display: -ms-flexbox;  â”‚  â”‚
  â”‚  â”‚                    â”‚   â”‚ display: flex;         â”‚  â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
  â”‚  â”‚ ::placeholder {    â”‚ â†’ â”‚ ::-webkit-input-...  { â”‚  â”‚
  â”‚  â”‚   color: gray      â”‚   â”‚   color: gray         â”‚  â”‚
  â”‚  â”‚ }                  â”‚   â”‚ }                      â”‚  â”‚
  â”‚  â”‚                    â”‚   â”‚ ::-moz-placeholder {   â”‚  â”‚
  â”‚  â”‚                    â”‚   â”‚   color: gray          â”‚  â”‚
  â”‚  â”‚                    â”‚   â”‚ }                      â”‚  â”‚
  â”‚  â”‚                    â”‚   â”‚ ::placeholder {        â”‚  â”‚
  â”‚  â”‚                    â”‚   â”‚   color: gray          â”‚  â”‚
  â”‚  â”‚                    â”‚   â”‚ }                      â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§23. CSS Modules â€” CSS CÃ³ Scope

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  CSS MODULES = Má»–I COMPONENT CÃ“ CSS RIÃŠNG, KHÃ”NG XUNG Äá»˜T!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  Váº¤N Äá»€:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  CSS lÃ  GLOBAL máº·c Ä‘á»‹nh!                               â”‚
  â”‚                                                        â”‚
  â”‚  // Home.css                                           â”‚
  â”‚  .title { color: red; }                                â”‚
  â”‚                                                        â”‚
  â”‚  // Page1.css                                          â”‚
  â”‚  .title { color: blue; }                               â”‚
  â”‚                                                        â”‚
  â”‚  â†’ XUNG Äá»˜T! .title nÃ o tháº¯ng?                      â”‚
  â”‚  â†’ Phá»¥ thuá»™c thá»© tá»± import â†’ KHÃ”NG ÄOÃN ÄÆ¯á»¢C!       â”‚
  â”‚  â†’ Team lá»›n â†’ CHáº®C CHáº®N xung Ä‘á»™t!                   â”‚
  â”‚                                                        â”‚
  â”‚  GIáº¢I PHÃP: CSS Modules!                               â”‚
  â”‚  â†’ .title thÃ nh .Home_title_a1b2c                     â”‚
  â”‚  â†’ .title thÃ nh .Page1_title_d3e4f                    â”‚
  â”‚  â†’ Má»—i class tá»± Ä‘á»™ng cÃ³ tÃªn DUY NHáº¤T!                â”‚
  â”‚  â†’ KHÃ”NG BAO GIá»œ xung Ä‘á»™t!                            â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Báº­t CSS Modules trong webpack

```javascript
// webpack â€” CSS Modules rule (Dev)
{
    test: /\.css$/,
    use: ['style-loader', {
        loader: 'css-loader',
        options: {
            modules: true,                               // â† Báº¬T CSS Modules!
            localIdentName: '[local]--[hash:base64:5]'   // â† TÃªn class pattern
        }
    }, 'postcss-loader']
}

// webpack â€” CSS Modules rule (Production)
{
    test: /\.css$/,
    use: ExtractTextPlugin.extract({
        fallback: 'style-loader',
        use: [{
            loader: 'css-loader',
            options: {
                modules: true,
                localIdentName: '[local]--[hash:base64:5]'
            }
        }, 'postcss-loader']
    })
}
```

### Sá»­ dá»¥ng CSS Modules

```css
/* src/pages/Home/Home.css */
.title {
  color: red;
  font-size: 24px;
}
.description {
  color: gray;
}
```

```javascript
// src/pages/Home/Home.js
import React, { Component } from "react";
import styles from "./Home.css"; // â† Import nhÆ° object!

export default class Home extends Component {
  render() {
    return (
      <div>
        {/* styles.title = "title--a1b2c" */}
        <h1 className={styles.title}>Home Page</h1>
        <p className={styles.description}>Welcome!</p>
      </div>
    );
  }
}
```

```
  TRÆ¯á»šC vÃ  SAU CSS Modules:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  TRÆ¯á»šC (Global CSS):                                   â”‚
  â”‚  <h1 class="title">            â† Xung Ä‘á»™t!           â”‚
  â”‚                                                        â”‚
  â”‚  SAU (CSS Modules):                                    â”‚
  â”‚  <h1 class="title--a1b2c">    â† Unique!              â”‚
  â”‚                                                        â”‚
  â”‚  localIdentName pattern:                               â”‚
  â”‚  [local] = tÃªn class gá»‘c (title)                      â”‚
  â”‚  [hash:base64:5] = hash 5 kÃ½ tá»± (a1b2c)             â”‚
  â”‚  â†’ "title--a1b2c"                                     â”‚
  â”‚                                                        â”‚
  â”‚  âš  LÆ¯U Ã:                                            â”‚
  â”‚  Sau khi báº­t CSS Modules, KHÃ”NG THá»‚ dÃ¹ng:             â”‚
  â”‚  className="title"                                     â”‚
  â”‚  PHáº¢I dÃ¹ng:                                            â”‚
  â”‚  className={styles.title}                              â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§24. JSON Server â€” Mock API Cho Frontend

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  JSON-SERVER = API GIáº¢ CHá»ˆ TRONG 30 GIÃ‚Y!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


  Táº I SAO Cáº¦N MOCK API?
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Frontend vÃ  Backend phÃ¡t triá»ƒn SONG SONG!             â”‚
  â”‚  â†’ Backend chÆ°a xong API?                              â”‚
  â”‚  â†’ Frontend KHÃ”NG THá»‚ CHá»œ!                            â”‚
  â”‚  â†’ DÃ¹ng Mock API Ä‘á»ƒ dev trÆ°á»›c!                        â”‚
  â”‚                                                        â”‚
  â”‚  json-server:                                          â”‚
  â”‚  â†’ Táº¡o REST API tá»« 1 file JSON!                      â”‚
  â”‚  â†’ Há»— trá»£ GET, POST, PUT, PATCH, DELETE              â”‚
  â”‚  â†’ Há»— trá»£ pagination, filter, sort                   â”‚
  â”‚  â†’ KHÃ”NG Cáº¦N VIáº¾T CODE BACKEND!                      â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```bash
npm install json-server --save-dev
```

### Táº¡o dá»¯ liá»‡u mock

```json
// mock/db.json
{
  "user": {
    "id": 1,
    "name": "Nguyen Van A",
    "email": "a@example.com",
    "age": 25
  },
  "posts": [
    { "id": 1, "title": "BÃ i viáº¿t 1", "author": "A" },
    { "id": 2, "title": "BÃ i viáº¿t 2", "author": "B" }
  ],
  "comments": [
    { "id": 1, "postId": 1, "body": "Hay quÃ¡!" },
    { "id": 2, "postId": 1, "body": "Cáº£m Æ¡n!" }
  ]
}
```

### Cháº¡y JSON Server

```json
// package.json â€” ThÃªm script
"scripts": {
    "start": "webpack-dev-server --config webpack.dev.config.js --color --progress --hot",
    "build": "webpack --config webpack.config.js",
    "mock": "json-server --watch mock/db.json --port 3000"
}
```

```bash
npm run mock
# Server cháº¡y táº¡i http://localhost:3000
```

```
  CÃC API Tá»° Äá»˜NG CÃ“:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
  â”‚  â”‚ Request        â”‚ Káº¿t quáº£                           â”‚â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
  â”‚  â”‚ GET /user      â”‚ Tráº£ vá» user object                â”‚â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
  â”‚  â”‚ GET /posts     â”‚ Tráº£ vá» máº£ng posts                â”‚â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
  â”‚  â”‚ GET /posts/1   â”‚ Tráº£ vá» post cÃ³ id=1              â”‚â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
  â”‚  â”‚ GET /posts?    â”‚ Tráº£ vá» posts cá»§a author A        â”‚â”‚
  â”‚  â”‚   author=A     â”‚                                    â”‚â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
  â”‚  â”‚ GET /comments? â”‚ Tráº£ vá» comments cá»§a post 1       â”‚â”‚
  â”‚  â”‚   postId=1     â”‚                                    â”‚â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
  â”‚  â”‚ POST /posts    â”‚ Táº¡o post má»›i                     â”‚â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
  â”‚  â”‚ PUT /posts/1   â”‚ Cáº­p nháº­t toÃ n bá»™ post 1         â”‚â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
  â”‚  â”‚ PATCH /posts/1 â”‚ Cáº­p nháº­t 1 pháº§n post 1          â”‚â”‚
  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
  â”‚  â”‚ DELETE /posts/1â”‚ XÃ³a post 1                       â”‚â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
  â”‚                                                        â”‚
  â”‚  â­ Táº¤T Cáº¢ Tá»° Äá»˜NG tá»« 1 file db.json!               â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Káº¿t há»£p vá»›i Webpack DevServer Proxy

```javascript
// webpack.dev.config.js â€” Proxy API requests
devServer: {
    port: 8080,
    contentBase: path.join(__dirname, './dist'),
    historyApiFallback: true,
    host: '0.0.0.0',
    proxy: {
        "/api/*": {
            target: "http://localhost:3000",
            pathRewrite: { '^/api': '' },
            secure: false
            // /api/posts â†’ http://localhost:3000/posts
            // â†’ Frontend gá»i /api/posts
            // â†’ Proxy chuyá»ƒn Ä‘áº¿n json-server
        }
    }
}
```

```
  PROXY HOáº T Äá»˜NG:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  Browser â†’ http://localhost:8080/api/posts            â”‚
  â”‚                     â”‚                                  â”‚
  â”‚                     â–¼ webpack-dev-server proxy         â”‚
  â”‚                                                        â”‚
  â”‚  Rewrite: /api/posts â†’ /posts                        â”‚
  â”‚                     â”‚                                  â”‚
  â”‚                     â–¼                                  â”‚
  â”‚                                                        â”‚
  â”‚  json-server â†’ http://localhost:3000/posts            â”‚
  â”‚                     â”‚                                  â”‚
  â”‚                     â–¼ Tráº£ vá» JSON                     â”‚
  â”‚                                                        â”‚
  â”‚  Browser â† response                                   â”‚
  â”‚                                                        â”‚
  â”‚  â­ Lá»¢I ÃCH:                                          â”‚
  â”‚  â†’ CÃ¹ng domain â†’ KHÃ”NG cÃ³ CORS!                      â”‚
  â”‚  â†’ Chuyá»ƒn sang API tháº­t chá»‰ cáº§n Ä‘á»•i proxy target!   â”‚
  â”‚  â†’ Code frontend KHÃ”NG Cáº¦N Sá»¬A!                      â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Â§25. Tá»•ng Káº¿t â€” Webpack Dev Config HoÃ n Chá»‰nh

```javascript
// webpack.dev.config.js â€” PHIÃŠN Báº¢N CUá»I CÃ™NG (tham kháº£o)

const path = require("path");
const merge = require("webpack-merge");
const commonConfig = require("./webpack.common.config.js");

const devConfig = {
  devtool: "inline-source-map",
  entry: {
    app: ["react-hot-loader/patch", path.join(__dirname, "src/index.js")],
  },
  output: {
    filename: "[name].[hash].js",
  },
  module: {
    rules: [
      {
        test: /\.css$/,
        use: [
          "style-loader",
          {
            loader: "css-loader",
            options: {
              modules: true,
              localIdentName: "[local]--[hash:base64:5]",
            },
          },
          "postcss-loader",
        ],
      },
    ],
  },
  devServer: {
    port: 8080,
    contentBase: path.join(__dirname, "./dist"),
    historyApiFallback: true,
    host: "0.0.0.0",
    proxy: {
      "/api/*": {
        target: "http://localhost:3000",
        pathRewrite: { "^/api": "" },
        secure: false,
      },
    },
  },
};

module.exports = merge({
  customizeArray(a, b, key) {
    if (key === "entry.app") {
      return b;
    }
    return undefined;
  },
})(commonConfig, devConfig);
```

```
  Tá»”NG Há»¢P TOÃ€N Bá»˜ CÃ”NG NGHá»† ÄÃƒ Há»ŒC:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚                    REACT                       â”‚    â”‚
  â”‚  â”‚              (UI Components)                   â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                       â”‚                                â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
  â”‚  â”‚         â”‚          â”‚          â”‚          â”‚          â”‚
  â”‚  â–¼         â–¼          â–¼          â–¼          â–¼          â”‚
  â”‚ Webpack  Babel     Router     Redux      Axios       â”‚
  â”‚  â”‚         â”‚          â”‚          â”‚          â”‚          â”‚
  â”‚  â”œ Loaders â”œ ES6â†’ES5  â”œ SPA      â”œ Store    â”œ HTTP    â”‚
  â”‚  â”œ Plugins â”œ JSX      â”œ Switch   â”œ Actions  â”œ Proxy   â”‚
  â”‚  â”œ HMR     â”œ Polyfill â”œ Link     â”œ Reducers â”œ Intercepâ”‚
  â”‚  â”œ Split   â”œ Runtime  â”‚ 404      â”œ Thunk    â”‚         â”‚
  â”‚  â”œ Merge              â”‚          â”œ Connect  â”‚         â”‚
  â”‚  â”œ Cache               â”‚          â”‚          â”‚         â”‚
  â”‚  â”‚                     â”‚          â”‚          â”‚         â”‚
  â”‚  â”œ DevServer           â”‚          â”‚          â”‚         â”‚
  â”‚  â”‚  â”œ Proxy â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚          â”‚         â”‚
  â”‚  â”‚  â”” historyApiFallback          â”‚          â”‚         â”‚
  â”‚  â”‚                                â”‚          â”‚         â”‚
  â”‚  â”œ PostCSS (Autoprefixer)         â”‚          â”‚         â”‚
  â”‚  â”œ CSS Modules                    â”‚          â”‚         â”‚
  â”‚  â”” JSON Server â”€â”€ mock API â”€â”€â”€â”€â”€â”€â”€â”˜â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


  â­ CÃ‚U Há»I PHá»NG Váº¤N TIá»€M NÄ‚NG:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                                        â”‚
  â”‚  1. Webpack loader xá»­ lÃ½ theo thá»© tá»± nÃ o?            â”‚
  â”‚     â†’ Tá»« PHáº¢I sang TRÃI (right-to-left)!             â”‚
  â”‚                                                        â”‚
  â”‚  2. hash vs chunkhash khÃ¡c nhau tháº¿ nÃ o?              â”‚
  â”‚     â†’ hash = toÃ n bá»™ build, chunkhash = tá»«ng chunk   â”‚
  â”‚                                                        â”‚
  â”‚  3. Táº¡i sao cáº§n CommonsChunkPlugin?                    â”‚
  â”‚     â†’ TÃ¡ch vendor (React...) â†’ cache riÃªng           â”‚
  â”‚                                                        â”‚
  â”‚  4. Redux middleware hoáº¡t Ä‘á»™ng tháº¿ nÃ o?                â”‚
  â”‚     â†’ Cháº·n giá»¯a dispatch vÃ  reducer                   â”‚
  â”‚     â†’ store => next => action => ...                   â”‚
  â”‚                                                        â”‚
  â”‚  5. CSS Modules giáº£i quyáº¿t váº¥n Ä‘á» gÃ¬?                â”‚
  â”‚     â†’ CSS global scope â†’ class name unique            â”‚
  â”‚                                                        â”‚
  â”‚  6. babel-polyfill vs transform-runtime?               â”‚
  â”‚     â†’ polyfill = Ä‘áº§y Ä‘á»§, runtime = chá»‰ cÃ¡i cáº§n     â”‚
  â”‚                                                        â”‚
  â”‚  7. HMR hoáº¡t Ä‘á»™ng tháº¿ nÃ o?                             â”‚
  â”‚     â†’ WebSocket notify â†’ module.hot.accept â†’ patch    â”‚
  â”‚                                                        â”‚
  â”‚  8. Code splitting cÃ³ nhá»¯ng cÃ¡ch nÃ o?                  â”‚
  â”‚     â†’ Entry points, CommonsChunkPlugin, Dynamic importâ”‚
  â”‚     â†’ bundle-loader, React.lazy + Suspense (v16.6+)  â”‚
  â”‚                                                        â”‚
  â”‚  9. Táº¡i sao cáº§n proxy trong dev server?               â”‚
  â”‚     â†’ TrÃ¡nh CORS, dá»… chuyá»ƒn sang API tháº­t            â”‚
  â”‚                                                        â”‚
  â”‚  10. DefinePlugin lÃ m gÃ¬ cho production?              â”‚
  â”‚      â†’ Set NODE_ENV=production                        â”‚
  â”‚      â†’ React bá» warnings â†’ bundle nhá» hÆ¡n 30%      â”‚
  â”‚                                                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> **ChÃºc má»«ng!** Báº¡n Ä‘Ã£ xÃ¢y dá»±ng xong má»™t React project hoÃ n chá»‰nh tá»« sá»‘ 0, hiá»ƒu rÃµ Tá»ªNG CÃ”NG Cá»¤ bÃªn dÆ°á»›i framework hoáº¡t Ä‘á»™ng nhÆ° tháº¿ nÃ o. Kiáº¿n thá»©c nÃ y sáº½ giÃºp báº¡n debug nhanh hÆ¡n, config chÃ­nh xÃ¡c hÆ¡n, vÃ  tá»± tin hÆ¡n trong phá»ng váº¥n!
